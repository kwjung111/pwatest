var Pr=Object.create;var Ft=Object.defineProperty,zr=Object.defineProperties,Fr=Object.getOwnPropertyDescriptor,jr=Object.getOwnPropertyDescriptors,Wr=Object.getOwnPropertyNames,wi=Object.getOwnPropertySymbols,Ur=Object.getPrototypeOf,yi=Object.prototype.hasOwnProperty,Br=Object.prototype.propertyIsEnumerable;var zt=(s,e,t)=>e in s?Ft(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Q=(s,e)=>{for(var t in e||(e={}))yi.call(e,t)&&zt(s,t,e[t]);if(wi)for(var t of wi(e))Br.call(e,t)&&zt(s,t,e[t]);return s},ae=(s,e)=>zr(s,jr(e));var jt=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports);var Vr=(s,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Wr(e))!yi.call(s,n)&&n!==t&&Ft(s,n,{get:()=>e[n],enumerable:!(r=Fr(e,n))||r.enumerable});return s};var Wt=(s,e,t)=>(t=s!=null?Pr(Ur(s)):{},Vr(e||!s||!s.__esModule?Ft(t,"default",{value:s,enumerable:!0}):t,s));var l=(s,e,t)=>(zt(s,typeof e!="symbol"?e+"":e,t),t);var Li=jt((Mi,_i)=>{(function(s){var e;if(typeof define=="function"&&define.amd&&(define(s),e=!0),typeof Mi=="object"&&(_i.exports=s(),e=!0),!e){var t=window.Cookies,r=window.Cookies=s();r.noConflict=function(){return window.Cookies=t,r}}})(function(){function s(){for(var r=0,n={};r<arguments.length;r++){var u=arguments[r];for(var m in u)n[m]=u[m]}return n}function e(r){return r.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function t(r){function n(){}function u(h,v,b){if(!(typeof document>"u")){b=s({path:"/"},n.defaults,b),typeof b.expires=="number"&&(b.expires=new Date(new Date*1+b.expires*864e5)),b.expires=b.expires?b.expires.toUTCString():"";try{var i=JSON.stringify(v);/^[\{\[]/.test(i)&&(v=i)}catch(c){}v=r.write?r.write(v,h):encodeURIComponent(String(v)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),h=encodeURIComponent(String(h)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var o in b)!b[o]||(a+="; "+o,b[o]!==!0&&(a+="="+b[o].split(";")[0]));return document.cookie=h+"="+v+a}}function m(h,v){if(!(typeof document>"u")){for(var b={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var o=i[a].split("="),c=o.slice(1).join("=");!v&&c.charAt(0)==='"'&&(c=c.slice(1,-1));try{var d=e(o[0]);if(c=(r.read||r)(c,d)||e(c),v)try{c=JSON.parse(c)}catch(g){}if(b[d]=c,h===d)break}catch(g){}}return h?b[h]:b}}return n.set=u,n.get=function(h){return m(h,!1)},n.getJSON=function(h){return m(h,!0)},n.remove=function(h,v){u(h,"",s(v,{expires:-1}))},n.defaults={},n.withConverter=t,n}return t(function(){})})});var xi=jt((Ue,rt)=>{(function(s,e){"use strict";var t="1.0.34",r="",n="?",u="function",m="undefined",h="object",v="string",b="major",i="model",a="name",o="type",c="vendor",d="version",g="architecture",p="console",S="mobile",C="tablet",_="smarttv",j="wearable",$="embedded",Z=350,P="Amazon",I="Apple",X="ASUS",ee="BlackBerry",K="Browser",re="Chrome",z="Edge",A="Firefox",E="Google",O="Huawei",y="LG",x="Microsoft",N="Motorola",M="Opera",U="Samsung",ze="Sharp",Ce="Sony",Ot="Viera",Nt="Xiaomi",Tt="Zebra",gi="Facebook",fi="Chromium OS",vi="Mac OS",Tr=function(R,W){var T={};for(var J in R)W[J]&&W[J].length%2===0?T[J]=W[J].concat(R[J]):T[J]=R[J];return T},tt=function(R){for(var W={},T=0;T<R.length;T++)W[R[T].toUpperCase()]=R[T];return W},bi=function(R,W){return typeof R===v?Fe(W).indexOf(Fe(R))!==-1:!1},Fe=function(R){return R.toLowerCase()},Rr=function(R){return typeof R===v?R.replace(/[^\d\.]/g,r).split(".")[0]:e},Rt=function(R,W){if(typeof R===v)return R=R.replace(/^\s\s*/,r),typeof W===m?R:R.substring(0,Z)},je=function(R,W){for(var T=0,J,ge,ce,w,We,ue;T<W.length&&!We;){var Pt=W[T],Ai=W[T+1];for(J=ge=0;J<Pt.length&&!We&&Pt[J];)if(We=Pt[J++].exec(R),We)for(ce=0;ce<Ai.length;ce++)ue=We[++ge],w=Ai[ce],typeof w===h&&w.length>0?w.length===2?typeof w[1]==u?this[w[0]]=w[1].call(this,ue):this[w[0]]=w[1]:w.length===3?typeof w[1]===u&&!(w[1].exec&&w[1].test)?this[w[0]]=ue?w[1].call(this,ue,w[2]):e:this[w[0]]=ue?ue.replace(w[1],w[2]):e:w.length===4&&(this[w[0]]=ue?w[3].call(this,ue.replace(w[1],w[2])):e):this[w]=ue||e;T+=2}},kt=function(R,W){for(var T in W)if(typeof W[T]===h&&W[T].length>0){for(var J=0;J<W[T].length;J++)if(bi(W[T][J],R))return T===n?e:T}else if(bi(W[T],R))return T===n?e:T;return R},kr={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Si={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ci={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[a,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[a,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[a,d],[/opios[\/ ]+([\w\.]+)/i],[d,[a,M+" Mini"]],[/\bopr\/([\w\.]+)/i],[d,[a,M]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[a,d],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[d,[a,"UC"+K]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[d,[a,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[d,[a,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[a,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[d,[a,"IE"]],[/yabrowser\/([\w\.]+)/i],[d,[a,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[a,/(.+)/,"$1 Secure "+K],d],[/\bfocus\/([\w\.]+)/i],[d,[a,A+" Focus"]],[/\bopt\/([\w\.]+)/i],[d,[a,M+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[d,[a,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[a,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[a,M+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[d,[a,"MIUI "+K]],[/fxios\/([-\w\.]+)/i],[d,[a,A]],[/\bqihu|(qi?ho?o?|360)browser/i],[[a,"360 "+K]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[a,/(.+)/,"$1 "+K],d],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],d],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[a,d],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[a],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[a,gi],d],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[a,d],[/\bgsa\/([\w\.]+) .*safari\//i],[d,[a,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[d,[a,re+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[a,re+" WebView"],d],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[d,[a,"Android "+K]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[a,d],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[d,[a,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[d,a],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[a,[d,kt,kr]],[/(webkit|khtml)\/([\w\.]+)/i],[a,d],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[a,"Netscape"],d],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[d,[a,A+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[a,d],[/(cobalt)\/([\w\.]+)/i],[a,[d,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,Fe]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,r,Fe]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,Fe]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[i,[c,U],[o,C]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[i,[c,U],[o,S]],[/\((ip(?:hone|od)[\w ]*);/i],[i,[c,I],[o,S]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[i,[c,I],[o,C]],[/(macintosh);/i],[i,[c,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[i,[c,ze],[o,S]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[i,[c,O],[o,C]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[i,[c,O],[o,S]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[i,/_/g," "],[c,Nt],[o,S]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[i,/_/g," "],[c,Nt],[o,C]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[i,[c,"OPPO"],[o,S]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[i,[c,"Vivo"],[o,S]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[i,[c,"Realme"],[o,S]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[i,[c,N],[o,S]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[i,[c,N],[o,C]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[i,[c,y],[o,C]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[i,[c,y],[o,S]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[i,[c,"Lenovo"],[o,C]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[i,/_/g," "],[c,"Nokia"],[o,S]],[/(pixel c)\b/i],[i,[c,E],[o,C]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[i,[c,E],[o,S]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[i,[c,Ce],[o,S]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[i,"Xperia Tablet"],[c,Ce],[o,C]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[i,[c,"OnePlus"],[o,S]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[i,[c,P],[o,C]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[i,/(.+)/g,"Fire Phone $1"],[c,P],[o,S]],[/(playbook);[-\w\),; ]+(rim)/i],[i,c,[o,C]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[i,[c,ee],[o,S]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[i,[c,X],[o,C]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[i,[c,X],[o,S]],[/(nexus 9)/i],[i,[c,"HTC"],[o,C]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[c,[i,/_/g," "],[o,S]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[i,[c,"Acer"],[o,C]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[i,[c,"Meizu"],[o,S]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[c,i,[o,S]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[c,i,[o,C]],[/(surface duo)/i],[i,[c,x],[o,C]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[i,[c,"Fairphone"],[o,S]],[/(u304aa)/i],[i,[c,"AT&T"],[o,S]],[/\bsie-(\w*)/i],[i,[c,"Siemens"],[o,S]],[/\b(rct\w+) b/i],[i,[c,"RCA"],[o,C]],[/\b(venue[\d ]{2,7}) b/i],[i,[c,"Dell"],[o,C]],[/\b(q(?:mv|ta)\w+) b/i],[i,[c,"Verizon"],[o,C]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[i,[c,"Barnes & Noble"],[o,C]],[/\b(tm\d{3}\w+) b/i],[i,[c,"NuVision"],[o,C]],[/\b(k88) b/i],[i,[c,"ZTE"],[o,C]],[/\b(nx\d{3}j) b/i],[i,[c,"ZTE"],[o,S]],[/\b(gen\d{3}) b.+49h/i],[i,[c,"Swiss"],[o,S]],[/\b(zur\d{3}) b/i],[i,[c,"Swiss"],[o,C]],[/\b((zeki)?tb.*\b) b/i],[i,[c,"Zeki"],[o,C]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[c,"Dragon Touch"],i,[o,C]],[/\b(ns-?\w{0,9}) b/i],[i,[c,"Insignia"],[o,C]],[/\b((nxa|next)-?\w{0,9}) b/i],[i,[c,"NextBook"],[o,C]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[c,"Voice"],i,[o,S]],[/\b(lvtel\-)?(v1[12]) b/i],[[c,"LvTel"],i,[o,S]],[/\b(ph-1) /i],[i,[c,"Essential"],[o,S]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[i,[c,"Envizen"],[o,C]],[/\b(trio[-\w\. ]+) b/i],[i,[c,"MachSpeed"],[o,C]],[/\btu_(1491) b/i],[i,[c,"Rotor"],[o,C]],[/(shield[\w ]+) b/i],[i,[c,"Nvidia"],[o,C]],[/(sprint) (\w+)/i],[c,i,[o,S]],[/(kin\.[onetw]{3})/i],[[i,/\./g," "],[c,x],[o,S]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[i,[c,Tt],[o,C]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[i,[c,Tt],[o,S]],[/smart-tv.+(samsung)/i],[c,[o,_]],[/hbbtv.+maple;(\d+)/i],[[i,/^/,"SmartTV"],[c,U],[o,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[c,y],[o,_]],[/(apple) ?tv/i],[c,[i,I+" TV"],[o,_]],[/crkey/i],[[i,re+"cast"],[c,E],[o,_]],[/droid.+aft(\w)( bui|\))/i],[i,[c,P],[o,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[i,[c,ze],[o,_]],[/(bravia[\w ]+)( bui|\))/i],[i,[c,Ce],[o,_]],[/(mitv-\w{5}) bui/i],[i,[c,Nt],[o,_]],[/Hbbtv.*(technisat) (.*);/i],[c,i,[o,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[c,Rt],[i,Rt],[o,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[o,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[c,i,[o,p]],[/droid.+; (shield) bui/i],[i,[c,"Nvidia"],[o,p]],[/(playstation [345portablevi]+)/i],[i,[c,Ce],[o,p]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[i,[c,x],[o,p]],[/((pebble))app/i],[c,i,[o,j]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[i,[c,I],[o,j]],[/droid.+; (glass) \d/i],[i,[c,E],[o,j]],[/droid.+; (wt63?0{2,3})\)/i],[i,[c,Tt],[o,j]],[/(quest( 2| pro)?)/i],[i,[c,gi],[o,j]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[c,[o,$]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[i,[o,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[i,[o,C]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[o,C]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[o,S]],[/(android[-\w\. ]{0,9});.+buil/i],[i,[c,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[d,[a,z+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[a,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[a,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,a]],os:[[/microsoft (windows) (vista|xp)/i],[a,d],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[a,[d,kt,Si]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[a,"Windows"],[d,kt,Si]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[a,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[a,vi],[d,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[d,a],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[a,d],[/\(bb(10);/i],[d,[a,ee]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[d,[a,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[d,[a,A+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[a,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[d,[a,"watchOS"]],[/crkey\/([\d\.]+)/i],[d,[a,re+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[a,fi],d],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[a,d],[/(sunos) ?([\w\.\d]*)/i],[[a,"Solaris"],d],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[a,d]]},oe=function(R,W){if(typeof R===h&&(W=R,R=e),!(this instanceof oe))return new oe(R,W).getResult();var T=typeof s!==m&&s.navigator?s.navigator:e,J=R||(T&&T.userAgent?T.userAgent:r),ge=T&&T.userAgentData?T.userAgentData:e,ce=W?Tr(Ci,W):Ci;return this.getBrowser=function(){var w={};return w[a]=e,w[d]=e,je.call(w,J,ce.browser),w[b]=Rr(w[d]),T&&T.brave&&typeof T.brave.isBrave==u&&(w[a]="Brave"),w},this.getCPU=function(){var w={};return w[g]=e,je.call(w,J,ce.cpu),w},this.getDevice=function(){var w={};return w[c]=e,w[i]=e,w[o]=e,je.call(w,J,ce.device),!w[o]&&ge&&ge.mobile&&(w[o]=S),w[i]=="Macintosh"&&T&&typeof T.standalone!==m&&T.maxTouchPoints&&T.maxTouchPoints>2&&(w[i]="iPad",w[o]=C),w},this.getEngine=function(){var w={};return w[a]=e,w[d]=e,je.call(w,J,ce.engine),w},this.getOS=function(){var w={};return w[a]=e,w[d]=e,je.call(w,J,ce.os),!w[a]&&ge&&ge.platform!="Unknown"&&(w[a]=ge.platform.replace(/chrome os/i,fi).replace(/macos/i,vi)),w},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return J},this.setUA=function(w){return J=typeof w===v&&w.length>Z?Rt(w,Z):w,this},this.setUA(J),this};oe.VERSION=t,oe.BROWSER=tt([a,d,b]),oe.CPU=tt([g]),oe.DEVICE=tt([i,c,o,p,S,_,C,j,$]),oe.ENGINE=oe.OS=tt([a,d]),typeof Ue!==m?(typeof rt!==m&&rt.exports&&(Ue=rt.exports=oe),Ue.UAParser=oe):typeof define===u&&define.amd?define(function(){return oe}):typeof s!==m&&(s.UAParser=oe);var De=typeof s!==m&&(s.jQuery||s.Zepto);if(De&&!De.ua){var it=new oe;De.ua=it.getResult(),De.ua.get=function(){return it.getUA()},De.ua.set=function(R){it.setUA(R);var W=it.getResult();for(var T in W)De.ua[T]=W[T]}}})(typeof window=="object"?window:Ue)});var dr=jt(Ct=>{(function(){"use strict";var s=function(){this.init()};s.prototype={init:function(){var i=this||e;return i._counter=1e3,i._html5AudioPool=[],i.html5PoolSize=10,i._codecs={},i._howls=[],i._muted=!1,i._volume=1,i._canPlayEvent="canplaythrough",i._navigator=typeof window<"u"&&window.navigator?window.navigator:null,i.masterGain=null,i.noAudio=!1,i.usingWebAudio=!0,i.autoSuspend=!0,i.ctx=null,i.autoUnlock=!0,i._setup(),i},volume:function(i){var a=this||e;if(i=parseFloat(i),a.ctx||b(),typeof i<"u"&&i>=0&&i<=1){if(a._volume=i,a._muted)return a;a.usingWebAudio&&a.masterGain.gain.setValueAtTime(i,e.ctx.currentTime);for(var o=0;o<a._howls.length;o++)if(!a._howls[o]._webAudio)for(var c=a._howls[o]._getSoundIds(),d=0;d<c.length;d++){var g=a._howls[o]._soundById(c[d]);g&&g._node&&(g._node.volume=g._volume*i)}return a}return a._volume},mute:function(i){var a=this||e;a.ctx||b(),a._muted=i,a.usingWebAudio&&a.masterGain.gain.setValueAtTime(i?0:a._volume,e.ctx.currentTime);for(var o=0;o<a._howls.length;o++)if(!a._howls[o]._webAudio)for(var c=a._howls[o]._getSoundIds(),d=0;d<c.length;d++){var g=a._howls[o]._soundById(c[d]);g&&g._node&&(g._node.muted=i?!0:g._muted)}return a},stop:function(){for(var i=this||e,a=0;a<i._howls.length;a++)i._howls[a].stop();return i},unload:function(){for(var i=this||e,a=i._howls.length-1;a>=0;a--)i._howls[a].unload();return i.usingWebAudio&&i.ctx&&typeof i.ctx.close<"u"&&(i.ctx.close(),i.ctx=null,b()),i},codecs:function(i){return(this||e)._codecs[i.replace(/^x-/,"")]},_setup:function(){var i=this||e;if(i.state=i.ctx&&i.ctx.state||"suspended",i._autoSuspend(),!i.usingWebAudio)if(typeof Audio<"u")try{var a=new Audio;typeof a.oncanplaythrough>"u"&&(i._canPlayEvent="canplay")}catch(o){i.noAudio=!0}else i.noAudio=!0;try{var a=new Audio;a.muted&&(i.noAudio=!0)}catch(o){}return i.noAudio||i._setupCodecs(),i},_setupCodecs:function(){var i=this||e,a=null;try{a=typeof Audio<"u"?new Audio:null}catch(_){return i}if(!a||typeof a.canPlayType!="function")return i;var o=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c=i._navigator?i._navigator.userAgent:"",d=c.match(/OPR\/([0-6].)/g),g=d&&parseInt(d[0].split("/")[1],10)<33,p=c.indexOf("Safari")!==-1&&c.indexOf("Chrome")===-1,S=c.match(/Version\/(.*?) /),C=p&&S&&parseInt(S[1],10)<15;return i._codecs={mp3:!!(!g&&(o||a.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!o,opus:!!a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(a.canPlayType('audio/wav; codecs="1"')||a.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!a.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!a.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(a.canPlayType("audio/x-m4b;")||a.canPlayType("audio/m4b;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(a.canPlayType("audio/x-mp4;")||a.canPlayType("audio/mp4;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!C&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!C&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!a.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(a.canPlayType("audio/x-flac;")||a.canPlayType("audio/flac;")).replace(/^no$/,"")},i},_unlockAudio:function(){var i=this||e;if(!(i._audioUnlocked||!i.ctx)){i._audioUnlocked=!1,i.autoUnlock=!1,!i._mobileUnloaded&&i.ctx.sampleRate!==44100&&(i._mobileUnloaded=!0,i.unload()),i._scratchBuffer=i.ctx.createBuffer(1,1,22050);var a=function(o){for(;i._html5AudioPool.length<i.html5PoolSize;)try{var c=new Audio;c._unlocked=!0,i._releaseHtml5Audio(c)}catch(_){i.noAudio=!0;break}for(var d=0;d<i._howls.length;d++)if(!i._howls[d]._webAudio)for(var g=i._howls[d]._getSoundIds(),p=0;p<g.length;p++){var S=i._howls[d]._soundById(g[p]);S&&S._node&&!S._node._unlocked&&(S._node._unlocked=!0,S._node.load())}i._autoResume();var C=i.ctx.createBufferSource();C.buffer=i._scratchBuffer,C.connect(i.ctx.destination),typeof C.start>"u"?C.noteOn(0):C.start(0),typeof i.ctx.resume=="function"&&i.ctx.resume(),C.onended=function(){C.disconnect(0),i._audioUnlocked=!0,document.removeEventListener("touchstart",a,!0),document.removeEventListener("touchend",a,!0),document.removeEventListener("click",a,!0),document.removeEventListener("keydown",a,!0);for(var _=0;_<i._howls.length;_++)i._howls[_]._emit("unlock")}};return document.addEventListener("touchstart",a,!0),document.addEventListener("touchend",a,!0),document.addEventListener("click",a,!0),document.addEventListener("keydown",a,!0),i}},_obtainHtml5Audio:function(){var i=this||e;if(i._html5AudioPool.length)return i._html5AudioPool.pop();var a=new Audio().play();return a&&typeof Promise<"u"&&(a instanceof Promise||typeof a.then=="function")&&a.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(i){var a=this||e;return i._unlocked&&a._html5AudioPool.push(i),a},_autoSuspend:function(){var i=this;if(!(!i.autoSuspend||!i.ctx||typeof i.ctx.suspend>"u"||!e.usingWebAudio)){for(var a=0;a<i._howls.length;a++)if(i._howls[a]._webAudio){for(var o=0;o<i._howls[a]._sounds.length;o++)if(!i._howls[a]._sounds[o]._paused)return i}return i._suspendTimer&&clearTimeout(i._suspendTimer),i._suspendTimer=setTimeout(function(){if(!!i.autoSuspend){i._suspendTimer=null,i.state="suspending";var c=function(){i.state="suspended",i._resumeAfterSuspend&&(delete i._resumeAfterSuspend,i._autoResume())};i.ctx.suspend().then(c,c)}},3e4),i}},_autoResume:function(){var i=this;if(!(!i.ctx||typeof i.ctx.resume>"u"||!e.usingWebAudio))return i.state==="running"&&i.ctx.state!=="interrupted"&&i._suspendTimer?(clearTimeout(i._suspendTimer),i._suspendTimer=null):i.state==="suspended"||i.state==="running"&&i.ctx.state==="interrupted"?(i.ctx.resume().then(function(){i.state="running";for(var a=0;a<i._howls.length;a++)i._howls[a]._emit("resume")}),i._suspendTimer&&(clearTimeout(i._suspendTimer),i._suspendTimer=null)):i.state==="suspending"&&(i._resumeAfterSuspend=!0),i}};var e=new s,t=function(i){var a=this;if(!i.src||i.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}a.init(i)};t.prototype={init:function(i){var a=this;return e.ctx||b(),a._autoplay=i.autoplay||!1,a._format=typeof i.format!="string"?i.format:[i.format],a._html5=i.html5||!1,a._muted=i.mute||!1,a._loop=i.loop||!1,a._pool=i.pool||5,a._preload=typeof i.preload=="boolean"||i.preload==="metadata"?i.preload:!0,a._rate=i.rate||1,a._sprite=i.sprite||{},a._src=typeof i.src!="string"?i.src:[i.src],a._volume=i.volume!==void 0?i.volume:1,a._xhr={method:i.xhr&&i.xhr.method?i.xhr.method:"GET",headers:i.xhr&&i.xhr.headers?i.xhr.headers:null,withCredentials:i.xhr&&i.xhr.withCredentials?i.xhr.withCredentials:!1},a._duration=0,a._state="unloaded",a._sounds=[],a._endTimers={},a._queue=[],a._playLock=!1,a._onend=i.onend?[{fn:i.onend}]:[],a._onfade=i.onfade?[{fn:i.onfade}]:[],a._onload=i.onload?[{fn:i.onload}]:[],a._onloaderror=i.onloaderror?[{fn:i.onloaderror}]:[],a._onplayerror=i.onplayerror?[{fn:i.onplayerror}]:[],a._onpause=i.onpause?[{fn:i.onpause}]:[],a._onplay=i.onplay?[{fn:i.onplay}]:[],a._onstop=i.onstop?[{fn:i.onstop}]:[],a._onmute=i.onmute?[{fn:i.onmute}]:[],a._onvolume=i.onvolume?[{fn:i.onvolume}]:[],a._onrate=i.onrate?[{fn:i.onrate}]:[],a._onseek=i.onseek?[{fn:i.onseek}]:[],a._onunlock=i.onunlock?[{fn:i.onunlock}]:[],a._onresume=[],a._webAudio=e.usingWebAudio&&!a._html5,typeof e.ctx<"u"&&e.ctx&&e.autoUnlock&&e._unlockAudio(),e._howls.push(a),a._autoplay&&a._queue.push({event:"play",action:function(){a.play()}}),a._preload&&a._preload!=="none"&&a.load(),a},load:function(){var i=this,a=null;if(e.noAudio){i._emit("loaderror",null,"No audio support.");return}typeof i._src=="string"&&(i._src=[i._src]);for(var o=0;o<i._src.length;o++){var c,d;if(i._format&&i._format[o])c=i._format[o];else{if(d=i._src[o],typeof d!="string"){i._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}c=/^data:audio\/([^;,]+);/i.exec(d),c||(c=/\.([^.]+)$/.exec(d.split("?",1)[0])),c&&(c=c[1].toLowerCase())}if(c||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),c&&e.codecs(c)){a=i._src[o];break}}if(!a){i._emit("loaderror",null,"No codec support for selected audio sources.");return}return i._src=a,i._state="loading",window.location.protocol==="https:"&&a.slice(0,5)==="http:"&&(i._html5=!0,i._webAudio=!1),new r(i),i._webAudio&&u(i),i},play:function(i,a){var o=this,c=null;if(typeof i=="number")c=i,i=null;else{if(typeof i=="string"&&o._state==="loaded"&&!o._sprite[i])return null;if(typeof i>"u"&&(i="__default",!o._playLock)){for(var d=0,g=0;g<o._sounds.length;g++)o._sounds[g]._paused&&!o._sounds[g]._ended&&(d++,c=o._sounds[g]._id);d===1?i=null:c=null}}var p=c?o._soundById(c):o._inactiveSound();if(!p)return null;if(c&&!i&&(i=p._sprite||"__default"),o._state!=="loaded"){p._sprite=i,p._ended=!1;var S=p._id;return o._queue.push({event:"play",action:function(){o.play(S)}}),S}if(c&&!p._paused)return a||o._loadQueue("play"),p._id;o._webAudio&&e._autoResume();var C=Math.max(0,p._seek>0?p._seek:o._sprite[i][0]/1e3),_=Math.max(0,(o._sprite[i][0]+o._sprite[i][1])/1e3-C),j=_*1e3/Math.abs(p._rate),$=o._sprite[i][0]/1e3,Z=(o._sprite[i][0]+o._sprite[i][1])/1e3;p._sprite=i,p._ended=!1;var P=function(){p._paused=!1,p._seek=C,p._start=$,p._stop=Z,p._loop=!!(p._loop||o._sprite[i][2])};if(C>=Z){o._ended(p);return}var I=p._node;if(o._webAudio){var X=function(){o._playLock=!1,P(),o._refreshBuffer(p);var z=p._muted||o._muted?0:p._volume;I.gain.setValueAtTime(z,e.ctx.currentTime),p._playStart=e.ctx.currentTime,typeof I.bufferSource.start>"u"?p._loop?I.bufferSource.noteGrainOn(0,C,86400):I.bufferSource.noteGrainOn(0,C,_):p._loop?I.bufferSource.start(0,C,86400):I.bufferSource.start(0,C,_),j!==1/0&&(o._endTimers[p._id]=setTimeout(o._ended.bind(o,p),j)),a||setTimeout(function(){o._emit("play",p._id),o._loadQueue()},0)};e.state==="running"&&e.ctx.state!=="interrupted"?X():(o._playLock=!0,o.once("resume",X),o._clearTimer(p._id))}else{var ee=function(){I.currentTime=C,I.muted=p._muted||o._muted||e._muted||I.muted,I.volume=p._volume*e.volume(),I.playbackRate=p._rate;try{var z=I.play();if(z&&typeof Promise<"u"&&(z instanceof Promise||typeof z.then=="function")?(o._playLock=!0,P(),z.then(function(){o._playLock=!1,I._unlocked=!0,a?o._loadQueue():o._emit("play",p._id)}).catch(function(){o._playLock=!1,o._emit("playerror",p._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),p._ended=!0,p._paused=!0})):a||(o._playLock=!1,P(),o._emit("play",p._id)),I.playbackRate=p._rate,I.paused){o._emit("playerror",p._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}i!=="__default"||p._loop?o._endTimers[p._id]=setTimeout(o._ended.bind(o,p),j):(o._endTimers[p._id]=function(){o._ended(p),I.removeEventListener("ended",o._endTimers[p._id],!1)},I.addEventListener("ended",o._endTimers[p._id],!1))}catch(A){o._emit("playerror",p._id,A)}};I.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(I.src=o._src,I.load());var K=window&&window.ejecta||!I.readyState&&e._navigator.isCocoonJS;if(I.readyState>=3||K)ee();else{o._playLock=!0,o._state="loading";var re=function(){o._state="loaded",ee(),I.removeEventListener(e._canPlayEvent,re,!1)};I.addEventListener(e._canPlayEvent,re,!1),o._clearTimer(p._id)}}return p._id},pause:function(i){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"pause",action:function(){a.pause(i)}}),a;for(var o=a._getSoundIds(i),c=0;c<o.length;c++){a._clearTimer(o[c]);var d=a._soundById(o[c]);if(d&&!d._paused&&(d._seek=a.seek(o[c]),d._rateSeek=0,d._paused=!0,a._stopFade(o[c]),d._node))if(a._webAudio){if(!d._node.bufferSource)continue;typeof d._node.bufferSource.stop>"u"?d._node.bufferSource.noteOff(0):d._node.bufferSource.stop(0),a._cleanBuffer(d._node)}else(!isNaN(d._node.duration)||d._node.duration===1/0)&&d._node.pause();arguments[1]||a._emit("pause",d?d._id:null)}return a},stop:function(i,a){var o=this;if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"stop",action:function(){o.stop(i)}}),o;for(var c=o._getSoundIds(i),d=0;d<c.length;d++){o._clearTimer(c[d]);var g=o._soundById(c[d]);g&&(g._seek=g._start||0,g._rateSeek=0,g._paused=!0,g._ended=!0,o._stopFade(c[d]),g._node&&(o._webAudio?g._node.bufferSource&&(typeof g._node.bufferSource.stop>"u"?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),o._cleanBuffer(g._node)):(!isNaN(g._node.duration)||g._node.duration===1/0)&&(g._node.currentTime=g._start||0,g._node.pause(),g._node.duration===1/0&&o._clearSound(g._node))),a||o._emit("stop",g._id))}return o},mute:function(i,a){var o=this;if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"mute",action:function(){o.mute(i,a)}}),o;if(typeof a>"u")if(typeof i=="boolean")o._muted=i;else return o._muted;for(var c=o._getSoundIds(a),d=0;d<c.length;d++){var g=o._soundById(c[d]);g&&(g._muted=i,g._interval&&o._stopFade(g._id),o._webAudio&&g._node?g._node.gain.setValueAtTime(i?0:g._volume,e.ctx.currentTime):g._node&&(g._node.muted=e._muted?!0:i),o._emit("mute",g._id))}return o},volume:function(){var i=this,a=arguments,o,c;if(a.length===0)return i._volume;if(a.length===1||a.length===2&&typeof a[1]>"u"){var d=i._getSoundIds(),g=d.indexOf(a[0]);g>=0?c=parseInt(a[0],10):o=parseFloat(a[0])}else a.length>=2&&(o=parseFloat(a[0]),c=parseInt(a[1],10));var p;if(typeof o<"u"&&o>=0&&o<=1){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,a)}}),i;typeof c>"u"&&(i._volume=o),c=i._getSoundIds(c);for(var S=0;S<c.length;S++)p=i._soundById(c[S]),p&&(p._volume=o,a[2]||i._stopFade(c[S]),i._webAudio&&p._node&&!p._muted?p._node.gain.setValueAtTime(o,e.ctx.currentTime):p._node&&!p._muted&&(p._node.volume=o*e.volume()),i._emit("volume",p._id))}else return p=c?i._soundById(c):i._sounds[0],p?p._volume:0;return i},fade:function(i,a,o,c){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"fade",action:function(){d.fade(i,a,o,c)}}),d;i=Math.min(Math.max(0,parseFloat(i)),1),a=Math.min(Math.max(0,parseFloat(a)),1),o=parseFloat(o),d.volume(i,c);for(var g=d._getSoundIds(c),p=0;p<g.length;p++){var S=d._soundById(g[p]);if(S){if(c||d._stopFade(g[p]),d._webAudio&&!S._muted){var C=e.ctx.currentTime,_=C+o/1e3;S._volume=i,S._node.gain.setValueAtTime(i,C),S._node.gain.linearRampToValueAtTime(a,_)}d._startFadeInterval(S,i,a,o,g[p],typeof c>"u")}}return d},_startFadeInterval:function(i,a,o,c,d,g){var p=this,S=a,C=o-a,_=Math.abs(C/.01),j=Math.max(4,_>0?c/_:c),$=Date.now();i._fadeTo=o,i._interval=setInterval(function(){var Z=(Date.now()-$)/c;$=Date.now(),S+=C*Z,S=Math.round(S*100)/100,C<0?S=Math.max(o,S):S=Math.min(o,S),p._webAudio?i._volume=S:p.volume(S,i._id,!0),g&&(p._volume=S),(o<a&&S<=o||o>a&&S>=o)&&(clearInterval(i._interval),i._interval=null,i._fadeTo=null,p.volume(o,i._id),p._emit("fade",i._id))},j)},_stopFade:function(i){var a=this,o=a._soundById(i);return o&&o._interval&&(a._webAudio&&o._node.gain.cancelScheduledValues(e.ctx.currentTime),clearInterval(o._interval),o._interval=null,a.volume(o._fadeTo,i),o._fadeTo=null,a._emit("fade",i)),a},loop:function(){var i=this,a=arguments,o,c,d;if(a.length===0)return i._loop;if(a.length===1)if(typeof a[0]=="boolean")o=a[0],i._loop=o;else return d=i._soundById(parseInt(a[0],10)),d?d._loop:!1;else a.length===2&&(o=a[0],c=parseInt(a[1],10));for(var g=i._getSoundIds(c),p=0;p<g.length;p++)d=i._soundById(g[p]),d&&(d._loop=o,i._webAudio&&d._node&&d._node.bufferSource&&(d._node.bufferSource.loop=o,o&&(d._node.bufferSource.loopStart=d._start||0,d._node.bufferSource.loopEnd=d._stop,i.playing(g[p])&&(i.pause(g[p],!0),i.play(g[p],!0)))));return i},rate:function(){var i=this,a=arguments,o,c;if(a.length===0)c=i._sounds[0]._id;else if(a.length===1){var d=i._getSoundIds(),g=d.indexOf(a[0]);g>=0?c=parseInt(a[0],10):o=parseFloat(a[0])}else a.length===2&&(o=parseFloat(a[0]),c=parseInt(a[1],10));var p;if(typeof o=="number"){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,a)}}),i;typeof c>"u"&&(i._rate=o),c=i._getSoundIds(c);for(var S=0;S<c.length;S++)if(p=i._soundById(c[S]),p){i.playing(c[S])&&(p._rateSeek=i.seek(c[S]),p._playStart=i._webAudio?e.ctx.currentTime:p._playStart),p._rate=o,i._webAudio&&p._node&&p._node.bufferSource?p._node.bufferSource.playbackRate.setValueAtTime(o,e.ctx.currentTime):p._node&&(p._node.playbackRate=o);var C=i.seek(c[S]),_=(i._sprite[p._sprite][0]+i._sprite[p._sprite][1])/1e3-C,j=_*1e3/Math.abs(p._rate);(i._endTimers[c[S]]||!p._paused)&&(i._clearTimer(c[S]),i._endTimers[c[S]]=setTimeout(i._ended.bind(i,p),j)),i._emit("rate",p._id)}}else return p=i._soundById(c),p?p._rate:i._rate;return i},seek:function(){var i=this,a=arguments,o,c;if(a.length===0)i._sounds.length&&(c=i._sounds[0]._id);else if(a.length===1){var d=i._getSoundIds(),g=d.indexOf(a[0]);g>=0?c=parseInt(a[0],10):i._sounds.length&&(c=i._sounds[0]._id,o=parseFloat(a[0]))}else a.length===2&&(o=parseFloat(a[0]),c=parseInt(a[1],10));if(typeof c>"u")return 0;if(typeof o=="number"&&(i._state!=="loaded"||i._playLock))return i._queue.push({event:"seek",action:function(){i.seek.apply(i,a)}}),i;var p=i._soundById(c);if(p)if(typeof o=="number"&&o>=0){var S=i.playing(c);S&&i.pause(c,!0),p._seek=o,p._ended=!1,i._clearTimer(c),!i._webAudio&&p._node&&!isNaN(p._node.duration)&&(p._node.currentTime=o);var C=function(){S&&i.play(c,!0),i._emit("seek",c)};if(S&&!i._webAudio){var _=function(){i._playLock?setTimeout(_,0):C()};setTimeout(_,0)}else C()}else if(i._webAudio){var j=i.playing(c)?e.ctx.currentTime-p._playStart:0,$=p._rateSeek?p._rateSeek-p._seek:0;return p._seek+($+j*Math.abs(p._rate))}else return p._node.currentTime;return i},playing:function(i){var a=this;if(typeof i=="number"){var o=a._soundById(i);return o?!o._paused:!1}for(var c=0;c<a._sounds.length;c++)if(!a._sounds[c]._paused)return!0;return!1},duration:function(i){var a=this,o=a._duration,c=a._soundById(i);return c&&(o=a._sprite[c._sprite][1]/1e3),o},state:function(){return this._state},unload:function(){for(var i=this,a=i._sounds,o=0;o<a.length;o++)a[o]._paused||i.stop(a[o]._id),i._webAudio||(i._clearSound(a[o]._node),a[o]._node.removeEventListener("error",a[o]._errorFn,!1),a[o]._node.removeEventListener(e._canPlayEvent,a[o]._loadFn,!1),a[o]._node.removeEventListener("ended",a[o]._endFn,!1),e._releaseHtml5Audio(a[o]._node)),delete a[o]._node,i._clearTimer(a[o]._id);var c=e._howls.indexOf(i);c>=0&&e._howls.splice(c,1);var d=!0;for(o=0;o<e._howls.length;o++)if(e._howls[o]._src===i._src||i._src.indexOf(e._howls[o]._src)>=0){d=!1;break}return n&&d&&delete n[i._src],e.noAudio=!1,i._state="unloaded",i._sounds=[],i=null,null},on:function(i,a,o,c){var d=this,g=d["_on"+i];return typeof a=="function"&&g.push(c?{id:o,fn:a,once:c}:{id:o,fn:a}),d},off:function(i,a,o){var c=this,d=c["_on"+i],g=0;if(typeof a=="number"&&(o=a,a=null),a||o)for(g=0;g<d.length;g++){var p=o===d[g].id;if(a===d[g].fn&&p||!a&&p){d.splice(g,1);break}}else if(i)c["_on"+i]=[];else{var S=Object.keys(c);for(g=0;g<S.length;g++)S[g].indexOf("_on")===0&&Array.isArray(c[S[g]])&&(c[S[g]]=[])}return c},once:function(i,a,o){var c=this;return c.on(i,a,o,1),c},_emit:function(i,a,o){for(var c=this,d=c["_on"+i],g=d.length-1;g>=0;g--)(!d[g].id||d[g].id===a||i==="load")&&(setTimeout(function(p){p.call(this,a,o)}.bind(c,d[g].fn),0),d[g].once&&c.off(i,d[g].fn,d[g].id));return c._loadQueue(i),c},_loadQueue:function(i){var a=this;if(a._queue.length>0){var o=a._queue[0];o.event===i&&(a._queue.shift(),a._loadQueue()),i||o.action()}return a},_ended:function(i){var a=this,o=i._sprite;if(!a._webAudio&&i._node&&!i._node.paused&&!i._node.ended&&i._node.currentTime<i._stop)return setTimeout(a._ended.bind(a,i),100),a;var c=!!(i._loop||a._sprite[o][2]);if(a._emit("end",i._id),!a._webAudio&&c&&a.stop(i._id,!0).play(i._id),a._webAudio&&c){a._emit("play",i._id),i._seek=i._start||0,i._rateSeek=0,i._playStart=e.ctx.currentTime;var d=(i._stop-i._start)*1e3/Math.abs(i._rate);a._endTimers[i._id]=setTimeout(a._ended.bind(a,i),d)}return a._webAudio&&!c&&(i._paused=!0,i._ended=!0,i._seek=i._start||0,i._rateSeek=0,a._clearTimer(i._id),a._cleanBuffer(i._node),e._autoSuspend()),!a._webAudio&&!c&&a.stop(i._id,!0),a},_clearTimer:function(i){var a=this;if(a._endTimers[i]){if(typeof a._endTimers[i]!="function")clearTimeout(a._endTimers[i]);else{var o=a._soundById(i);o&&o._node&&o._node.removeEventListener("ended",a._endTimers[i],!1)}delete a._endTimers[i]}return a},_soundById:function(i){for(var a=this,o=0;o<a._sounds.length;o++)if(i===a._sounds[o]._id)return a._sounds[o];return null},_inactiveSound:function(){var i=this;i._drain();for(var a=0;a<i._sounds.length;a++)if(i._sounds[a]._ended)return i._sounds[a].reset();return new r(i)},_drain:function(){var i=this,a=i._pool,o=0,c=0;if(!(i._sounds.length<a)){for(c=0;c<i._sounds.length;c++)i._sounds[c]._ended&&o++;for(c=i._sounds.length-1;c>=0;c--){if(o<=a)return;i._sounds[c]._ended&&(i._webAudio&&i._sounds[c]._node&&i._sounds[c]._node.disconnect(0),i._sounds.splice(c,1),o--)}}},_getSoundIds:function(i){var a=this;if(typeof i>"u"){for(var o=[],c=0;c<a._sounds.length;c++)o.push(a._sounds[c]._id);return o}else return[i]},_refreshBuffer:function(i){var a=this;return i._node.bufferSource=e.ctx.createBufferSource(),i._node.bufferSource.buffer=n[a._src],i._panner?i._node.bufferSource.connect(i._panner):i._node.bufferSource.connect(i._node),i._node.bufferSource.loop=i._loop,i._loop&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop||0),i._node.bufferSource.playbackRate.setValueAtTime(i._rate,e.ctx.currentTime),a},_cleanBuffer:function(i){var a=this,o=e._navigator&&e._navigator.vendor.indexOf("Apple")>=0;if(e._scratchBuffer&&i.bufferSource&&(i.bufferSource.onended=null,i.bufferSource.disconnect(0),o))try{i.bufferSource.buffer=e._scratchBuffer}catch(c){}return i.bufferSource=null,a},_clearSound:function(i){var a=/MSIE |Trident\//.test(e._navigator&&e._navigator.userAgent);a||(i.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var r=function(i){this._parent=i,this.init()};r.prototype={init:function(){var i=this,a=i._parent;return i._muted=a._muted,i._loop=a._loop,i._volume=a._volume,i._rate=a._rate,i._seek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++e._counter,a._sounds.push(i),i.create(),i},create:function(){var i=this,a=i._parent,o=e._muted||i._muted||i._parent._muted?0:i._volume;return a._webAudio?(i._node=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),i._node.gain.setValueAtTime(o,e.ctx.currentTime),i._node.paused=!0,i._node.connect(e.masterGain)):e.noAudio||(i._node=e._obtainHtml5Audio(),i._errorFn=i._errorListener.bind(i),i._node.addEventListener("error",i._errorFn,!1),i._loadFn=i._loadListener.bind(i),i._node.addEventListener(e._canPlayEvent,i._loadFn,!1),i._endFn=i._endListener.bind(i),i._node.addEventListener("ended",i._endFn,!1),i._node.src=a._src,i._node.preload=a._preload===!0?"auto":a._preload,i._node.volume=o*e.volume(),i._node.load()),i},reset:function(){var i=this,a=i._parent;return i._muted=a._muted,i._loop=a._loop,i._volume=a._volume,i._rate=a._rate,i._seek=0,i._rateSeek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++e._counter,i},_errorListener:function(){var i=this;i._parent._emit("loaderror",i._id,i._node.error?i._node.error.code:0),i._node.removeEventListener("error",i._errorFn,!1)},_loadListener:function(){var i=this,a=i._parent;a._duration=Math.ceil(i._node.duration*10)/10,Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue()),i._node.removeEventListener(e._canPlayEvent,i._loadFn,!1)},_endListener:function(){var i=this,a=i._parent;a._duration===1/0&&(a._duration=Math.ceil(i._node.duration*10)/10,a._sprite.__default[1]===1/0&&(a._sprite.__default[1]=a._duration*1e3),a._ended(i)),i._node.removeEventListener("ended",i._endFn,!1)}};var n={},u=function(i){var a=i._src;if(n[a]){i._duration=n[a].duration,v(i);return}if(/^data:[^;]+;base64,/.test(a)){for(var o=atob(a.split(",")[1]),c=new Uint8Array(o.length),d=0;d<o.length;++d)c[d]=o.charCodeAt(d);h(c.buffer,i)}else{var g=new XMLHttpRequest;g.open(i._xhr.method,a,!0),g.withCredentials=i._xhr.withCredentials,g.responseType="arraybuffer",i._xhr.headers&&Object.keys(i._xhr.headers).forEach(function(p){g.setRequestHeader(p,i._xhr.headers[p])}),g.onload=function(){var p=(g.status+"")[0];if(p!=="0"&&p!=="2"&&p!=="3"){i._emit("loaderror",null,"Failed loading audio file with status: "+g.status+".");return}h(g.response,i)},g.onerror=function(){i._webAudio&&(i._html5=!0,i._webAudio=!1,i._sounds=[],delete n[a],i.load())},m(g)}},m=function(i){try{i.send()}catch(a){i.onerror()}},h=function(i,a){var o=function(){a._emit("loaderror",null,"Decoding audio data failed.")},c=function(d){d&&a._sounds.length>0?(n[a._src]=d,v(a,d)):o()};typeof Promise<"u"&&e.ctx.decodeAudioData.length===1?e.ctx.decodeAudioData(i).then(c).catch(o):e.ctx.decodeAudioData(i,c,o)},v=function(i,a){a&&!i._duration&&(i._duration=a.duration),Object.keys(i._sprite).length===0&&(i._sprite={__default:[0,i._duration*1e3]}),i._state!=="loaded"&&(i._state="loaded",i._emit("load"),i._loadQueue())},b=function(){if(!!e.usingWebAudio){try{typeof AudioContext<"u"?e.ctx=new AudioContext:typeof webkitAudioContext<"u"?e.ctx=new webkitAudioContext:e.usingWebAudio=!1}catch(d){e.usingWebAudio=!1}e.ctx||(e.usingWebAudio=!1);var i=/iP(hone|od|ad)/.test(e._navigator&&e._navigator.platform),a=e._navigator&&e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),o=a?parseInt(a[1],10):null;if(i&&o&&o<9){var c=/safari/.test(e._navigator&&e._navigator.userAgent.toLowerCase());e._navigator&&!c&&(e.usingWebAudio=!1)}e.usingWebAudio&&(e.masterGain=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),e.masterGain.gain.setValueAtTime(e._muted?0:e._volume,e.ctx.currentTime),e.masterGain.connect(e.ctx.destination)),e._setup()}};typeof define=="function"&&define.amd&&define([],function(){return{Howler:e,Howl:t}}),typeof Ct<"u"&&(Ct.Howler=e,Ct.Howl=t),typeof global<"u"?(global.HowlerGlobal=s,global.Howler=e,global.Howl=t,global.Sound=r):typeof window<"u"&&(window.HowlerGlobal=s,window.Howler=e,window.Howl=t,window.Sound=r)})();(function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var r=t._howls.length-1;r>=0;r--)t._howls[r].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,r){var n=this;if(!n.ctx||!n.ctx.listener)return n;if(t=typeof t!="number"?n._pos[1]:t,r=typeof r!="number"?n._pos[2]:r,typeof e=="number")n._pos=[e,t,r],typeof n.ctx.listener.positionX<"u"?(n.ctx.listener.positionX.setTargetAtTime(n._pos[0],Howler.ctx.currentTime,.1),n.ctx.listener.positionY.setTargetAtTime(n._pos[1],Howler.ctx.currentTime,.1),n.ctx.listener.positionZ.setTargetAtTime(n._pos[2],Howler.ctx.currentTime,.1)):n.ctx.listener.setPosition(n._pos[0],n._pos[1],n._pos[2]);else return n._pos;return n},HowlerGlobal.prototype.orientation=function(e,t,r,n,u,m){var h=this;if(!h.ctx||!h.ctx.listener)return h;var v=h._orientation;if(t=typeof t!="number"?v[1]:t,r=typeof r!="number"?v[2]:r,n=typeof n!="number"?v[3]:n,u=typeof u!="number"?v[4]:u,m=typeof m!="number"?v[5]:m,typeof e=="number")h._orientation=[e,t,r,n,u,m],typeof h.ctx.listener.forwardX<"u"?(h.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),h.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),h.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),h.ctx.listener.upX.setTargetAtTime(n,Howler.ctx.currentTime,.1),h.ctx.listener.upY.setTargetAtTime(u,Howler.ctx.currentTime,.1),h.ctx.listener.upZ.setTargetAtTime(m,Howler.ctx.currentTime,.1)):h.ctx.listener.setOrientation(e,t,r,n,u,m);else return v;return h},Howl.prototype.init=function(e){return function(t){var r=this;return r._orientation=t.orientation||[1,0,0],r._stereo=t.stereo||null,r._pos=t.pos||null,r._pannerAttr={coneInnerAngle:typeof t.coneInnerAngle<"u"?t.coneInnerAngle:360,coneOuterAngle:typeof t.coneOuterAngle<"u"?t.coneOuterAngle:360,coneOuterGain:typeof t.coneOuterGain<"u"?t.coneOuterGain:0,distanceModel:typeof t.distanceModel<"u"?t.distanceModel:"inverse",maxDistance:typeof t.maxDistance<"u"?t.maxDistance:1e4,panningModel:typeof t.panningModel<"u"?t.panningModel:"HRTF",refDistance:typeof t.refDistance<"u"?t.refDistance:1,rolloffFactor:typeof t.rolloffFactor<"u"?t.rolloffFactor:1},r._onstereo=t.onstereo?[{fn:t.onstereo}]:[],r._onpos=t.onpos?[{fn:t.onpos}]:[],r._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}}(Howl.prototype.init),Howl.prototype.stereo=function(e,t){var r=this;if(!r._webAudio)return r;if(r._state!=="loaded")return r._queue.push({event:"stereo",action:function(){r.stereo(e,t)}}),r;var n=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof t>"u")if(typeof e=="number")r._stereo=e,r._pos=[e,0,0];else return r._stereo;for(var u=r._getSoundIds(t),m=0;m<u.length;m++){var h=r._soundById(u[m]);if(h)if(typeof e=="number")h._stereo=e,h._pos=[e,0,0],h._node&&(h._pannerAttr.panningModel="equalpower",(!h._panner||!h._panner.pan)&&s(h,n),n==="spatial"?typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):h._panner.setPosition(e,0,0):h._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",h._id);else return h._stereo}return r},Howl.prototype.pos=function(e,t,r,n){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"pos",action:function(){u.pos(e,t,r,n)}}),u;if(t=typeof t!="number"?0:t,r=typeof r!="number"?-.5:r,typeof n>"u")if(typeof e=="number")u._pos=[e,t,r];else return u._pos;for(var m=u._getSoundIds(n),h=0;h<m.length;h++){var v=u._soundById(m[h]);if(v)if(typeof e=="number")v._pos=[e,t,r],v._node&&((!v._panner||v._panner.pan)&&s(v,"spatial"),typeof v._panner.positionX<"u"?(v._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),v._panner.positionY.setValueAtTime(t,Howler.ctx.currentTime),v._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):v._panner.setPosition(e,t,r)),u._emit("pos",v._id);else return v._pos}return u},Howl.prototype.orientation=function(e,t,r,n){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"orientation",action:function(){u.orientation(e,t,r,n)}}),u;if(t=typeof t!="number"?u._orientation[1]:t,r=typeof r!="number"?u._orientation[2]:r,typeof n>"u")if(typeof e=="number")u._orientation=[e,t,r];else return u._orientation;for(var m=u._getSoundIds(n),h=0;h<m.length;h++){var v=u._soundById(m[h]);if(v)if(typeof e=="number")v._orientation=[e,t,r],v._node&&(v._panner||(v._pos||(v._pos=u._pos||[0,0,-.5]),s(v,"spatial")),typeof v._panner.orientationX<"u"?(v._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),v._panner.orientationY.setValueAtTime(t,Howler.ctx.currentTime),v._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):v._panner.setOrientation(e,t,r)),u._emit("orientation",v._id);else return v._orientation}return u},Howl.prototype.pannerAttr=function(){var e=this,t=arguments,r,n,u;if(!e._webAudio)return e;if(t.length===0)return e._pannerAttr;if(t.length===1)if(typeof t[0]=="object")r=t[0],typeof n>"u"&&(r.pannerAttr||(r.pannerAttr={coneInnerAngle:r.coneInnerAngle,coneOuterAngle:r.coneOuterAngle,coneOuterGain:r.coneOuterGain,distanceModel:r.distanceModel,maxDistance:r.maxDistance,refDistance:r.refDistance,rolloffFactor:r.rolloffFactor,panningModel:r.panningModel}),e._pannerAttr={coneInnerAngle:typeof r.pannerAttr.coneInnerAngle<"u"?r.pannerAttr.coneInnerAngle:e._coneInnerAngle,coneOuterAngle:typeof r.pannerAttr.coneOuterAngle<"u"?r.pannerAttr.coneOuterAngle:e._coneOuterAngle,coneOuterGain:typeof r.pannerAttr.coneOuterGain<"u"?r.pannerAttr.coneOuterGain:e._coneOuterGain,distanceModel:typeof r.pannerAttr.distanceModel<"u"?r.pannerAttr.distanceModel:e._distanceModel,maxDistance:typeof r.pannerAttr.maxDistance<"u"?r.pannerAttr.maxDistance:e._maxDistance,refDistance:typeof r.pannerAttr.refDistance<"u"?r.pannerAttr.refDistance:e._refDistance,rolloffFactor:typeof r.pannerAttr.rolloffFactor<"u"?r.pannerAttr.rolloffFactor:e._rolloffFactor,panningModel:typeof r.pannerAttr.panningModel<"u"?r.pannerAttr.panningModel:e._panningModel});else return u=e._soundById(parseInt(t[0],10)),u?u._pannerAttr:e._pannerAttr;else t.length===2&&(r=t[0],n=parseInt(t[1],10));for(var m=e._getSoundIds(n),h=0;h<m.length;h++)if(u=e._soundById(m[h]),u){var v=u._pannerAttr;v={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:v.coneInnerAngle,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:v.coneOuterAngle,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:v.coneOuterGain,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:v.distanceModel,maxDistance:typeof r.maxDistance<"u"?r.maxDistance:v.maxDistance,refDistance:typeof r.refDistance<"u"?r.refDistance:v.refDistance,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:v.rolloffFactor,panningModel:typeof r.panningModel<"u"?r.panningModel:v.panningModel};var b=u._panner;b?(b.coneInnerAngle=v.coneInnerAngle,b.coneOuterAngle=v.coneOuterAngle,b.coneOuterGain=v.coneOuterGain,b.distanceModel=v.distanceModel,b.maxDistance=v.maxDistance,b.refDistance=v.refDistance,b.rolloffFactor=v.rolloffFactor,b.panningModel=v.panningModel):(u._pos||(u._pos=e._pos||[0,0,-.5]),s(u,"spatial"))}return e},Sound.prototype.init=function(e){return function(){var t=this,r=t._parent;t._orientation=r._orientation,t._stereo=r._stereo,t._pos=r._pos,t._pannerAttr=r._pannerAttr,e.call(this),t._stereo?r.stereo(t._stereo):t._pos&&r.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,r=t._parent;return t._orientation=r._orientation,t._stereo=r._stereo,t._pos=r._pos,t._pannerAttr=r._pannerAttr,t._stereo?r.stereo(t._stereo):t._pos?r.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,r._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var s=function(e,t){t=t||"spatial",t==="spatial"?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,typeof e._panner.positionX<"u"?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),typeof e._panner.orientationX<"u"?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}})()});var G=class extends Error{constructor(t){super(t.message);l(this,"name");l(this,"message");Object.setPrototypeOf(this,G.prototype),typeof t.name=="string"&&(this.name=t.name),typeof t.message=="string"&&(this.message=t.message)}};var Ii=Wt(Li(),1),Di=Wt(xi(),1);var Ut=(i=>(i.Blob="blob",i.MediaDevices="mediaDevices",i.OffscreenCanvas="offscreenCanvas",i.HttpProtocol="httpProtocol",i.SecureContext="secureContext",i.UrlObject="urlObject",i.WebWorkers="webWorkers",i.WebAssembly="webAssembly",i.WebAssemblyErrorFree="webAssemblyErrorFree",i.WebGL="webGL",i))(Ut||{});var B;(v=>{v.userAgentInfo=new Di.default(navigator.userAgent),v.canvas=document.createElement("canvas");function t(){var a;if("orientation"in window)return!1;let b="(any-pointer: coarse)",i=(a=window.matchMedia)==null?void 0:a.call(window,b);return navigator.maxTouchPoints===0||(i==null?void 0:i.media)===b&&!(i!=null&&i.matches)}v.isDesktopDevice=t;function r(){return v.userAgentInfo.getOS().name==="iOS"&&(window.screen.width===1179/3&&window.screen.height===2556/3||window.screen.width===1290/3&&window.screen.height===2796/3)&&window.devicePixelRatio===3}v.isBrokenIPhoneCameraDevice=r;function n(){let b=v.userAgentInfo.getOS();return b.name==="iOS"&&b.version!=null&&b.version.localeCompare("16.3",void 0,{numeric:!0})>=0}v.isIOSDeviceWithExtendedCameraAccess=n;function u(){function b(g,p,S){let C=g[p[0]];return C==null?!1:p.length===1?typeof C===S:(typeof C=="function"||typeof C=="object")&&b(C,p.slice(1),S)}function i(g){return g.name==="iOS"&&g.version!=null&&["11.2.2","11.2.5","11.2.6"].includes(g.version)}let a=!0,o=!0,c=[];location.protocol.startsWith("http")||(c.push("httpProtocol"),a=o=!1),b(window,["isSecureContext"],"boolean")&&!window.isSecureContext&&c.push("secureContext"),!b(navigator,["mediaDevices","getUserMedia"],"function")&&!b(navigator,["enumerateDevices"],"function")&&!b(window,["MediaStreamTrack","getSources"],"function")&&(c.push("mediaDevices"),a=!1),b(window,["Worker"],"function")||(c.push("webWorkers"),a=o=!1),b(window,["WebAssembly"],"object")||(c.push("webAssembly"),a=o=!1),b(window,["Blob"],"function")||(c.push("blob"),a=o=!1),b(window,["URL","createObjectURL"],"function")||(c.push("urlObject"),a=o=!1),b(window,["OffscreenCanvas"],"function")||c.push("offscreenCanvas");try{if(!b(window,["WebGLRenderingContext"],"function")||v.canvas.getContext("webgl")==null&&v.canvas.getContext("experimental-webgl")==null)throw new Error}catch(g){c.push("webGL")}let d=v.userAgentInfo.getOS();return i(d)&&(c.push("webAssemblyErrorFree"),a=o=!1),{fullSupport:a,scannerSupport:o,missingFeatures:c}}v.checkBrowserCompatibility=u;function m(){let b="scandit-device-id",i=localStorage.getItem(b);if(i!=null&&i!=="")return i;if(i=Ii.default.get(b),i!=null&&i!=="")return localStorage.setItem(b,i),i;let a=new Uint8Array(20);return crypto.getRandomValues(a),i=[...a].map(o=>{let c=o.toString(16);return c.length===1?`0${c}`:c}).join(""),localStorage.setItem(b,i),i}v.getDeviceId=m;function h(b){return b instanceof HTMLElement||b!=null&&typeof b=="object"&&typeof b.tagName=="string"}v.isValidHTMLElement=h})(B||(B={}));var f;(u=>{let s;(a=>(a.Debug="debug",a.Info="info",a.Warn="warn",a.Error="error",a.Quiet="quiet"))(s=u.Level||(u.Level={}));let e=new Map([["debug",1],["info",2],["warn",3],["error",4],["quiet",5]]),t="debug";function r(m){t=m}u.setLevel=r;function n(m,...h){if(!(e.get(t)>e.get(m)))switch(m){case"debug":console.debug(...h);break;case"info":console.log(...h);break;case"warn":console.warn(...h);break;case"error":console.error(...h);break;default:break}}u.log=n})(f||(f={}));function Ei(s,e=location){return s+=s.endsWith("/")?"":"/",/^https?:\/\//.test(s)?s:(s=s.split("/").filter(t=>t.length>0).join("/"),s=s===""?"/":`/${s}/`,e.protocol==="file:"||e.origin==="null"?`${e.href.split("/").slice(0,-1).join("/")}${s}`:`${e.origin}${s}`)}function Jr(s){return/^https?:\/\/(?:[^./]*\.)*cdn.jsdelivr.net\//.test(s)?{result:!0,cdnBaseURL:"https://cdn.jsdelivr.net/npm/"}:/^https?:\/\/(?:[^./]*\.)*unpkg.com\//.test(s)?{result:!0,cdnBaseURL:"https://unpkg.com/"}:{result:!1,cdnBaseURL:""}}function Hr(s){let t=/scandit-web-datacapture-[a-z]+/i.exec(s);return t?t[0]:null}function Oi(s,e,t){let r=e,n=Jr(r);if(n.result){let m=Hr(r);m!=null&&(r=`${n.cdnBaseURL}${m}@${s}/build/engine/`)}let u=t.replace(".wasm","");return n.result?{jsURI:`${r}${u}.js`,wasmURI:`${r}${u}.wasm`}:{jsURI:`${r}${u}.js?v=${s}`,wasmURI:`${r}${u}.wasm?v=${s}`}}function Ni(){return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,1,253,15,253,98,11]))}var Ae=class extends G{constructor(t){super({name:"UnsupportedBrowserError",message:`This OS / browser has one or more missing features preventing it from working correctly (${t.missingFeatures.join(", ")})`});l(this,"data");this.data=t}};var Bt=class{constructor(){l(this,"subscribers",new Set)}subscribe(e){this.subscribers.add(e)}unsubscribe(e){this.subscribers.has(e)&&this.subscribers.delete(e)}notify(e){for(let t of this.subscribers)t(e)}},Gr=new Bt,Ti=Gr;var Yr=new Set,at=Yr;var de=class{constructor(e,t){l(this,"_x");l(this,"_y");this._x=e,this._y=t}get x(){return this._x}get y(){return this._y}static fromJSON(e){return new de(e.x,e.y)}toJSONObject(){return{x:this.x,y:this.y}}},Ee=class{constructor(e,t,r,n){l(this,"_topLeft");l(this,"_topRight");l(this,"_bottomRight");l(this,"_bottomLeft");this._topLeft=e,this._topRight=t,this._bottomRight=r,this._bottomLeft=n}get topLeft(){return this._topLeft}get topRight(){return this._topRight}get bottomRight(){return this._bottomRight}get bottomLeft(){return this._bottomLeft}static fromJSON(e){return new Ee(de.fromJSON(e.topLeft),de.fromJSON(e.topRight),de.fromJSON(e.bottomRight),de.fromJSON(e.bottomLeft))}toJSONObject(){return{topLeft:this.topLeft.toJSONObject(),topRight:this.topRight.toJSONObject(),bottomLeft:this.bottomLeft.toJSONObject(),bottomRight:this.bottomRight.toJSONObject()}}},Vt=(t=>(t.Pixel="pixel",t.Fraction="fraction",t))(Vt||{}),F=class{constructor(e,t){l(this,"_value");l(this,"_unit");this._value=e,this._unit=t}get value(){return this._value}get unit(){return this._unit}static fromJSON(e){return new F(e.value,e.unit)}toJSONObject(){return{unit:this.unit,value:this.value}}},fe=class{constructor(e,t){l(this,"_x");l(this,"_y");this._x=e,this._y=t}get x(){return this._x}get y(){return this._y}static fromJSON(e){return new fe(F.fromJSON(e.x),F.fromJSON(e.y))}static get zero(){return new fe(new F(0,"pixel"),new F(0,"pixel"))}toJSONObject(){return{x:this.x.toJSONObject(),y:this.y.toJSONObject()}}},Ri=class{constructor(e,t){l(this,"_origin");l(this,"_size");this._origin=e,this._size=t}get origin(){return this._origin}get size(){return this._size}toJSONObject(){return{origin:this.origin.toJSONObject(),size:this.size.toJSONObject()}}},ki=class{constructor(e,t){l(this,"_origin");l(this,"_size");this._origin=e,this._size=t}get origin(){return this._origin}get size(){return this._size}toJSONObject(){return{origin:this.origin.toJSONObject(),size:this.size.toJSONObject()}}},we=class{constructor(e,t){l(this,"_width");l(this,"_height");this._width=e,this._height=t}get width(){return this._width}get height(){return this._height}isSameAs(e){return JSON.stringify(this.toJSONObject())===JSON.stringify(e.toJSONObject())}toJSONObject(){return{width:this.width.toJSONObject(),height:this.height.toJSONObject()}}static fromJSON(e){return new we(F.fromJSON(e.width),F.fromJSON(e.height))}},Oe=class{constructor(e,t){l(this,"_width");l(this,"_height");this._width=e,this._height=t}get width(){return this._width}get height(){return this._height}static fromJSON(e){return new Oe(e.width,e.height)}toJSONObject(){return{height:this.height,width:this.width}}},Be=class{constructor(e,t){l(this,"_size");l(this,"_aspect");this._size=e,this._aspect=t}get size(){return this._size}get aspect(){return this._aspect}},Qr=(n=>(n.WidthAndHeight="widthAndHeight",n.WidthAndAspectRatio="widthAndAspectRatio",n.HeightAndAspectRatio="heightAndAspectRatio",n.ShorterDimensionAndAspectRatio="shorterDimensionAndAspectRatio",n))(Qr||{}),ie=class{constructor(){l(this,"_widthAndHeight");l(this,"_widthAndAspectRatio");l(this,"_heightAndAspectRatio");l(this,"_shorterDimensionAndAspectRatio",null)}get widthAndHeight(){return this._widthAndHeight}get widthAndAspectRatio(){return this._widthAndAspectRatio}get heightAndAspectRatio(){return this._heightAndAspectRatio}get shorterDimensionAndAspectRatio(){return this._shorterDimensionAndAspectRatio}get sizingMode(){return this.widthAndAspectRatio?"widthAndAspectRatio":this.heightAndAspectRatio?"heightAndAspectRatio":this.shorterDimensionAndAspectRatio?"shorterDimensionAndAspectRatio":"widthAndHeight"}static sizeWithWidthAndHeight(e){let t=new ie;return t._widthAndHeight=e,t}static sizeWithWidthAndAspectRatio(e,t){let r=new ie;return r._widthAndAspectRatio=new Be(e,t),r}static sizeWithHeightAndAspectRatio(e,t){let r=new ie;return r._heightAndAspectRatio=new Be(e,t),r}static sizeWithShorterDimensionAndAspectRatio(e,t){let r=new ie;return r._shorterDimensionAndAspectRatio=new Be(e,t),r}static fromJSON(e){if(e.width&&e.height)return this.sizeWithWidthAndHeight(new we(F.fromJSON(e.width),F.fromJSON(e.height)));if(e.width&&typeof e.aspect=="number")return this.sizeWithWidthAndAspectRatio(F.fromJSON(e.width),e.aspect);if(e.height&&typeof e.aspect=="number")return this.sizeWithHeightAndAspectRatio(F.fromJSON(e.height),e.aspect);if(e.shorterDimension&&typeof e.aspect=="number")return this.sizeWithShorterDimensionAndAspectRatio(F.fromJSON(e.shorterDimension),e.aspect);throw new Error(`SizeWithUnitAndAspectJSON is malformed: ${JSON.stringify(e)}`)}toJSONObject(){switch(this.sizingMode){case"widthAndAspectRatio":return{width:this.widthAndAspectRatio.size.toJSONObject(),aspect:this.widthAndAspectRatio.aspect};case"heightAndAspectRatio":return{height:this.heightAndAspectRatio.size.toJSONObject(),aspect:this.heightAndAspectRatio.aspect};case"shorterDimensionAndAspectRatio":return{shorterDimension:this.shorterDimensionAndAspectRatio.size.toJSONObject(),aspect:this.shorterDimensionAndAspectRatio.aspect};default:return{width:this.widthAndHeight.width.toJSONObject(),height:this.widthAndHeight.height.toJSONObject()}}}},ye=class{constructor(e,t,r,n){l(this,"_left");l(this,"_right");l(this,"_top");l(this,"_bottom");this._left=e,this._top=t,this._right=r,this._bottom=n}get left(){return this._left}get right(){return this._right}get top(){return this._top}get bottom(){return this._bottom}static fromJSON(e){return new ye(F.fromJSON(e.left),F.fromJSON(e.top),F.fromJSON(e.right),F.fromJSON(e.bottom))}static get zero(){return new ye(new F(0,"pixel"),new F(0,"pixel"),new F(0,"pixel"),new F(0,"pixel"))}toJSONObject(){return{left:this.left.toJSONObject(),right:this.right.toJSONObject(),top:this.top.toJSONObject(),bottom:this.bottom.toJSONObject()}}},Y=class{constructor(e){l(this,"hexadecimalString");this.hexadecimalString=e}get redComponent(){return this.hexadecimalString.slice(0,2)}get greenComponent(){return this.hexadecimalString.slice(2,4)}get blueComponent(){return this.hexadecimalString.slice(4,6)}get alphaComponent(){return this.hexadecimalString.slice(6,8)}get red(){return Y.hexToNumber(this.redComponent)}get green(){return Y.hexToNumber(this.greenComponent)}get blue(){return Y.hexToNumber(this.blueComponent)}get alpha(){return Y.hexToNumber(this.alphaComponent)}static fromHex(e){return new Y(Y.normalizeHex(e))}static fromRGBA(e,t,r,n=1){let u=[e,t,r,this.normalizeAlpha(n)].reduce((m,h)=>m+this.numberToHex(h),"");return new Y(u)}static hexToNumber(e){return Number.parseInt(e,16)}static fromJSON(e){return Y.fromHex(e)}static numberToHex(e){e=Math.round(e);let t=e.toString(16);return t.length===1&&(t=`0${t}`),t.toUpperCase()}static normalizeHex(e){return e.startsWith("#")&&(e=e.slice(1)),e.length<6&&(e=e.split("").map(t=>t+t).join("")),e.length===6&&(e+="FF"),e.toUpperCase()}static normalizeAlpha(e){return e>0&&e<=1?255*e:e}withAlpha(e){let t=this.hexadecimalString.slice(0,6)+Y.numberToHex(Y.normalizeAlpha(e));return Y.fromHex(t)}toJSON(){return this.hexadecimalString}},Pi=(u=>(u.Unknown="unknown",u.Portrait="portrait",u.PortraitUpsideDown="portraitUpsideDown",u.LandscapeRight="landscapeRight",u.LandscapeLeft="landscapeLeft",u))(Pi||{}),$r=(h=>(h.None="none",h.Horizontal="horizontal",h.LeftToRight="leftToRight",h.RightToLeft="rightToLeft",h.Vertical="vertical",h.TopToBottom="topToBottom",h.BottomToTop="bottomToTop",h))($r||{});var qr=(t=>(t.Minimal="minimal",t.Extended="extended",t))(qr||{}),nt=class{constructor(){l(this,"type","tapToFocus")}toJSONObject(){return{type:this.type}}},ot=class{constructor(){l(this,"type","swipeToZoom")}toJSONObject(){return{type:this.type}}};var Zr=(t=>(t.Rounded="rounded",t.Square="square",t))(Zr||{}),Xr=(t=>(t.Light="light",t.Bold="bold",t))(Xr||{}),Kr=(e=>(e.Animated="animated",e))(Kr||{}),Ne=class{constructor(e){l(this,"_isLooping",!1);this._isLooping=e}static fromJSON(e){return e===null?null:new Ne(e.looping)}get isLooping(){return this._isLooping}toJSONObject(){return{looping:this.isLooping}}};var zi="data:audio/mp3;base64,//vkwAAAP+X9CbWNgAauxig3N9AC0BJQKbbcjbTLG7sPafMNYRUWovMBAT4SPNsTi0DPk8sm0xGCSlL8tmWXLjoNGQGBq6iaGSgkIMqPjRkYz4yMgCiQPMzQTbGQ1g+GjQwsdMhGR4PAAgYwNGLBQKE2vAQIMOEAEKKKmFipjIuBhtMAEAhhQMiqYybmps5ubeaqNmQKx19yfflnMr4KQjLkw1xiNeUDNAQxc5N0eDclwz4cQdMLETEw0IB0nDEBgzEtMlFUCYMAC6CHMw0TMPARgEMjJzIxcMD2EFsEwHUbuWzMIBgMENAYGmOy+aijpoqMkgNr8SQwAAAgMYWYMEGDACakpa2zt+6BhiD6RbT5plCpFiNclkw4DDGuSlW9AOnXBRcMvGuuL6w5Xp4xGJZhuvTyt22IPxQxuX3H8hyhaw7ksxr591hT55/hhhUpJfT9wwww//1hzdent1I3L7esOfnnhhz888888Pzz/CksbpKTD//XP1////rC3mUBBYOHBOH/DH///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////6SSgIJJACZKKSbbTZkdMhgouYiADgGla1YoADHj8w0wVoJAheaFZjIwabFkoCYSWGqiYGeBRG58cmZAmm+SShC/mKgIGCQXA4NQKCkFKBJcf4KAtdrWiYA4KUt99hYF0+AwAASB4sA5g+BLcmlPOFABBgA9//LymAQaGJwVEwzGCQGKLiwGmEqomwQTggFSgFCzzAjBN4zQwDXpXB/g4H0AjBplYRPZS1f5UARj8VdKgYddIQTW5z9TZgmAYQEjOKWB0xE5y4IjBEAATRaq3I06BIAJEEc9z/4zwSAtQRxnEiZe0wbB8mAtQpdC352rcpqxhMD0AxGitf//5dv/+PsEQ5hgDpjpGO6zV4lLAMC6+lYHaiSy0mYBgV9soKC4EFATRmAv/FWnf//BUA4Cx/Dfedwy53//uH8//1zCvb5/91/P//3f///9f///3P///5z///33//9c///9d///8+f//qv+T//////////////////////////////////////////////////////////////////////////////////////////////8//vkwAAAP/IJR/2LABatraj03tGyd3eGQSE7ITLZBQqwCm0WuxmTMqSuFTF/lK2sgw4s1WUFfb4DA2CgDC8vgDKqAoBICACgJDJF8OVICTxNOjsvRIaJ9BQBRPPX9ZqTVRsOkQFAEAeAANECQVzUWaRKZu3/kNAwAACCx4ZUoot/5iQEXKIDAYQAXAYIwBClisXWb+o4kkUiBABASFFdT/6LVmIZBDVoGDoDQN4h3Oil/+ovByZdRU7//RJknALAdM3R//9P//+///9v//1n/+n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wG/oKujJksi/rUYjCkITgji8ApTpMA8WGQAEEGGFoNIysqiNA0V2JZB9nXN93l/1hwBk8sf/////9XbsfJAT+BuhoL1xJCJmZgP6//kYA80JwJhB//oJkMI8DGqg5hu3/1tUUwEGSfQ//2c1AO9kI///rD8Pb/+kCJOXEv9X//9H/J/9P////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+//vkwAAAP+YJRaf2jdavQWj9jtG6wG3oKujJkknx//eSDgyw6DrGIANugTAVDxKABgLIRl8Dxc9sUBxhW9wIckdi/n3vO/u4WAYiG//////8scsqs1AIyARgseRhmAzk1uGxFUX/8mQAR4byUCkj/92PivAAzRKJeRS//rOAgEJL//7G4BZEhWf//qDJ/f/+UQMcCL6L//+3//9v//1P//+s9/yP/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////7PDu6iRL7CpNL+ENxoCGAzIZQFgJZqgcEHDy1BAYKHQIGBIAOyEBAY804b3AYQAArRB8RMDwBQXLQNpeCoAmA4FmBYEmA4Boby6G3LdsCgsPApKH8hyxqpSUnK8NxvP867/ykw9JYxGAD5ZSRyDCmmm9ab1FwAQmJzWamjLTTTpppugggPshoAzQFB6zdNPQTegggomyfNCiBmTocAboGBcLjoFwuIJl8ny+am4e2OeBtzAbYVEKkO/fzMPy+m9BDQbVDiADTpBDfq3b/v///f//+///89/1f/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+//vkwAAAP+VtQaxrTZavI6X9HNG022tgBmsJk1udMxFAUq4uaYimQqgKQypiyzlA0D7pbA4NIQQHRTOIPARqQsS0EArr7P8u4woAu1B65UJJbF3p5pIWBhg2W2ZVKqWzhWjUaz3j9NM7Bg0z0kBfWJSqzZhqeyy/9////wEXuWdMzuWVNl+NXL8cccLVRpZiSgYKnsv3jjj+OOP5fWziT9gICoLFZTZ5WpaXmVNTWqtV2rbhCIucSSAnsoyprOWWWW8ccfxxx99UhYO79bL8ef+XP/uu0CVRhxTNZc2Win///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////4ADvEGILtrY23+kdZZESJEAEDABkvsj2LAiI05IwYUJFPzapY1hjS5VrXd44/+4zey7l+su/vHm0DEqDlh8ABRIDJOwNoLC14UOQo8CUi+aotV90ThtS//1GRdMDb//6T//9SzAixu3+R/4lR/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+//vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////vkwAAAP/ABLgAAACauACXAAAAE////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHMTBfU2NhbmRpdF9CYXJjb2RlLUNhcHR1cmVfU3VjU29ub25hdXQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAyMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf8=",Fi="PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNTQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTU4IDEwSDI4LjZMMjIuOS41QTEgMSAwIDAgMCAyMiAwSDJhMiAyIDAgMCAwLTIgMnY0NmE2IDYgMCAwIDAgNiA2aDQ4YTYgNiAwIDAgMCA2LTZWMTJhMiAyIDAgMCAwLTItMlptLTM3LjUgOGE0LjUgNC41IDAgMSAxIDAgOSA0LjUgNC41IDAgMCAxIDAtOVptMjcuNCAyNy41YTEgMSAwIDAgMS0uOS41SDEzYTEgMSAwIDAgMS0uOC0xLjVsNy0xMWExIDEgMCAwIDEgMS42LS4xbDUgNiA5LjQtMTVhMSAxIDAgMCAxIDEuMy0uM2wuNC40IDExIDIwYTEgMSAwIDAgMSAwIDFaIi8+PC9zdmc+",ji="PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNjQuNjIgMTIuMjIiPjxwYXRoIGQ9Ik0xMDEuNTUuOTFhMi4yOCAyLjI4IDAgMCAwLTEuOTcgMS43MSAyLjcyIDIuNzIgMCAwIDAgMCAxLjExIDIuNDIgMi40MiAwIDAgMCAxLjI0IDEuNTRjLjQ2LjIzLjUuMjQgMS43OS4yNmwxLjE1LjAyLjIyLjFhMS41MSAxLjUxIDAgMCAxIC44IDEuNyAxLjQxIDEuNDEgMCAwIDEtMS4wNiAxLjA4Yy0uMTIuMDMtLjguMDQtMi4wOS4wNGE3Ljc0IDcuNzQgMCAwIDAtMS45My4wNSAzLjE5IDMuMTkgMCAwIDAgLjAxLjc3IDE0LjY5IDE0LjY5IDAgMCAwIDIuMS4wM2wyLjA4LS4wMS4yNi0uMWEyLjI3IDIuMjcgMCAwIDAgMS41LTEuNzQgMi41NSAyLjU1IDAgMCAwLS4wOC0xLjIgMi40IDIuNCAwIDAgMC0xLjE0LTEuMzZjLS40Ni0uMjItLjU1LS4yMy0xLjY1LS4yMy0xLjMyIDAtMS41My0uMDYtMS45NS0uNDdhMS40OCAxLjQ4IDAgMCAxLS40NS0uOTQgMS40MyAxLjQzIDAgMCAxIC45NC0xLjRjLjItLjA4LjItLjA4IDIuMDktLjFsMS45LS4wMXYtLjQxYy4wMi0uMzEgMC0uNDItLjAyLS40NC0uMDYtLjA0LTMuNDMtLjAzLTMuNzQgMFptMjAuMDIuMTFjLS4zNCAxLjI0LTIuMiA4LjI3LTIuMTkgOC4yOGExLjg2IDEuODYgMCAwIDAgLjQ0LjAzYy4zOCAwIC40MyAwIC40NC0uMDZsMS0zLjcyLjk4LTMuNyAxIDMuNjcgMSAzLjc1YzAgLjAzLjA2LjA2LjQ1LjA2aC40NWwtLjAyLS4xYy0uMDQtLjE1LTIuMTMtOC0yLjE5LTguMThsLS4wNS0uMTdoLTEuMjdsLS4wNC4xNFptOC4yMyA0LjA4VjkuM2guODNsLjAyLTMuNzcuMDEtMy43NyAyLjIgMy43NyAyLjIgMy43Ny41Mi4wMS41Mi4wMVY1LjEyTDEzNi4wOS45aC0uODZsLS4wMiAzLjQzLS4wMiAzLjQ0LTIuMDItMy40NEwxMzEuMTYuOWwtLjY5LS4wMWgtLjY4Wk0xNTIuNzkuOTNjLS4wMy4wNy0uMDMgOC4yOCAwIDguMzUuMDEuMDQuMDguMDUuNDMuMDVoLjRWLjg4aC0uNGMtLjM1IDAtLjQyLjAxLS40My4wNVptNS4yMi4zNnYuNDJoMi44NHYzLjhsLjAyIDMuOGguMzhhMS4wNSAxLjA1IDAgMCAwIC40Mi0uMDJjLjA0LS4wNC4wNC0uNjMuMDQtMy44MVYxLjdoMi44Vi44OGgtNi41Wk0xMTEuODUuOTZhMy4yNyAzLjI3IDAgMCAwLTIuMDQgMS42NCA0Ljk4IDQuOTggMCAwIDAtLjU1IDEuNzkgOC4yNCA4LjI0IDAgMCAwIC4wOCAyLjA2IDMuMzUgMy4zNSAwIDAgMCAyLjI4IDIuNzkgNy44NSA3Ljg1IDAgMCAwIDIuMS4wN2gxLjgzbC4wMS0uNDIuMDEtLjQyaC0xLjcxYy0xLjkgMC0xLjk0IDAtMi4zNS0uMjFhMi44NSAyLjg1IDAgMCAxLTEuMzUtMi4xIDcuMTcgNy4xNyAwIDAgMS0uMDMtMS43NyAzLjA4IDMuMDggMCAwIDEgMS43LTIuNTNjLjE4LS4wNy4yMS0uMDcgMS45NC0uMWgxLjc1Vi45MmgtMS43NGExNS45NyAxNS45NyAwIDAgMC0xLjkzLjA0Wm0yOS41NyA0LjE1djQuMmwxLjguMDFhOS41NiA5LjU2IDAgMCAwIDIuNjQtLjEzYzEuNTgtLjQ1IDIuNDktMi4xIDIuNDEtNC4zOGE0LjMxIDQuMzEgMCAwIDAtLjQzLTEuODYgMy43NiAzLjc2IDAgMCAwLTEuODctMS44NGMtLjUtLjE5LS41OC0uMi0yLjY2LS4yaC0xLjl2NC4yWm0zLjc5LTMuM2EyLjgxIDIuODEgMCAwIDEgMi4wNCAyLjA1IDMuNDkgMy40OSAwIDAgMSAuMTYgMS4zNkE0LjQ4IDQuNDggMCAwIDEgMTQ3IDcuMWEyLjIzIDIuMjMgMCAwIDEtMS4wNSAxLjEzYy0uNDUuMjItLjQ2LjIyLTIuMTUuMjRoLTEuNTN2LTYuN2gxLjM2Yy44IDAgMS40NS4wMiAxLjU4LjA0WiIgZmlsbD0iIzEyMTYxOSIgc3Ryb2tlPSIjMTIxNjE5IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iLjIiLz48cGF0aCBkPSJNNS45IDIuOTRoMS4xN2EzLjI3IDMuMjcgMCAwIDAtLjI5LTEuMzJBMi41NyAyLjU3IDAgMCAwIDYuMDUuNyAzIDMgMCAwIDAgNC45OC4xNyA0Ljk2IDQuOTYgMCAwIDAgMy42NSAwYTQuNzYgNC43NiAwIDAgMC0xLjI0LjE3IDMuNDEgMy40MSAwIDAgMC0xLjA4LjQ5IDIuNSAyLjUgMCAwIDAtLjc2Ljg0QTIuNDYgMi40NiAwIDAgMCAuMyAyLjcyYTIuMDMgMi4wMyAwIDAgMCAuMjUgMS4wNiAyLjA2IDIuMDYgMCAwIDAgLjY4LjY5IDMuOTMgMy45MyAwIDAgMCAuOTUuNDNxLjUzLjE2IDEuMDkuMjhsMS4wOC4yNGE0Ljk1IDQuOTUgMCAwIDEgLjk2LjMgMS44NiAxLjg2IDAgMCAxIC42OC41IDEuMTcgMS4xNyAwIDAgMSAuMjUuNzcgMS41MiAxLjUyIDAgMCAxLS4yMS44NCAxLjUxIDEuNTEgMCAwIDEtLjU1LjUgMi40NyAyLjQ3IDAgMCAxLS43Ni4yOCA0LjYxIDQuNjEgMCAwIDEtLjgzLjA3IDMuOTcgMy45NyAwIDAgMS0xLjAyLS4xMyAyLjUyIDIuNTIgMCAwIDEtLjg2LS40IDIuMDcgMi4wNyAwIDAgMS0uNi0uNyAyLjEgMi4xIDAgMCAxLS4yMy0xSDBBMy4yNiAzLjI2IDAgMCAwIC4zIDcuOWEyLjggMi44IDAgMCAwIC44NCAxLjAxIDMuNjQgMy42NCAwIDAgMCAxLjIyLjYgNS40NCA1LjQ0IDAgMCAwIDEuNDguMiA1LjY0IDUuNjQgMCAwIDAgMS4yOC0uMTYgMy43IDMuNyAwIDAgMCAxLjE2LS40OCAyLjczIDIuNzMgMCAwIDAgLjg1LS44NiAyLjMzIDIuMzMgMCAwIDAgLjMzLTEuMjYgMi4zMyAyLjMzIDAgMCAwLS4yNS0xLjE1IDIuMjYgMi4yNiAwIDAgMC0uNjgtLjc1IDMuNTggMy41OCAwIDAgMC0uOTUtLjQ4cS0uNTQtLjE4LTEuMDktLjN0LTEuMDgtLjI0YTUuNjggNS42OCAwIDAgMS0uOTYtLjI4IDEuODggMS44OCAwIDAgMS0uNjgtLjQ0Ljk3Ljk3IDAgMCAxLS4yNS0uNyAxLjUgMS41IDAgMCAxIC4xNy0uNzUgMS4zNiAxLjM2IDAgMCAxIC40Ny0uNSAyLjA0IDIuMDQgMCAwIDEgLjY3LS4yNSAzLjc4IDMuNzggMCAwIDEgLjc3LS4wOCAyLjYyIDIuNjIgMCAwIDEgMS41OC40NSAxLjkzIDEuOTMgMCAwIDEgLjcyIDEuNDVabTkuMzkgMmgxLjE0YTIuNjYgMi42NiAwIDAgMC0uMzEtMS4wNCAyLjMgMi4zIDAgMCAwLS42My0uNzIgMi42MSAyLjYxIDAgMCAwLS44OS0uNDIgNC4wNiA0LjA2IDAgMCAwLTEuMDctLjE0IDMuMjUgMy4yNSAwIDAgMC0xLjM5LjI4IDIuNzggMi43OCAwIDAgMC0xIC43NyAzLjI2IDMuMjYgMCAwIDAtLjU5IDEuMTQgNC45MyA0LjkzIDAgMCAwLS4yIDEuNDIgNC41MyA0LjUzIDAgMCAwIC4yIDEuMzggMy4wNCAzLjA0IDAgMCAwIC42IDEuMDkgMi42MyAyLjYzIDAgMCAwIDEgLjcgMy41IDMuNSAwIDAgMCAxLjM1LjI0IDIuOTIgMi45MiAwIDAgMCAyLjA0LS42NyAzLjEgMy4xIDAgMCAwIC45My0xLjkzaC0xLjEzYTEuOTQgMS45NCAwIDAgMS0uNTcgMS4yMSAxLjggMS44IDAgMCAxLTEuMjguNDMgMS44MyAxLjgzIDAgMCAxLS45LS4yIDEuNzUgMS43NSAwIDAgMS0uNi0uNTYgMi40NCAyLjQ0IDAgMCAxLS4zNS0uNzggMy43NCAzLjc0IDAgMCAxLS4xMS0uOTEgNC41NyA0LjU3IDAgMCAxIC4xLS45OSAyLjQ2IDIuNDYgMCAwIDEgLjM1LS44NCAxLjc4IDEuNzggMCAwIDEgLjY0LS41OCAyLjA2IDIuMDYgMCAwIDEgMS0uMjIgMS42OCAxLjY4IDAgMCAxIDEuMTIuMzUgMS42OCAxLjY4IDAgMCAxIC41NS45OVpNMjUuNiA5LjQ4YTEuNTYgMS41NiAwIDAgMS0uOC4xNy45NS45NSAwIDAgMS0uNjgtLjI1IDEuMDQgMS4wNCAwIDAgMS0uMjUtLjc4IDIuNjQgMi42NCAwIDAgMS0xLjA2Ljc4IDMuNSAzLjUgMCAwIDEtMS4zLjI1IDMuNSAzLjUgMCAwIDEtLjg3LS4xIDIuMDEgMi4wMSAwIDAgMS0uNy0uMzMgMS41NiAxLjU2IDAgMCAxLS40OC0uNTggMS45NSAxLjk1IDAgMCAxLS4xNy0uODYgMS45NyAxLjk3IDAgMCAxIC4yLS45NCAxLjcgMS43IDAgMCAxIC41LS41OSAyLjM1IDIuMzUgMCAwIDEgLjczLS4zNXEuNC0uMTEuODQtLjIuNDUtLjA4Ljg2LS4xM2E0LjgyIDQuODIgMCAwIDAgLjcyLS4xMyAxLjIgMS4yIDAgMCAwIC41LS4yNS42LjYgMCAwIDAgLjE4LS40NyAxLjEgMS4xIDAgMCAwLS4xNC0uNTkuOTQuOTQgMCAwIDAtLjM1LS4zMyAxLjQzIDEuNDMgMCAwIDAtLjQ4LS4xNiAzLjYzIDMuNjMgMCAwIDAtLjUzLS4wNCAyLjM0IDIuMzQgMCAwIDAtMS4xNy4yNyAxLjEzIDEuMTMgMCAwIDAtLjUgMWgtMS4xYTIuMzkgMi4zOSAwIDAgMSAuMjYtMS4wNSAxLjk3IDEuOTcgMCAwIDEgLjYyLS43IDIuNjIgMi42MiAwIDAgMSAuOS0uMzggNC43IDQuNyAwIDAgMSAxLjA3LS4xMiA2LjMgNi4zIDAgMCAxIC45LjA3IDIuMzYgMi4zNiAwIDAgMSAuOC4yNiAxLjU2IDEuNTYgMCAwIDEgLjYuNTcgMS44MSAxLjgxIDAgMCAxIC4yMS45NXYzLjQ1YTIuNTkgMi41OSAwIDAgMCAuMDUuNThxLjA0LjE5LjMuMTlhMS4xIDEuMSAwIDAgMCAuMzQtLjA3Wm0tMS44LTMuNDVhMS4zOCAxLjM4IDAgMCAxLS41NC4yM3EtLjMzLjA3LS43LjEydC0uNzUuMWEyLjc1IDIuNzUgMCAwIDAtLjY4LjE4IDEuMjMgMS4yMyAwIDAgMC0uNDguMzcgMS4wNCAxLjA0IDAgMCAwLS4yLjY2LjkuOSAwIDAgMCAuMTIuNDYuOTIuOTIgMCAwIDAgLjI4LjMgMS4yIDEuMiAwIDAgMCAuNDEuMTggMi4yNyAyLjI3IDAgMCAwIC41LjA1IDIuNjIgMi42MiAwIDAgMCAuOTMtLjE1IDEuOTcgMS45NyAwIDAgMCAuNjQtLjM4IDEuNDkgMS40OSAwIDAgMCAuMzctLjUgMS4yNSAxLjI1IDAgMCAwIC4xMS0uNVptNC43OC0zLjI1VjkuNWgxLjFWNS43YTIuNzIgMi43MiAwIDAgMSAuMTItLjg0IDEuOSAxLjkgMCAwIDEgLjM3LS42NiAxLjY1IDEuNjUgMCAwIDEgLjYyLS40NSAyLjI1IDIuMjUgMCAwIDEgLjg4LS4xNSAxLjM1IDEuMzUgMCAwIDEgMSAuMzYgMS4zMyAxLjMzIDAgMCAxIC4zNi45OVY5LjVoMS4xVjUuMDhhNC4xNiA0LjE2IDAgMCAwLS4xLTEgMS44OCAxLjg4IDAgMCAwLS40LS43NyAxLjgyIDEuODIgMCAwIDAtLjctLjUgMi45MiAyLjkyIDAgMCAwLTEuMS0uMTggMi4zMyAyLjMzIDAgMCAwLTIuMTkgMS4yMmgtLjAzVjIuNzhabTkuMTggMFY5LjVoMS4xVjUuN2EyLjcyIDIuNzIgMCAwIDEgLjEyLS44NCAxLjkgMS45IDAgMCAxIC4zNy0uNjYgMS42NSAxLjY1IDAgMCAxIC42Mi0uNDUgMi4yNSAyLjI1IDAgMCAxIC44OC0uMTUgMS4zNSAxLjM1IDAgMCAxIDEgLjM3IDEuMzMgMS4zMyAwIDAgMSAuMzYuOThWOS41aDEuMVY1LjA4YTQuMTYgNC4xNiAwIDAgMC0uMS0xIDEuODggMS44OCAwIDAgMC0uNC0uNzcgMS44MiAxLjgyIDAgMCAwLS43LS41IDIuOTIgMi45MiAwIDAgMC0xLjEtLjE4IDIuMzMgMi4zMyAwIDAgMC0yLjE5IDEuMjJoLS4wM1YyLjc4Wm0xMC4zNC0xLjJWLjIxaC0xLjF2MS4zNVptLTEuMSAxLjJWOS41aDEuMVYyLjc4Wm00Ljc3IDBWOS41aDEuMVY1LjdhMi43MiAyLjcyIDAgMCAxIC4xMy0uODQgMS45IDEuOSAwIDAgMSAuMzctLjY2IDEuNjUgMS42NSAwIDAgMSAuNjItLjQ1IDIuMjUgMi4yNSAwIDAgMSAuODctLjE1IDEuMzUgMS4zNSAwIDAgMSAxIC4zNiAxLjMzIDEuMzMgMCAwIDEgLjM3Ljk5VjkuNWgxLjFWNS4wOGE0LjE2IDQuMTYgMCAwIDAtLjExLTEgMS44OCAxLjg4IDAgMCAwLS4zOS0uNzcgMS44MiAxLjgyIDAgMCAwLS43MS0uNSAyLjkyIDIuOTIgMCAwIDAtMS4xLS4xOCAyLjMzIDIuMzMgMCAwIDAtMi4xOSAxLjIyaC0uMDJWMi43OFptMTQuOTggNi4xNVYyLjc4aC0xLjA0di45NmgtLjAxYTEuOTcgMS45NyAwIDAgMC0uODQtLjg0IDIuNDggMi40OCAwIDAgMC0xLjE3LS4yOCAzIDMgMCAwIDAtMS40Ni4zNCAyLjg1IDIuODUgMCAwIDAtLjk3Ljg0IDMuMzUgMy4zNSAwIDAgMC0uNTIgMS4xNSA1LjEgNS4xIDAgMCAwLS4xNSAxLjIyIDQuNDUgNC40NSAwIDAgMCAuMTkgMS4zMSAzLjEzIDMuMTMgMCAwIDAgLjU2IDEuMDggMi43NSAyLjc1IDAgMCAwIC45NC43MyAyLjk2IDIuOTYgMCAwIDAgMS4zMS4yOCAyLjY5IDIuNjkgMCAwIDAgMS4yMy0uMyAxLjg2IDEuODYgMCAwIDAgLjg2LS45MWguMDN2LjQ0YTQuNDcgNC40NyAwIDAgMS0uMTIgMS4wMyAyLjE1IDIuMTUgMCAwIDEtLjM1LjggMS43MyAxLjczIDAgMCAxLS42My41MiAyLjA1IDIuMDUgMCAwIDEtLjkyLjE5IDIuOTggMi45OCAwIDAgMS0uNTctLjA2IDIuMDggMi4wOCAwIDAgMS0uNTUtLjIgMS4zOCAxLjM4IDAgMCAxLS40My0uMzMuODIuODIgMCAwIDEtLjItLjVoLTEuMWExLjc0IDEuNzQgMCAwIDAgLjMuOTIgMi4wNiAyLjA2IDAgMCAwIC42NS42IDIuOTMgMi45MyAwIDAgMCAuODkuMzUgNC41NyA0LjU3IDAgMCAwIC45NS4xQTMuMDcgMy4wNyAwIDAgMCA2NiAxMS40YTMuNTQgMy41NCAwIDAgMCAuNzYtMi40N1ptLTMuMS0uMzNhMS42OSAxLjY5IDAgMCAxLS45LS4yMiAxLjc2IDEuNzYgMCAwIDEtLjYtLjYgMi41OSAyLjU5IDAgMCAxLS4zLS44MyA0LjYzIDQuNjMgMCAwIDEtLjEtLjkxIDMuOCAzLjggMCAwIDEgLjExLS45MiAyLjI5IDIuMjkgMCAwIDEgLjM1LS43OCAxLjc3IDEuNzcgMCAwIDEgLjYyLS41NCAxLjkgMS45IDAgMCAxIC45MS0uMiAxLjc1IDEuNzUgMCAwIDEgLjg5LjIgMS43MiAxLjcyIDAgMCAxIC41OS41NiAyLjQzIDIuNDMgMCAwIDEgLjMzLjc3IDMuNjggMy42OCAwIDAgMSAuMS44NyA0LjA2IDQuMDYgMCAwIDEtLjExLjk0IDIuNzMgMi43MyAwIDAgMS0uMzUuODQgMS44MSAxLjgxIDAgMCAxLS42MS42IDEuOCAxLjggMCAwIDEtLjkzLjIyWk03NS45Ny4yMlY5LjVoMS4xdi0uOWguMDNhMS43OCAxLjc4IDAgMCAwIC40NS41IDIuMzYgMi4zNiAwIDAgMCAuNTYuMzIgMy4wNyAzLjA3IDAgMCAwIC42LjE3IDMuMzIgMy4zMiAwIDAgMCAuNTUuMDUgMy4xMiAzLjEyIDAgMCAwIDEuMzYtLjI3IDIuNyAyLjcgMCAwIDAgLjk2LS43NCAzLjE4IDMuMTggMCAwIDAgLjU3LTEuMTIgNC43NCA0Ljc0IDAgMCAwIC4yLTEuMzUgNC42IDQuNiAwIDAgMC0uMi0xLjM1IDMuNDIgMy40MiAwIDAgMC0uNTgtMS4xMyAyLjc2IDIuNzYgMCAwIDAtLjk2LS43NyAzLjAzIDMuMDMgMCAwIDAtMS4zNi0uMjkgMy4yIDMuMiAwIDAgMC0xLjI5LjI2IDEuNjUgMS42NSAwIDAgMC0uODYuODFoLS4wMlYuMjJabTUuMiA1Ljg2YTQuNDIgNC40MiAwIDAgMS0uMS45NyAyLjU0IDIuNTQgMCAwIDEtLjM0LjgzIDEuNzggMS43OCAwIDAgMS0uNjEuNTggMS44OSAxLjg5IDAgMCAxLS45Ni4yMiAyLjA1IDIuMDUgMCAwIDEtLjk3LS4yMSAxLjkgMS45IDAgMCAxLS42Ni0uNTcgMi4zNyAyLjM3IDAgMCAxLS4zNy0uOCAzLjg3IDMuODcgMCAwIDEtLjEyLS45NiAzLjkgMy45IDAgMCAxIC4xMS0uOTMgMi40MiAyLjQyIDAgMCAxIC4zNi0uOCAxLjkgMS45IDAgMCAxIC42NC0uNTkgMS45IDEuOSAwIDAgMSAuOTUtLjIyIDEuOTcgMS45NyAwIDAgMSAuOTMuMiAxLjg1IDEuODUgMCAwIDEgLjY1LjU3IDIuNDcgMi40NyAwIDAgMSAuMzcuOCAzLjQ0IDMuNDQgMCAwIDEgLjEyLjkxWm03LjA2IDQuMzJhNy4wMyA3LjAzIDAgMCAxLS4zOC44NCAyLjI3IDIuMjcgMCAwIDEtLjQyLjU1IDEuNDEgMS40MSAwIDAgMS0uNS4zMSAxLjk1IDEuOTUgMCAwIDEtLjY1LjEgMi45NSAyLjk1IDAgMCAxLS4zOS0uMDMgMS44NCAxLjg0IDAgMCAxLS4zNy0uMDl2LTEuMDJhMS44NiAxLjg2IDAgMCAwIC4zMy4xMSAxLjQgMS40IDAgMCAwIC4zMi4wNS45NS45NSAwIDAgMCAuNTYtLjE2IDEgMSAwIDAgMCAuMzQtLjQ2bC40Ni0xLjE0LTIuNjctNi42OGgxLjI1bDEuOTcgNS41aC4wMkw5MCAyLjc4aDEuMTdaIiBmaWxsPSIjMTIxNjE5Ii8+PC9zdmc+",Wi="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Jt=class{static fromJSON(e){return(e==null?void 0:e.type)==="tapToFocus"?new nt:null}},Ht=class{static fromJSON(e){return(e==null?void 0:e.type)==="swipeToZoom"?new ot:null}};function ea(s){var e;return{Camera:{Settings:{preferredResolution:s.Camera.Settings.preferredResolution,zoomFactor:s.Camera.Settings.zoomFactor,zoomGestureZoomFactor:s.Camera.Settings.zoomGestureZoomFactor,focusGestureStrategy:s.Camera.Settings.focusGestureStrategy},defaultPosition:(e=s.Camera.defaultPosition)!=null?e:null,availablePositions:s.Camera.availablePositions},SingleImageUploader:{Settings:{iconElement:document.createRange().createContextualFragment(s.SingleImageUploader.Settings.iconElement).firstElementChild,informationElement:document.createRange().createContextualFragment(s.SingleImageUploader.Settings.informationElement).firstElementChild,buttonElement:document.createRange().createContextualFragment(s.SingleImageUploader.Settings.buttonElement).firstElementChild,containerStyle:s.SingleImageUploader.Settings.containerStyle,iconStyle:s.SingleImageUploader.Settings.iconStyle,informationStyle:s.SingleImageUploader.Settings.informationStyle,buttonStyle:s.SingleImageUploader.Settings.buttonStyle}},DataCaptureView:{scanAreaMargins:ye.fromJSON(JSON.parse(s.DataCaptureView.scanAreaMargins)),pointOfInterest:fe.fromJSON(JSON.parse(s.DataCaptureView.pointOfInterest)),logoStyle:s.DataCaptureView.logoStyle,logoAnchor:s.DataCaptureView.logoAnchor,logoOffset:fe.fromJSON(JSON.parse(s.DataCaptureView.logoOffset)),focusGesture:Jt.fromJSON(JSON.parse(s.DataCaptureView.focusGesture)),zoomGesture:Ht.fromJSON(JSON.parse(s.DataCaptureView.zoomGesture)),cameraRecoveryText:s.DataCaptureView.cameraRecoveryText},LaserlineViewfinder:Object.keys(s.LaserlineViewfinder.styles).reduce((t,r)=>{let n=s.LaserlineViewfinder.styles[r];return t.styles[r]={width:F.fromJSON(JSON.parse(n.width)),enabledColor:Y.fromJSON(n.enabledColor),disabledColor:Y.fromJSON(n.disabledColor),style:n.style},t},{defaultStyle:s.LaserlineViewfinder.defaultStyle,styles:{}}),RectangularViewfinder:Object.keys(s.RectangularViewfinder.styles).reduce((t,r)=>{let n=s.RectangularViewfinder.styles[r];return t.styles[r]={size:ie.fromJSON(JSON.parse(n.size)),color:Y.fromJSON(n.color),style:n.style,lineStyle:n.lineStyle,dimming:Number.parseFloat(n.dimming.toString()),animation:Ne.fromJSON(JSON.parse(n.animation))},t},{defaultStyle:s.RectangularViewfinder.defaultStyle,styles:{}}),AimerViewfinder:{frameColor:Y.fromJSON(s.AimerViewfinder.frameColor),dotColor:Y.fromJSON(s.AimerViewfinder.dotColor)},Brush:{fillColor:Y.fromJSON(s.Brush.fillColor),strokeColor:Y.fromJSON(s.Brush.strokeColor),strokeWidth:s.Brush.strokeWidth}}}var D=ea({DataCaptureView:{focusGesture:"null",zoomGesture:"null",logoAnchor:"bottomRight",logoStyle:"extended",logoOffset:JSON.stringify({x:{value:0,unit:"fraction"},y:{value:0,unit:"fraction"}}),pointOfInterest:JSON.stringify({x:{value:.5,unit:"fraction"},y:{value:.5,unit:"fraction"}}),scanAreaMargins:JSON.stringify({left:{value:0,unit:"fraction"},right:{value:0,unit:"fraction"},top:{value:0,unit:"fraction"},bottom:{value:0,unit:"fraction"}}),cameraRecoveryText:"Tap/click to resume scanning"},Camera:{Settings:{preferredResolution:"auto",zoomFactor:1,focusGestureStrategy:"manualUntilCapture",zoomGestureZoomFactor:2},defaultPosition:"worldFacing",availablePositions:["worldFacing","userFacing"]},SingleImageUploader:{Settings:{iconElement:atob(Fi),informationElement:"<p>Analyze an image from your device.</p>",buttonElement:"<div>Choose an Image</div>",containerStyle:{backgroundColor:"#FFFFFF"},iconStyle:{fill:"#121619"},informationStyle:{color:"#121619",marginBottom:"2em"},buttonStyle:{color:"#FFFFFF",backgroundColor:"#121619",fontWeight:"bold",padding:"1.25em",width:"12em",textAlign:"center",textTransform:"uppercase"}}},LaserlineViewfinder:{defaultStyle:"animated",styles:{animated:{width:JSON.stringify({unit:"fraction",value:.8}),enabledColor:"#FFFFFFFF",disabledColor:"#00000000",style:"animated"}}},AimerViewfinder:{frameColor:"#FFFFFFFF",dotColor:"#FFFFFFCC"},RectangularViewfinder:{defaultStyle:"rounded",styles:{rounded:{size:JSON.stringify({aspect:1,shorterDimension:{unit:"fraction",value:.75}}),color:"#FFFFFFFF",style:"rounded",lineStyle:"light",dimming:0,animation:JSON.stringify({looping:!0})},square:{size:JSON.stringify({aspect:1,shorterDimension:{unit:"fraction",value:.75}}),color:"#FFFFFFFF",style:"square",lineStyle:"light",dimming:0,animation:JSON.stringify({looping:!0})}}},Brush:{fillColor:"#00000000",strokeColor:"#00000000",strokeWidth:0}});var ne={CONTAINER_CLASS_NAME:"scandit-container",PAINTBOARDS_CONTAINER_CLASS_NAME:"scandit-paintboards",PAINTBOARD_CLASS_NAME:"scandit-paintboard",PAINTBOARD_CLASS_NAME_STATE_ON:"scandit-paintboard--camera-on",CONTROLS_CLASS_NAME:"scandit-controls",CONTROL_WIDGET_CLASS_NAME:"scandit-control-widget",MIRRORED_CLASS_NAME:"scandit-mirrored",CAMERA_RECOVERY_CLASS_NAME:"scandit-camera-recovery",ERROR_CLASS_NAME:"scandit-error",SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME:"scandit-single-image-uploader-container",CANVAS_VIDEO_PREVIEW_CLASS_NAME:"scandit-canvas-video-preview"};var Ve=(n=>(n.On="on",n.Off="off",n.Starting="starting",n.Stopping="stopping",n))(Ve||{}),Gt=(t=>(t.On="on",t.Off="off",t))(Gt||{}),Yt=(t=>(t.WorldFacing="worldFacing",t.UserFacing="userFacing",t))(Yt||{}),Ui=(n=>(n.Auto="auto",n.HD="hd",n.FullHD="fullHd",n.UHD4K="uhd4k",n))(Ui||{}),ta=(n=>(n.None="none",n.Manual="manual",n.ManualUntilCapture="manualUntilCapture",n.AutoOnLocation="autoOnLocation",n))(ta||{});var me=class{constructor(e){l(this,"preferredResolution",D.Camera.Settings.preferredResolution);l(this,"zoomFactor",D.Camera.Settings.zoomFactor);l(this,"zoomGestureZoomFactor",D.Camera.Settings.zoomGestureZoomFactor);l(this,"focus",{focusGestureStrategy:D.Camera.Settings.focusGestureStrategy});if(e!=null)for(let t of Object.getOwnPropertyNames(e))this[t]=e[t]}get focusGestureStrategy(){return this.focus.focusGestureStrategy}set focusGestureStrategy(e){this.focus.focusGestureStrategy=e}static fromJSON(e){let t=new me;return t.preferredResolution=e.preferredResolution,t.zoomFactor=e.zoomFactor,t.zoomGestureZoomFactor=e.zoomGestureZoomFactor,t.focusGestureStrategy=e.focusGestureStrategy,t}setProperty(e,t){this[e]=t}getProperty(e){return this[e]}isIPhoneProCameraOptimizationEnabled(e){return this.getProperty("iPhoneProCameraOptimization")===!0&&e==="worldFacing"}toJSONObject(){let e={preferredResolution:this.preferredResolution,zoomFactor:this.zoomFactor,zoomGestureZoomFactor:this.zoomGestureZoomFactor,focus:{focusGestureStrategy:this.focus.focusGestureStrategy}},t={};for(let r of Object.keys(this))[...Object.keys(e),"focusGestureStrategy"].includes(r)||(t[r]=this[r]);return Q(Q({},e),t)}};var V;(z=>{let s=new Map([["DeviceCaptureError","AbortError"],["NotSupportedError","AbortError"],["ScreenCaptureError","AbortError"],["TabCaptureError","AbortError"],["TypeError","AbortError"],["InvalidStateError","NotAllowedError"],["MediaDeviceFailedDueToShutdown","NotAllowedError"],["MediaDeviceKillSwitchOn","NotAllowedError"],["PermissionDeniedError","NotAllowedError"],["PermissionDismissedError","NotAllowedError"],["DevicesNotFoundError","NotFoundError"],["SourceUnavailableError","NotReadableError"],["TrackStartError","NotReadableError"],["ConstraintNotSatisfiedError","OverconstrainedError"]]),e=["rear","back","r\xFCck","arri\xE8re","trasera","tr\xE1s","traseira","posteriore","\u540E\u9762","\u5F8C\u9762","\u80CC\u9762","\u540E\u7F6E","\u5F8C\u7F6E","\u80CC\u7F6E","\u0437\u0430\u0434\u043D\u0435\u0439","\u0627\u0644\u062E\u0644\u0641\u064A\u0629","\uD6C4","arka","achterzijde","\u0E2B\u0E25\u0E31\u0E07","baksidan","bagside","sau","bak","tylny","takakamera","belakang","\u05D0\u05D7\u05D5\u05E8\u05D9\u05EA","\u03C0\u03AF\u03C3\u03C9","spate","h\xE1ts\xF3","zadn\xED","darrere","posterior","zadn\xE1","\u0437\u0430\u0434\u043D\u044F","stra\u017Enja","belakang","\u092C\u0948\u0915"],t=new Set(["Desk View Camera","Schreibtischansicht-Kamera","Cam\xE9ra Desk\xA0View","C\xE1mara de Vista Cenital","C\xE2mara da Vista de Secret\xE1ria","Fotocamera di Panoramica Scrivania","\u684C\u4E0A\u89C6\u89D2\u76F8\u673A","\u30C7\u30B9\u30AF\u30D3\u30E5\u30FC\u30AB\u30E1\u30E9","\u041A\u0430\u043C\u0435\u0440\u0430 \u041E\u0431\u0437\u043E\u0440\u0430 \u0441\u0442\u043E\u043B\u0430","Masa G\xF6r\xFCnt\xFCs\xFC Kameras\u0131","Bureauweergave-camera","\u0643\u0627\u0645\u064A\u0631\u0627 \u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u0631\u0623\u0633\u064A","\u0E01\u0E25\u0E49\u0E2D\u0E07\u0E14\u0E39\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E19\u0E49\u0E32\u0E42\u0E15\u0E4A\u0E30","Bordsvisningskamera","Kamera til Visning af skrivebord","Camera Desk View","Bordvisning-kamera","Kamera w\xA0aplikacji Widok blatu","Ty\xF6p\xF6yt\xE4n\xE4kym\xE4n kamera","Kamera Tampilan Meja","\u05DE\u05E6\u05DC\u05DE\u05EA \u05F4\u05EA\u05E6\u05D5\u05D2\u05EA \u05E9\u05D5\u05DC\u05D7\u05DF\u05F4","\u039A\u03AC\u03BC\u03B5\u03C1\u03B1 \u03C4\u03B7\u03C2 \u03A0\u03C1\u03BF\u03B2\u03BF\u03BB\u03AE\u03C2 \u03B3\u03C1\u03B1\u03C6\u03B5\u03AF\u03BF\u03C5","Camer\u0103 Vizualizare birou","\xCDr\xF3asztal n\xE9zet kamer\xE1ja","Stoln\xED kamera","C\xE0mera de l\u2019app Vista de l\u2019Escriptori"]),r=new Set(["Front Camera","Frontkamera","Appareil photo avant","C\xE1mara frontal","C\xE2mera Frontal","C\xE2mara frontal","Fotocamera (anteriore)","\u524D\u7F6E\u76F8\u673A","\u524D\u7F6E\u76F8\u6A5F","\u524D\u9762\u30AB\u30E1\u30E9","\u041A\u0430\u043C\u0435\u0440\u0430 \u043D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0435\u0439 \u043F\u0430\u043D\u0435\u043B\u0438","\xD6n Kamera","Camera aan voorzijde","\u0627\u0644\u0643\u0627\u0645\u064A\u0631\u0627 \u0627\u0644\u0623\u0645\u0627\u0645\u064A\u0629","\u0E01\u0E25\u0E49\u0E2D\u0E07\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E19\u0E49\u0E32","Kamera p\xE5 framsidan","Forsidekamera","Camera m\u1EB7t tr\u01B0\u1EDBc","Kamera foran","Przedni aparat","Etukamera","Kamera Depan","\u05DE\u05E6\u05DC\u05DE\u05D4 \u05E7\u05D3\u05DE\u05D9\u05EA","\u039C\u03C0\u03C1\u03BF\u03C3\u03C4\u03B9\u03BD\u03AE \u03BA\u03AC\u03BC\u03B5\u03C1\u03B1","Camer\u0103 fa\u021B\u0103","El\xFCls\u0151 kamera","P\u0159edn\xED fotoapar\xE1t","C\xE0mera frontal","Predn\xE1 kamera","\u041F\u0435\u0440\u0435\u0434\u043D\u044F \u043A\u0430\u043C\u0435\u0440\u0430","Prednja kamera","Kamera Depan","\u092B\u093C\u094D\u0930\u0902\u091F \u0915\u0948\u092E\u0930\u093E"]),n=new Set(["Back Camera","R\xFCckkamera","Cam\xE9ra arri\xE8re","C\xE1mara trasera","C\xE2mera Traseira","C\xE2mara traseira","Fotocamera (posteriore)","\u540E\u7F6E\u76F8\u673A","\u5F8C\u7F6E\u76F8\u6A5F","\u80CC\u9762\u30AB\u30E1\u30E9","\u041A\u0430\u043C\u0435\u0440\u0430 \u043D\u0430 \u0437\u0430\u0434\u043D\u0435\u0439 \u043F\u0430\u043D\u0435\u043B\u0438","Arka Kamera","Camera aan achterzijde","\u0627\u0644\u0643\u0627\u0645\u064A\u0631\u0627 \u0627\u0644\u062E\u0644\u0641\u064A\u0629","\u0E01\u0E25\u0E49\u0E2D\u0E07\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E25\u0E31\u0E07","Kamera p\xE5 baksidan","Bagsidekamera","Camera m\u1EB7t sau","Kamera bak","Tylny aparat","Takakamera","Kamera Belakang","\u05DE\u05E6\u05DC\u05DE\u05D4 \u05D0\u05D7\u05D5\u05E8\u05D9\u05EA","\u03A0\u03AF\u03C3\u03C9 \u03BA\u03AC\u03BC\u03B5\u03C1\u03B1","Camer\u0103 spate","H\xE1ts\xF3 kamera","Zadn\xED fotoapar\xE1t","C\xE0mera posterior","Zadn\xE1 kamera","\u0417\u0430\u0434\u043D\u044F \u043A\u0430\u043C\u0435\u0440\u0430","Stra\u017Enja kamera","Kamera Belakang","\u092C\u0948\u0915 \u0915\u0948\u092E\u0930\u093E"]),u=new Set(["Back Ultra Wide Camera","R\xFCckseitige Ultra-Weitwinkelkamera","Appareil photo ultra grand angle arri\xE8re","C\xE1mara trasera con ultra gran angular","C\xE2mera Ultra-Angular Traseira","C\xE2mara ultra grande angular traseira","Fotocamera con ultra-grandangolo (posteriore)","\u540E\u7F6E\u8D85\u5E7F\u89D2\u76F8\u673A","\u5F8C\u7F6E\u8D85\u5EE3\u89D2\u76F8\u6A5F","\u80CC\u9762\u8D85\u5E83\u89D2\u30AB\u30E1\u30E9","\u0417\u0430\u0434\u043D\u044F\u044F \u0441\u0432\u0435\u0440\u0445\u0448\u0438\u0440\u043E\u043A\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0430\u044F \u043A\u0430\u043C\u0435\u0440\u0430","Ultra Geni\u015F Kamera Arka Y\xFCz\xFC","Ultrabrede camera aan achterzijde","\u0643\u0627\u0645\u064A\u0631\u0627 \u062E\u0644\u0641\u064A\u0629 \u0639\u0631\u064A\u0636\u0629 \u062C\u062F\u064B\u0627","\u0E01\u0E25\u0E49\u0E2D\u0E07\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E25\u0E31\u0E07\u0E21\u0E38\u0E21\u0E01\u0E27\u0E49\u0E32\u0E07\u0E2D\u0E31\u0E25\u0E15\u0E23\u0E49\u0E32","Ultravidvinkelkamera p\xE5 baksidan","Ultravidvinkelkameraet p\xE5 bagsiden","Camera c\u1EF1c r\u1ED9ng m\u1EB7t sau","Ultravidvinkelkamera bak","Tylny aparat ultraszerokok\u0105tny","Ultralaajakulmainen takakamera","Kamera Ultra Lebar Belakang","\u05DE\u05E6\u05DC\u05DE\u05D4 \u05D0\u05D5\u05DC\u05D8\u05E8\u05D4 \u05E8\u05D7\u05D1\u05D4 \u05D0\u05D7\u05D5\u05E8\u05D9\u05EA","\u03A0\u03AF\u03C3\u03C9 \u03C5\u03C0\u03B5\u03C1\u03B5\u03C5\u03C1\u03B5\u03AF\u03B1 \u03BA\u03AC\u03BC\u03B5\u03C1\u03B1","Camer\u0103 cu obiectiv ultra\u2011superangular spate","H\xE1ts\xF3, ultrasz\xE9les l\xE1t\xF3sz\xF6g\u0171 kamera","Zadn\xED ultra \u0161iroko\xFAhl\xFD fotoapar\xE1t","C\xE0mera posterior amb ultra gran angular","Zadn\xE1 ultra\u0161irokouhl\xE1 kamera","\u0417\u0430\u0434\u043D\u044F \u043D\u0430\u0434\u0448\u0438\u0440\u043E\u043A\u043E\u043A\u0443\u0442\u043D\u0430 \u043A\u0430\u043C\u0435\u0440\u0430","Stra\u017Enja ultra \u0161iroka kamera","Kamera Ultralebar Belakang","\u092C\u0948\u0915 \u0905\u0932\u094D\u091F\u094D\u0930\u093E \u0935\u093E\u0907\u0921 \u0915\u0948\u092E\u0930\u093E"]),m,h=!1;z.mainCameraForPositionOverridesOnDesktop=new Map,z.deviceIdToCameraObjects=new Map,z.inaccessibleDeviceIds=new Set;function a(){h=!0}function o(A){let E=A.toLowerCase();return e.some(O=>E.includes(O))}function c(A){return r.has(A)}z.isIOSWideFrontCameraLabel=c;function d(A){return n.has(A)}z.isIOSWideBackCameraLabel=d;function g(A){return u.has(A)}z.isIOSUltraWideBackCameraLabel=g;function p(A){var O;let E;E=A.message==="Invalid constraint"?"OverconstrainedError":(O=s.get(A.name))!=null?O:A.name,Object.defineProperty(A,"name",{value:E})}function S(A,E){let O;if(B.isDesktopDevice())O=z.mainCameraForPositionOverridesOnDesktop.has(E)?z.mainCameraForPositionOverridesOnDesktop.get(E):A.find(y=>y.position===E);else{let y=A.every(M=>M.label===""),x=A.every(M=>M.label!==""),N=A.length>1&&!y&&!x;if(y)O=A[E==="userFacing"?0:A.length-1];else if(N){let M=A.filter(U=>U.position===E);M.length===1?O=M[0]:M.length>1&&(O=M[E==="userFacing"?0:M.length-1])}else{if(E==="worldFacing"&&B.isBrokenIPhoneCameraDevice()){let M=A.find(U=>g(U.label));if(M!=null)return M}if(B.userAgentInfo.getOS().name==="iOS")if(E==="worldFacing"){let M=A.find(U=>d(U.label));if(M!=null)return M}else{let M=A.find(U=>c(U.label));if(M!=null)return M}O=A.filter(M=>M.position===E).sort((M,U)=>M.label.localeCompare(U.label))[0]}}return O}z.getMainCameraForPosition=S;function C(A,E){function O(N,M){let U=z.mainCameraForPositionOverridesOnDesktop.get(M);return U!=null&&N.includes(U)&&(N=N.filter(ze=>ze!==U),N.unshift(U)),N}let y=A.filter(N=>N.position==="userFacing"),x=A.filter(N=>N.position==="worldFacing");return B.isDesktopDevice()?(y=O(y,"userFacing"),x=O(x,"worldFacing")):A.every(N=>N.label==="")?x.reverse():(y.sort((N,M)=>N.label.localeCompare(M.label)),x.sort((N,M)=>N.label.localeCompare(M.label)),B.userAgentInfo.getOS().name==="iOS"&&(y.some((N,M)=>c(N.label)&&y.unshift(y.splice(M,1)[0])>=0),x.some((N,M)=>g(N.label)&&x.unshift(x.splice(M,1)[0])>=0),x.some((N,M)=>d(N.label)&&x.unshift(x.splice(M,1)[0])>=0)),B.isBrokenIPhoneCameraDevice()&&x.some((N,M)=>g(N.label)&&x.unshift(x.splice(M,1)[0])>=0)),E==="userFacing"?[...y,...x]:[...x,...y]}z.sortCamerasForCameraPosition=C;function _(A,E){let O=A.getVideoTracks();if(O.length>0){let y=O[0],x;typeof y.getSettings=="function"&&(x=y.getSettings(),x.facingMode!=null&&x.facingMode.length>0&&(E.position=x.facingMode==="environment"?"worldFacing":"userFacing")),y.label!=null&&y.label.length>0&&(E.label=y.label)}}z.adjustCameraFromMediaStream=_;function j(A){function E(y,x,N){var Ce;if(z.deviceIdToCameraObjects.has(y.deviceId))return z.deviceIdToCameraObjects.get(y.deviceId);let M=(Ce=y.label)!=null?Ce:"",U;return!B.isDesktopDevice()&&N.every(Ot=>Ot.label===""&&!z.deviceIdToCameraObjects.has(Ot.deviceId))?U=N.length===1||x+1<=Math.floor(N.length/2)?"userFacing":"worldFacing":U=o(M)?"worldFacing":"userFacing",{position:U,label:M,deviceId:y.deviceId}}let O=A.map(E).map(y=>(y.deviceId!==""&&z.deviceIdToCameraObjects.set(y.deviceId,y),y)).filter(y=>!/\b(?:ir|infrared)\b/i.test(y.label)).filter(y=>!t.has(y.label)).filter(y=>!z.inaccessibleDeviceIds.has(y.deviceId));if(!B.isDesktopDevice()&&O.length>1&&!O.some(y=>y.position==="worldFacing")){let y=O.length-1,x=O.map(N=>{let M=/\b(\d+)mp?\b/i.exec(N.label);return M!=null?Number.parseInt(M[1],10):Number.NaN});x.some(N=>Number.isNaN(N))||(y=x.lastIndexOf(Math.max(...x))),O[y].position="worldFacing"}return O}async function $(){if(m!=null&&m.length>0&&m.every(A=>A.label===""&&!z.deviceIdToCameraObjects.has(A.deviceId)))try{return await navigator.mediaDevices.getUserMedia({video:!0,audio:!1})}catch(A){}}function Z(A,E){var O;if(E.length>0&&A.length===E.length&&!E.every((y,x)=>A[x].deviceId===y.deviceId)){let y={};for(let[x,N]of A.entries()){let M=z.deviceIdToCameraObjects.get(N.deviceId);if(M==null||M.label!==((O=E[x].label)!=null?O:""))continue;let U=E[x].deviceId;y[M.deviceId]=U,z.inaccessibleDeviceIds.has(M.deviceId)&&z.inaccessibleDeviceIds.add(U),M.deviceId=U,z.deviceIdToCameraObjects.set(U,M)}f.log(f.Level.Debug,"Detected updated camera deviceId information and updated it accordingly",y)}}async function P(A=!1,E=!1){let O=B.checkBrowserCompatibility();if(!O.fullSupport)throw new Ae(O);if(typeof navigator.mediaDevices.addEventListener=="function"?navigator.mediaDevices.addEventListener("devicechange",a):navigator.mediaDevices.ondevicechange=a,m==null||A||h){h=!1;let x,N=m!=null?m:[];m=[];try{m=await re(),E||(x=await $(),x!=null&&(m=await re())),f.log(f.Level.Debug,"Camera list (devices):",...m),Z(N,m)}catch(M){throw p(M),M}finally{if(x!=null)for(let M of x.getVideoTracks())M.stop()}}let y=j(m);return f.log(f.Level.Debug,"Camera list (cameras): ",...y),[...y]}z.getCameras=P;async function I(A){return f.log(f.Level.Debug,"Attempt to access camera (parameters):",A.video),new Promise((E,O)=>{window.setTimeout(()=>{var y;((y=navigator.mediaDevices.getUserMedia(A))!=null?y:Promise.reject(new G({name:"AbortError"}))).then(E).catch(O)},0)})}function X(A,E){let O={resizeMode:"none"};switch(A){case 0:return ae(Q({},O),{width:{min:2880,ideal:E==="fourToThree"?2880:3840,max:4096},height:{min:1800,ideal:2160,max:2400}});case 1:return ae(Q({},O),{width:{min:1440,ideal:E==="fourToThree"?1440:1920,max:2160},height:{min:900,ideal:1080,max:1440}});case 2:return ae(Q({},O),{width:{min:960,ideal:E==="fourToThree"?960:1280,max:1440},height:{min:480,ideal:720,max:960}});case 3:return ae(Q({},O),{width:{min:640,ideal:640,max:800},height:{min:360,ideal:E==="fourToThree"?480:360,max:640}});case 4:default:return{}}}z.getUserMediaVideoParameters=X;async function ee(A,E,O){f.log(f.Level.Debug,"Attempt to access camera (camera):",A);let y={audio:!1,video:X(E,O)};A.deviceId===""?y.video.facingMode={ideal:A.position==="worldFacing"?"environment":"user"}:y.video.deviceId={exact:A.deviceId};try{let x=await I(y);return _(x,A),x}catch(x){throw p(x),["OverconstrainedError","NotReadableError","NotAllowedError"].includes(x.name)||K(A),x}}z.accessCameraStream=ee;function K(A){A.deviceId!==""&&(f.log(f.Level.Debug,"Camera marked to be inaccessible:",A),z.inaccessibleDeviceIds.add(A.deviceId))}z.markCameraAsInaccessible=K;async function re(){let A;if(typeof navigator.enumerateDevices=="function")A=await navigator.enumerateDevices();else if(typeof navigator.mediaDevices=="object"&&typeof navigator.mediaDevices.enumerateDevices=="function")A=await navigator.mediaDevices.enumerateDevices();else throw new Ae({fullSupport:!1,scannerSupport:!0,missingFeatures:["mediaDevices"]});return A.filter(E=>E.kind==="videoinput")}})(V||(V={}));var H=class{constructor(){l(this,"selectedCamera");l(this,"activeCamera");l(this,"activeCameraSettings");l(this,"gui");l(this,"videoElement");l(this,"canvas");l(this,"listeners",new Map);l(this,"mirrorImageOverrides",new Map);l(this,"triggerFatalError");l(this,"postStreamInitializationListener",this.postStreamInitialization.bind(this));l(this,"videoResizeListener",this.handleVideoResize.bind(this));l(this,"videoTrackEndedListener",this.videoTrackEndedRecovery.bind(this));l(this,"videoTrackMuteListener",this.videoTrackMuteRecovery.bind(this));l(this,"triggerManualFocusListener",this.triggerManualFocus.bind(this));l(this,"triggerZoomStartListener",this.triggerZoomStart.bind(this));l(this,"triggerZoomMoveListener",this.triggerZoomMove.bind(this));l(this,"checkCameraVideoStreamAccessIfVisibleListener",this.checkCameraVideoStreamAccessIfVisible.bind(this));l(this,"handleWebGLContextLostListener",this.handleWebGLContextLost.bind(this));l(this,"cameraPosition");l(this,"selectedCameraSettings");l(this,"mediaTrackCapabilities");l(this,"mediaTrackCapabilitiesPromise");l(this,"mediaTrackCapabilitiesPromiseResolver");l(this,"cameraAccessTimeout");l(this,"cameraAccessRejectCallback");l(this,"videoMetadataCheckInterval");l(this,"getCapabilitiesTimeout");l(this,"autofocusInterval");l(this,"manualToAutofocusResumeTimeout");l(this,"manualFocusWaitTimeout");l(this,"torchToggleEnabled");l(this,"tapToFocusEnabled");l(this,"pinchToZoomEnabled");l(this,"pinchToZoomDistance");l(this,"pinchToZoomInitialZoom");l(this,"torchEnabled");l(this,"cameraInitializationPromise");l(this,"abortedCameraInitializationResolveCallback");l(this,"cameraSetupPromise");l(this,"_mediaStream");l(this,"_canvasWebGLContext");l(this,"_canvas2dContext");l(this,"_imageData");this.cameraPosition="worldFacing",this.gui={isCameraRecoveryVisible:()=>!1,setCameraRecoveryVisible:()=>{}},this.videoElement=document.createElement("video"),this.canvas=document.createElement("canvas"),this.canvas.addEventListener("webglcontextlost",this.handleWebGLContextLostListener)}get mediaStream(){return this._mediaStream}set mediaStream(e){this._mediaStream=e,e&&(this.mediaTrackCapabilitiesPromise=new Promise(t=>{this.mediaTrackCapabilitiesPromiseResolver=t}))}set imageData(e){this._imageData=e}async waitForCapabilities(){var e;return(e=this.mediaTrackCapabilitiesPromise)!=null?e:Promise.resolve()}static instance(){return H._instance==null&&(H._instance=new H),H._instance}setInteractionOptions(e,t,r){this.torchToggleEnabled=e,this.tapToFocusEnabled=t,this.pinchToZoomEnabled=r}isTapToFocusEnabled(){return this.tapToFocusEnabled}setTapToFocusEnabled(e){this.tapToFocusEnabled=e,this.mediaStream&&(this.tapToFocusEnabled?this.enableTapToFocusListeners():this.disableTapToFocusListeners())}isPinchToZoomEnabled(){return this.pinchToZoomEnabled}setPinchToZoomEnabled(e){this.pinchToZoomEnabled=e,this.mediaStream&&(this.pinchToZoomEnabled?this.enablePinchToZoomListeners():this.disablePinchToZoomListeners())}setInitialCameraPosition(e){this.cameraPosition=e}async setCameraPosition(e){var r;this.setInitialCameraPosition(e);let t=V.getMainCameraForPosition(await V.getCameras(),e);if(t&&t.deviceId!==((r=this.selectedCamera)==null?void 0:r.deviceId))return this.initializeCameraWithSettings(t,this.selectedCameraSettings)}setSelectedCamera(e){this.selectedCamera=e}setSelectedCameraSettings(e){this.selectedCameraSettings=e}async setupCameras(){return this.cameraSetupPromise?this.cameraSetupPromise:(this.cameraSetupPromise=this.setupCamerasAndStream(),this.cameraSetupPromise)}async stopStream(e=!1){this.activeCamera&&(this.activeCamera.currentResolution=void 0),this.activeCamera=void 0,this.torchEnabled=!1,this.mediaStream&&(f.log(f.Level.Debug,`Stop camera video stream access${e?" (abort access detection)":""}:`,this.mediaStream),document.removeEventListener("visibilitychange",this.checkCameraVideoStreamAccessIfVisibleListener),window.clearTimeout(this.cameraAccessTimeout),window.clearInterval(this.videoMetadataCheckInterval),window.clearTimeout(this.getCapabilitiesTimeout),window.clearTimeout(this.manualFocusWaitTimeout),window.clearTimeout(this.manualToAutofocusResumeTimeout),window.clearInterval(this.autofocusInterval),this.videoElement.pause(),await new Promise(t=>{setTimeout(()=>{var r;if(this.mediaStream!=null)for(let n of this.mediaStream.getVideoTracks())n.removeEventListener("ended",this.videoTrackEndedListener),n.stop();this.videoElement.srcObject=null,this._canvas2dContext&&this._canvas2dContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.mediaStream=void 0,this.mediaTrackCapabilities=void 0,this.mediaTrackCapabilitiesPromise=void 0,this.mediaTrackCapabilitiesPromiseResolver=void 0,e||(r=this.abortedCameraInitializationResolveCallback)==null||r.call(this),t()},0)}))}async applyCameraSettings(e){if(this.selectedCameraSettings=e,this.activeCamera==null)throw new G(H.noCameraErrorParameters);return this.initializeCameraWithSettings(this.activeCamera,e)}async reinitializeCamera(){if(this.activeCamera==null)f.log(f.Level.Debug,"Camera reinitialization delayed");else{f.log(f.Level.Debug,"Reinitialize camera:",this.activeCamera);try{let e=this.activeCamera;await this.stopStream(),await this.initializeCameraWithSettings(e,this.activeCameraSettings)}catch(e){throw f.log(f.Level.Warn,"Couldn't access camera:",this.activeCamera,e),this.emit("cameraAccessError",e),e}}}async initializeCameraWithSettings(e,t){if(this.cameraInitializationPromise&&await this.cameraInitializationPromise,e==null)throw new G(H.noCameraErrorParameters);return this.setSelectedCamera(e),this.selectedCameraSettings=t,this.activeCameraSettings=t,this.cameraInitializationPromise=this.initializeCameraAndCheckUpdatedSettings(e),this.cameraInitializationPromise}async setTorchEnabled(e){var t;if(this.mediaStream&&((t=this.mediaTrackCapabilities)==null?void 0:t.torch)===!0){this.torchEnabled=e;let r=this.mediaStream.getVideoTracks();r.length>0&&typeof r[0].applyConstraints=="function"&&await r[0].applyConstraints({advanced:[{torch:e}]})}}async toggleTorch(){this.torchEnabled=!this.torchEnabled,await this.setTorchEnabled(this.torchEnabled)}async setZoom(e){var t,r,n;if(!!this.mediaStream&&(await this.waitForCapabilities(),(t=this.mediaTrackCapabilities)!=null&&t.zoom)){let u=this.mediaStream.getVideoTracks();if(u.length>0&&typeof u[0].applyConstraints=="function"){let m=Math.max((r=this.mediaTrackCapabilities.zoom.min)!=null?r:1,Math.min(e,(n=this.mediaTrackCapabilities.zoom.max)!=null?n:16));await u[0].applyConstraints({advanced:[{zoom:{ideal:m}}]})}}}async setFrameRate(e){var t,r,n,u,m;if(!!this.mediaStream&&(await this.waitForCapabilities(),(t=this.mediaTrackCapabilities)!=null&&t.frameRate)){let h=this.mediaStream.getVideoTracks();if(h.length>0&&typeof h[0].applyConstraints=="function"){let v=Math.max((r=this.mediaTrackCapabilities.frameRate.min)!=null?r:1,(n=e.min)!=null?n:1),b=Math.min((u=this.mediaTrackCapabilities.frameRate.max)!=null?u:240,(m=e.max)!=null?m:240);await h[0].applyConstraints({advanced:[{frameRate:{min:v,ideal:b,max:b}}]})}}}async setFocus(e){var r,n,u,m,h;if(!this.mediaStream)return;let t=this.mediaStream.getVideoTracks();if(t.length>0&&typeof t[0].applyConstraints=="function"){await this.waitForCapabilities();let v=e>=0?"manual":"continuous";if(((n=(r=this.mediaTrackCapabilities)==null?void 0:r.focusMode)==null?void 0:n.includes(v))===!0&&(await t[0].applyConstraints({advanced:[{focusMode:v}]}),v==="manual"&&this.mediaTrackCapabilities.focusDistance)){let b=Math.max(0,Math.min(e,1))*(((u=this.mediaTrackCapabilities.focusDistance.max)!=null?u:1e3)-((m=this.mediaTrackCapabilities.focusDistance.min)!=null?m:.01))+((h=this.mediaTrackCapabilities.focusDistance.min)!=null?h:.01);await t[0].applyConstraints({advanced:[{focusDistance:{ideal:b}}]})}}}async setExposure(e){var r,n,u,m,h,v;if(!this.mediaStream)return;let t=this.mediaStream.getVideoTracks();if(t.length>0&&typeof t[0].applyConstraints=="function"){await this.waitForCapabilities();let b=e.time!=null&&e.time>0?"manual":"continuous";if(((n=(r=this.mediaTrackCapabilities)==null?void 0:r.exposureMode)==null?void 0:n.includes(b))===!0){if(await t[0].applyConstraints({advanced:[{exposureMode:b}]}),e.time!=null&&e.time>0&&this.mediaTrackCapabilities.exposureTime){let i=Math.max((u=this.mediaTrackCapabilities.exposureTime.min)!=null?u:.01,Math.min(e.time,(m=this.mediaTrackCapabilities.exposureTime.max)!=null?m:1e5));await t[0].applyConstraints({advanced:[{exposureTime:{ideal:i}}]})}else if(e.compensation!=null&&b==="continuous"&&this.mediaTrackCapabilities.exposureCompensation){let i=Math.max((h=this.mediaTrackCapabilities.exposureCompensation.min)!=null?h:-10,Math.min(e.compensation,(v=this.mediaTrackCapabilities.exposureCompensation.max)!=null?v:10));await t[0].applyConstraints({advanced:[{exposureCompensation:{ideal:i}}]})}}}}async isTorchAvailable(){var e;return this.mediaStream?(await this.waitForCapabilities(),((e=this.mediaTrackCapabilities)==null?void 0:e.torch)===!0):!1}isMirrorImageEnabled(){if(this.selectedCamera&&this.activeCamera){let e=this.mirrorImageOverrides.get(this.activeCamera);return e!=null?e:this.activeCamera.position==="userFacing"}return!1}setMirrorImageEnabled(e,t){this.selectedCamera&&(e?(this.videoElement.classList.add(H.MIRRORED_CLASS_NAME),this.canvas.classList.add(H.MIRRORED_CLASS_NAME)):(this.videoElement.classList.remove(H.MIRRORED_CLASS_NAME),this.canvas.classList.remove(H.MIRRORED_CLASS_NAME)),t&&this.mirrorImageOverrides.set(this.selectedCamera,e))}addListener(e,t){var n;let r=(n=this.listeners.get(e))!=null?n:[];r.includes(t)||this.listeners.set(e,[...r,t])}removeListener(e,t){var u;let n=((u=this.listeners.get(e))!=null?u:[]).filter(m=>m!==t);this.listeners.set(e,n)}async playVideo(){return new Promise(e=>{this._canvas2dContext&&this._canvas2dContext.clearRect(0,0,this.canvas.width,this.canvas.height);let t=this.videoElement.play();t?t.then(e).catch(()=>{e()}):e()})}updateCanvasVideoImage(){var e,t;((t=this.selectedCameraSettings)==null?void 0:t.isIPhoneProCameraOptimizationEnabled((e=this.selectedCamera)==null?void 0:e.position))===!0?this.canvas2dContext.drawImage(this.videoElement,this.videoElement.videoWidth*.15,this.videoElement.videoHeight*.15,this.videoElement.videoWidth*.7,this.videoElement.videoHeight*.7,0,0,this.canvas.width,this.canvas.height):this.canvas2dContext.drawImage(this.videoElement,0,0)}captureImage(){var e,t,r;if(((e=this.mediaStream)==null?void 0:e.active)!=null){if(this.canvasWebGLContext!=null){if(!this.isVideoAndContextStateValid()||this.canvasWebGLContext.drawingBufferWidth<=2||this.canvasWebGLContext.drawingBufferHeight<=2)return null;let n=this.canvasWebGLContext.drawingBufferWidth*this.canvasWebGLContext.drawingBufferHeight*4;if((this._imageData==null||this._imageData.byteLength!==n)&&(this._imageData=new Uint8ClampedArray(n)),this.canvasWebGLContext.texImage2D(this.canvasWebGLContext.TEXTURE_2D,0,this.canvasWebGLContext.RGBA,this.canvasWebGLContext.RGBA,this.canvasWebGLContext.UNSIGNED_BYTE,this.videoElement),this.canvasWebGLContext.readPixels(0,0,this.canvasWebGLContext.drawingBufferWidth,this.canvasWebGLContext.drawingBufferHeight,this.canvasWebGLContext.RGBA,this.canvasWebGLContext.UNSIGNED_BYTE,this._imageData),this._imageData[3]!==255){if(f.log(f.Level.Warn,"Detected incorrect GPU accelerated WebGL image processing, switching to canvas mode"),this._canvasWebGLContext=void 0,this.canvas2dContext!=null)return this.captureImage()}else{let u=this._imageData;return this._imageData=void 0,{data:u,width:this.canvasWebGLContext.drawingBufferWidth,height:this.canvasWebGLContext.drawingBufferHeight}}}else if(this.canvas2dContext!=null){if(!this.isVideoAndContextStateValid())return null;((r=this.selectedCameraSettings)==null?void 0:r.isIPhoneProCameraOptimizationEnabled((t=this.selectedCamera)==null?void 0:t.position))===!1&&this.updateCanvasVideoImage();let{width:n}=this.canvas,{height:u}=this.canvas;return{data:this.canvas2dContext.getImageData(0,0,n,u).data,width:n,height:u}}}return null}isVideoAndContextStateValid(){return this.videoElement.readyState===4&&this.videoElement.videoWidth>2&&this.videoElement.videoHeight>2&&this.canvas.width>2&&this.canvas.height>2}async recoverStreamIfNeeded(){var t,r;let e=(t=this.mediaStream)==null?void 0:t.getVideoTracks();((r=e==null?void 0:e[0])==null?void 0:r.readyState)==="ended"&&await this.reinitializeCamera()}async setupCamerasAndStream(){var e,t;try{let r;this.selectedCamera==null&&(r=await this.accessInitialCamera());let n=await V.getCameras(!1,!0),u=(t=(e=this.mediaStream)==null?void 0:e.getVideoTracks()[0])==null?void 0:t.getSettings().deviceId;if(this.mediaStream&&r){let m=n.length===1?n[0]:n.find(h=>h.deviceId===u||h.label!==""&&h.label===(r==null?void 0:r.label));if(m){if(V.adjustCameraFromMediaStream(this.mediaStream,m),B.isDesktopDevice()&&(V.mainCameraForPositionOverridesOnDesktop.set(this.cameraPosition,m),V.mainCameraForPositionOverridesOnDesktop.set(m.position,m)),n.length===1||V.getMainCameraForPosition(n,this.cameraPosition)===m){f.log(f.Level.Debug,"Initial camera access was correct (main camera), keep camera:",m),this.setSelectedCamera(m),this.updateActiveCameraCurrentResolution(m),await this.recoverStreamIfNeeded();return}f.log(f.Level.Debug,"Initial camera access was incorrect (not main camera), change camera",ae(Q({},r),{deviceId:u}))}else f.log(f.Level.Debug,"Initial camera access was incorrect (unknown camera), change camera",ae(Q({},r),{deviceId:u}))}if(this.selectedCamera==null){await this.accessAutoselectedCamera(n);return}await this.initializeCameraWithSettings(this.selectedCamera,this.selectedCameraSettings);return}finally{this.cameraSetupPromise=void 0}}getInitialCameraResolutionConstraint(e){var r,n;if(((r=this.activeCameraSettings)==null?void 0:r.isIPhoneProCameraOptimizationEnabled(e.position))===!0)return 0;let t;switch((n=this.activeCameraSettings)==null?void 0:n.preferredResolution){case"uhd4k":t=0;break;case"fullHd":t=1;break;case"hd":default:t=2;break}return t}async accessAutoselectedCamera(e){e=V.sortCamerasForCameraPosition(e,this.cameraPosition);let t=e.shift();for(;t;)try{await this.initializeCameraWithSettings(t,this.selectedCameraSettings);return}catch(r){if(this.setSelectedCamera(),e.length>0){f.log(f.Level.Warn,"Couldn't access camera:",t,r),t=e.shift();continue}throw r}throw new G(H.noCameraErrorParameters)}async accessInitialCamera(){let e={position:this.cameraPosition,deviceId:"",label:""};try{await this.initializeCameraWithSettings(e,this.selectedCameraSettings)}catch(t){}finally{this.setSelectedCamera()}return e}updateActiveCameraCurrentResolution(e){this.videoElement.videoWidth>2&&this.videoElement.videoHeight>2&&(e.currentResolution={width:this.videoElement.videoWidth,height:this.videoElement.videoHeight}),e.deviceId!==""&&(this.activeCamera=e,this.setMirrorImageEnabled(this.isMirrorImageEnabled(),!1))}postStreamInitialization(){window.clearTimeout(this.getCapabilitiesTimeout),this.getCapabilitiesTimeout=window.setTimeout(()=>{this.storeStreamCapabilities(),this.setupAutofocus()},H.getCapabilitiesTimeoutMs)}handleVideoResize(){if(!(this.videoElement.videoWidth<=2||this.videoElement.videoHeight<=2)){if(this.activeCamera&&this.updateActiveCameraCurrentResolution(this.activeCamera),this.canvasWebGLContext!=null){if(this.canvas.width===this.videoElement.videoWidth&&this.canvas.height===this.videoElement.videoHeight)return;this.canvas.width=this.videoElement.videoWidth,this.canvas.height=this.videoElement.videoHeight,this.canvasWebGLContext.viewport(0,0,this.canvasWebGLContext.drawingBufferWidth,this.canvasWebGLContext.drawingBufferHeight)}else if(this.canvas2dContext!=null){if(this.canvas.width===this.videoElement.videoWidth&&this.canvas.height===this.videoElement.videoHeight)return;this.canvas.width=this.videoElement.videoWidth,this.canvas.height=this.videoElement.videoHeight}}}checkCameraVideoStreamAccessIfVisible(){document.visibilityState==="visible"&&(f.log(f.Level.Debug,"Page is visible again, waiting for camera video stream start..."),document.removeEventListener("visibilitychange",this.checkCameraVideoStreamAccessIfVisibleListener),this.setCameraAccessTimeout())}async videoTrackEndedRecovery(){if(document.visibilityState!=="visible")f.log(f.Level.Debug,"Page is currently not visible, delay camera reinitialization until visible"),document.addEventListener("visibilitychange",this.checkCameraVideoStreamAccessIfVisibleListener);else try{f.log(f.Level.Debug,'Detected video track "ended" event, try to reinitialize camera'),await this.reinitializeCamera()}catch(e){}}videoTrackMuteRecovery(e){if(this.videoElement.onloadeddata!=null){f.log(f.Level.Debug,`Detected video track "${e.type}" event, delay camera video stream access detection`),this.setCameraAccessTimeout();return}let t=e.type==="mute";t!==this.gui.isCameraRecoveryVisible()&&(f.log(f.Level.Debug,`Detected video track "${e.type}" event, ${t?"enable":"disable"} camera recovery`),this.gui.setCameraRecoveryVisible(t))}handleWebGLContextLost(){f.log(f.Level.Warn,"WebGL context has been lost, restoring..."),this._canvasWebGLContext=void 0,this.canvasWebGLContext?(this.handleVideoResize(),f.log(f.Level.Warn,"WebGL context restored")):f.log(f.Level.Error,"WebGL context restore failed")}async triggerManualFocusForContinuous(){var r;if(!this.mediaStream)return;this.manualToAutofocusResumeTimeout=window.setTimeout(async()=>{await this.triggerFocusMode("continuous")},H.manualToAutofocusResumeTimeoutMs);let e=!0,t=this.mediaStream.getVideoTracks();t.length>0&&typeof t[0].getConstraints=="function"&&(e=((r=t[0].getConstraints().advanced)==null?void 0:r.some(n=>n.focusMode==="manual"))===!0),e?(await this.triggerFocusMode("continuous"),this.manualFocusWaitTimeout=window.setTimeout(async()=>{await this.triggerFocusMode("manual")},H.manualFocusWaitTimeoutMs)):await this.triggerFocusMode("manual")}async triggerManualFocusForSingleShot(){window.clearInterval(this.autofocusInterval),this.manualToAutofocusResumeTimeout=window.setTimeout(()=>{this.autofocusInterval=window.setInterval(this.triggerAutoFocus.bind(this),H.autofocusIntervalMs)},H.manualToAutofocusResumeTimeoutMs);try{await this.triggerFocusMode("single-shot")}catch(e){}}async triggerManualFocus(e){if(e){if(e.preventDefault(),e.type==="touchend"&&e.touches.length>0)return;if(this.pinchToZoomDistance!=null){this.pinchToZoomDistance=void 0;return}}if(window.clearTimeout(this.manualFocusWaitTimeout),window.clearTimeout(this.manualToAutofocusResumeTimeout),this.mediaStream&&this.mediaTrackCapabilities){let t=this.mediaTrackCapabilities.focusMode;Array.isArray(t)&&t.includes("single-shot")&&(t.includes("continuous")&&t.includes("manual")?await this.triggerManualFocusForContinuous():t.includes("continuous")||await this.triggerManualFocusForSingleShot())}}triggerZoomStart(e){var t,r,n,u;if((e==null?void 0:e.touches.length)===2&&(e.preventDefault(),this.pinchToZoomDistance=Math.hypot((e.touches[1].screenX-e.touches[0].screenX)/screen.width,(e.touches[1].screenY-e.touches[0].screenY)/screen.height),this.mediaStream&&((t=this.mediaTrackCapabilities)==null?void 0:t.zoom))){let m=this.mediaStream.getVideoTracks();if(m.length>0&&typeof m[0].getConstraints=="function"){this.pinchToZoomInitialZoom=(r=this.mediaTrackCapabilities.zoom.min)!=null?r:1;let h=m[0].getConstraints();if(h.advanced){let v=(n=h.advanced.find(b=>"zoom"in b))==null?void 0:n.zoom;v!=null&&(this.pinchToZoomInitialZoom=typeof v=="number"?v:(u=v.ideal)!=null?u:1)}}}}async triggerZoomMove(e){this.pinchToZoomDistance==null||(e==null?void 0:e.touches.length)!==2||e.preventDefault()}storeStreamCapabilities(){var e;if(this.mediaStream){let t=this.mediaStream.getVideoTracks();t.length>0&&typeof t[0].getCapabilities=="function"&&(this.mediaTrackCapabilities=t[0].getCapabilities()),this.mediaTrackCapabilitiesPromiseResolver&&this.mediaTrackCapabilitiesPromiseResolver()}this.activeCamera&&this.reportCameraProperties(this.activeCamera.deviceId,this.activeCamera.position,((e=this.mediaTrackCapabilities)==null?void 0:e.focusMode)==null||this.mediaTrackCapabilities.focusMode.includes("continuous"))}reportCameraProperties(e,t,r=!0){this.emit("cameraProperties",{deviceId:e,isFrontFacing:t==="userFacing",hasAutofocus:r})}setupAutofocus(){if(window.clearTimeout(this.manualFocusWaitTimeout),window.clearTimeout(this.manualToAutofocusResumeTimeout),this.mediaStream&&this.mediaTrackCapabilities){let e=this.mediaTrackCapabilities.focusMode;Array.isArray(e)&&!e.includes("continuous")&&e.includes("single-shot")&&(window.clearInterval(this.autofocusInterval),this.autofocusInterval=window.setInterval(this.triggerAutoFocus.bind(this),H.autofocusIntervalMs))}}async triggerAutoFocus(){await this.triggerFocusMode("single-shot")}async triggerFocusMode(e){if(this.mediaStream){let t=this.mediaStream.getVideoTracks();if(t.length>0&&typeof t[0].applyConstraints=="function")try{await t[0].applyConstraints({advanced:[{focusMode:e}]})}catch(r){}}}enableTapToFocusListeners(){for(let e of["touchend","mousedown"])this.videoElement.addEventListener(e,this.triggerManualFocusListener)}enablePinchToZoomListeners(){this.videoElement.addEventListener("touchstart",this.triggerZoomStartListener),this.videoElement.addEventListener("touchmove",this.triggerZoomMoveListener)}disableTapToFocusListeners(){for(let e of["touchend","mousedown"])this.videoElement.removeEventListener(e,this.triggerManualFocusListener)}disablePinchToZoomListeners(){this.videoElement.removeEventListener("touchstart",this.triggerZoomStartListener),this.videoElement.removeEventListener("touchmove",this.triggerZoomMoveListener)}async initializeCameraAndCheckUpdatedSettings(e){var t,r,n,u,m;try{if(await this.initializeCameraForResolution(e),this.selectedCameraSettings!==this.activeCameraSettings&&(this.selectedCameraSettings==null||this.activeCameraSettings==null||Object.keys(this.selectedCameraSettings).some(o=>{var c,d;return((c=this.selectedCameraSettings)==null?void 0:c[o])!==((d=this.activeCameraSettings)==null?void 0:d[o])}))){this.activeCameraSettings=this.selectedCameraSettings,await this.initializeCameraAndCheckUpdatedSettings(e);return}this.activeCameraSettings&&this.activeCameraSettings.zoomFactor>1&&await this.setZoom(this.activeCameraSettings.zoomFactor);let h=(t=this.activeCameraSettings)==null?void 0:t.getProperty("minFrameRate"),v=(r=this.activeCameraSettings)==null?void 0:r.getProperty("maxFrameRate");(h!=null||v!=null)&&await this.setFrameRate({min:h,max:v});let b=(n=this.activeCameraSettings)==null?void 0:n.getProperty("manualLensPosition");b!=null&&await this.setFocus(b);let i=(u=this.activeCameraSettings)==null?void 0:u.getProperty("exposureTargetBias"),a=(m=this.activeCameraSettings)==null?void 0:m.getProperty("exposureDuration");(i!=null||a!=null)&&await this.setExposure({compensation:i,time:a})}finally{this.cameraInitializationPromise=void 0}}async handleCameraInitializationError(e,t,r){if(!["OverconstrainedError","NotReadableError"].includes(r.name)||r.name==="NotReadableError"&&t===4)throw f.log(f.Level.Debug,"Camera video stream access failure (unrecoverable error)",e,r),r.name!=="NotAllowedError"&&V.markCameraAsInaccessible(e),r;if(r.name==="OverconstrainedError"&&t===4){if(e.deviceId==="")throw f.log(f.Level.Warn,"Camera video stream access failure (no camera with such type error)",e,r),r;f.log(f.Level.Warn,"Detected non-existent deviceId error, attempt to find and reaccess updated camera",e,r);let n=e.deviceId;if(await V.getCameras(!0),n===e.deviceId)throw f.log(f.Level.Warn,"Camera video stream access failure (updated camera not found after non-existent deviceId error)",e,r),V.markCameraAsInaccessible(e),r;return f.log(f.Level.Warn,"Updated camera found (recovered from non-existent deviceId error), attempt to access it",e),this.initializeCameraForResolution(e)}return this.initializeCameraForResolution(e,t+1)}async updateStreamForResolution(e,t){var r;if(this.mediaStream==null)await this.initializeCameraForResolution(e,t);else try{f.log(f.Level.Debug,"Setting new resolution for active camera video stream..."),await this.mediaStream.getVideoTracks()[0].applyConstraints(V.getUserMediaVideoParameters(t,(r=this.activeCameraSettings)==null?void 0:r.getProperty("preferredAspectRatio"))),await new Promise(u=>{this.videoElement.addEventListener("timeupdate",()=>{u()},{once:!0})});let n=this.mediaStream.getVideoTracks()[0].getSettings();f.log(f.Level.Debug,"New active camera video stream resolution set",{width:n.width,height:n.height})}catch(n){if(t===4)throw n;await this.updateStreamForResolution(e,t+1)}}async initializeStreamForResolution(e,t){var r;await this.stopStream();try{let n=await V.accessCameraStream(e,t,(r=this.activeCameraSettings)==null?void 0:r.getProperty("preferredAspectRatio"));if(f.log(f.Level.Debug,"Camera accessed, waiting for camera video stream start..."),typeof n.getVideoTracks()[0].getSettings=="function"){let u=n.getVideoTracks()[0].getSettings();if(u.width!=null&&u.height!=null&&(u.width===2||u.height===2)){if(f.log(f.Level.Debug,"Camera video stream access failure (invalid video metadata):",e),t===4)throw new G(H.notReadableErrorParameters);return await this.stopStream(),this.initializeStreamForResolution(e,t+1)}}this.mediaStream=n;for(let u of this.mediaStream.getVideoTracks())u.addEventListener("ended",this.videoTrackEndedListener),u.addEventListener("mute",this.videoTrackMuteListener),u.addEventListener("unmute",this.videoTrackMuteListener);try{await this.setupCameraStreamVideo(e,n)}catch(u){if(t===4)throw u;return this.initializeStreamForResolution(e,t+1)}}catch(n){return this.handleCameraInitializationError(e,t,n)}}async initializeCameraForResolution(e,t){var n;this.gui.setCameraRecoveryVisible(!1);let r=t!=null?t:this.getInitialCameraResolutionConstraint(e);await(this.mediaStream!=null&&e.deviceId!==""&&((n=this.activeCamera)==null?void 0:n.deviceId)===e.deviceId?this.updateStreamForResolution(e,r):this.initializeStreamForResolution(e,r))}setCameraAccessTimeout(){window.clearTimeout(this.cameraAccessTimeout),this.cameraAccessTimeout=window.setTimeout(async()=>{var e;document.visibilityState!=="visible"?(f.log(f.Level.Debug,"Page is currently not visible, delay camera video stream access detection"),document.addEventListener("visibilitychange",this.checkCameraVideoStreamAccessIfVisibleListener)):(await this.stopStream(!0),(e=this.cameraAccessRejectCallback)==null||e.call(this,new G(H.notReadableErrorParameters)))},H.cameraAccessTimeoutMs)}async checkCameraAccess(e){return new Promise((t,r)=>{this.cameraAccessRejectCallback=n=>{f.log(f.Level.Debug,"Camera video stream access failure (video data load timeout):",e),this.gui.setCameraRecoveryVisible(!0),r(n)},this.setCameraAccessTimeout()})}async checkVideoMetadata(e){return new Promise((t,r)=>{this.videoElement.onloadeddata=()=>{if(this.videoElement.onloadeddata=null,window.clearTimeout(this.cameraAccessTimeout),this.videoElement.videoWidth>2&&this.videoElement.videoHeight>2&&this.videoElement.currentTime>0){this.updateActiveCameraCurrentResolution(e),f.log(f.Level.Debug,"Camera video stream access success:",e),t();return}let n=performance.now();window.clearInterval(this.videoMetadataCheckInterval),this.videoMetadataCheckInterval=window.setInterval(async()=>{if(this.videoElement.videoWidth<=2||this.videoElement.videoHeight<=2||this.videoElement.currentTime===0){if(performance.now()-n>H.videoMetadataCheckTimeoutMs){f.log(f.Level.Warn,"Camera video stream access failure (valid video metadata timeout):",e),window.clearInterval(this.videoMetadataCheckInterval),await this.stopStream(!0),r(new G(H.notReadableErrorParameters));return}return}window.clearInterval(this.videoMetadataCheckInterval),this.updateActiveCameraCurrentResolution(e),f.log(f.Level.Debug,"Camera video stream access success:",e),t()},H.videoMetadataCheckIntervalMs)}})}async setupCameraStreamVideo(e,t){this.videoElement.addEventListener("loadedmetadata",this.postStreamInitializationListener),this.videoElement.addEventListener("resize",this.videoResizeListener),this.tapToFocusEnabled&&this.enableTapToFocusListeners(),this.pinchToZoomEnabled&&this.enablePinchToZoomListeners();let r=Promise.race([this.checkCameraAccess(e),this.checkVideoMetadata(e),new Promise(n=>{this.abortedCameraInitializationResolveCallback=n})]);return this.videoElement.srcObject=t,this.videoElement.load(),await this.playVideo(),this.handleVideoResize(),this.reportCameraProperties(e.deviceId,e.position),r}get canvas2dContext(){return this._canvas2dContext||(this._canvas2dContext=this.canvas.getContext("2d",{willReadFrequently:!0}),this.handleVideoResize()),this._canvas2dContext}get canvasWebGLContext(){var e,t,r;if(((t=this.selectedCameraSettings)==null?void 0:t.isIPhoneProCameraOptimizationEnabled((e=this.selectedCamera)==null?void 0:e.position))===!1&&!this._canvas2dContext&&!this._canvasWebGLContext){let n=(r=this.canvas.getContext("webgl",{alpha:!1,antialias:!1}))!=null?r:this.canvas.getContext("experimental-webgl",{alpha:!1,antialias:!1});if(n!=null){let u=n.createTexture();n.bindTexture(n.TEXTURE_2D,u);let m=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,m),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,u,0),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),this._canvasWebGLContext=n,this.handleVideoResize()}}return this._canvasWebGLContext}emit(e,t){if(this.listeners.has(e))for(let r of this.listeners.get(e))r(t)}},k=H;l(k,"cameraAccessTimeoutMs",4e3),l(k,"videoMetadataCheckTimeoutMs",4e3),l(k,"videoMetadataCheckIntervalMs",50),l(k,"getCapabilitiesTimeoutMs",500),l(k,"autofocusIntervalMs",1500),l(k,"manualToAutofocusResumeTimeoutMs",5e3),l(k,"manualFocusWaitTimeoutMs",400),l(k,"noCameraErrorParameters",{name:"NoCameraAvailableError",message:"No camera available"}),l(k,"notReadableErrorParameters",{name:"NotReadableError",message:"Could not initialize camera correctly"}),l(k,"MIRRORED_CLASS_NAME",ne.MIRRORED_CLASS_NAME),l(k,"_instance");var st;(e=>{async function s(t,r){return V.getCameras(t!=null?t:!1,r!=null?r:!1)}e.getCameras=s})(st||(st={}));var ve=class{constructor(e){l(this,"label");l(this,"deviceId","");l(this,"position");l(this,"currentResolution");l(this,"cameraManager");l(this,"type","camera");l(this,"webGLContextLostListener");l(this,"_currentState","off");l(this,"settings",new me);l(this,"_desiredTorchState","off");l(this,"_desiredState","off");l(this,"listeners",[]);l(this,"_context",null);l(this,"_desiredMirrorImageEnabled");l(this,"_lastCaptureRequestAnimationFrame");l(this,"_lastCanvasVideoPreviewAnimationFrame");this.cameraManager=e!=null?e:k.instance()}static get default(){let e=new ve;return e.position="worldFacing",e}static atPosition(e){if(D.Camera.availablePositions.includes(e)){let t=new ve;return t.position=e,t}return f.log(f.Level.Warn,`invalid CameraPosition: "${e}"`),null}get desiredState(){return this._desiredState}async switchToDesiredState(e){if(e==="on"){if(this.currentState==="on"||this.currentState==="starting")return}else if(this.currentState==="off"||this.currentState==="stopping")return;if(this._desiredState=e,e==="on"){this.currentState="starting";try{await this.setupCamera(),this.currentState="on"}catch(t){throw f.log(f.Level.Error,t),this.currentState="off",t}}else this.currentState="stopping",await this.cameraManager.stopStream(),this.currentState="off",await this.setDesiredTorchState("off")}getDesiredTorchState(){return this._desiredTorchState}async setDesiredTorchState(e){this._desiredTorchState=e,await this.cameraManager.setTorchEnabled(this._desiredTorchState==="on"),await this.notifyContext({type:"torchState",newValue:this._desiredTorchState})}async isTorchAvailable(){return this.cameraManager.isTorchAvailable()}addListener(e){e!=null&&(this.listeners.includes(e)||this.listeners.push(e))}removeListener(e){e!=null&&(!this.listeners.includes(e)||this.listeners.splice(this.listeners.indexOf(e),1))}async applySettings(e){if(this.settings=new me(e),this.currentState==="on"){let t=this.cameraManager.activeCameraSettings;(t==null?void 0:t.preferredResolution)!==this.settings.preferredResolution&&await this.cameraManager.applyCameraSettings(this.settings),await this.cameraManager.setZoom(this.settings.zoomFactor);let r=this.settings.getProperty("minFrameRate"),n=this.settings.getProperty("maxFrameRate");(r!=null||n!=null)&&await this.cameraManager.setFrameRate({min:r,max:n});let u=this.settings.getProperty("manualLensPosition");u!=null&&await this.cameraManager.setFocus(u);let m=this.settings.getProperty("exposureTargetBias"),h=this.settings.getProperty("exposureDuration");(m!=null||h!=null)&&await this.cameraManager.setExposure({compensation:m,time:h})}return this.notifyContext({type:"cameraSettings",newValue:this.settings})}toJSONObject(){return{type:this.type,position:this.position,settings:this.settings.toJSONObject(),desiredState:this.desiredState,desiredTorchState:this._desiredTorchState}}getMirrorImageEnabled(){var e;return(e=this._desiredMirrorImageEnabled)!=null?e:this.cameraManager.isMirrorImageEnabled()}async setMirrorImageEnabled(e){this._desiredMirrorImageEnabled=e,this.cameraManager.setMirrorImageEnabled(e,!0),this.context&&await this.context.setFrameSource(this)}get context(){return this._context}set context(e){this._context=e,this._context&&this.currentState==="on"&&this.startSendingCapturesToWorker()}async setupCamera(){if(this.cameraManager.setSelectedCameraSettings(this.settings),this.deviceId!==""){let t=(await st.getCameras()).find(r=>r.deviceId===this.deviceId);t&&(this.cameraManager.setInitialCameraPosition(t.position),this.cameraManager.setSelectedCamera(t))}else this.cameraManager.setSelectedCamera(),this.cameraManager.setInitialCameraPosition(this.position);await this.cameraManager.setupCameras(),typeof this._desiredMirrorImageEnabled=="boolean"?this.cameraManager.setMirrorImageEnabled(this._desiredMirrorImageEnabled,!0):this.cameraManager.setMirrorImageEnabled(this.cameraManager.isMirrorImageEnabled(),!1),this.context&&await this.context.setFrameSource(this),this.cameraManager.activeCamera&&(this.label=this.cameraManager.activeCamera.label,this.position=this.cameraManager.activeCamera.position,this.deviceId=this.cameraManager.activeCamera.deviceId,this.currentResolution=this.cameraManager.activeCamera.currentResolution)}set currentState(e){e!==this._currentState&&(this._currentState=e,this.notifyListeners(),this.notifyContext({type:"frameSourceState",newValue:e}).then(()=>{e==="on"&&this.startSendingCapturesToWorker()}).catch(()=>{f.log(f.Level.Warn,"Error while notifying context about new state of Camera")}))}get currentState(){return this._currentState}getCurrentState(){return this._currentState}async notifyContext(e){if(this.context)return this.context.update([e])}notifyListeners(){for(let e of this.listeners)e.didChangeState&&e.didChangeState(this,this.currentState)}startSendingCapturesToWorker(){this._lastCanvasVideoPreviewAnimationFrame!=null&&cancelAnimationFrame(this._lastCanvasVideoPreviewAnimationFrame),this._lastCaptureRequestAnimationFrame!=null&&cancelAnimationFrame(this._lastCaptureRequestAnimationFrame);let e,t;function r(){this.currentState==="on"&&this.context&&(this.cameraManager.updateCanvasVideoImage(),this._lastCanvasVideoPreviewAnimationFrame=requestAnimationFrame(e))}async function n(){if(this.currentState==="on"&&this.context){if(!this.context.hasEnabledMode()){this._lastCaptureRequestAnimationFrame=requestAnimationFrame(t);return}let u;try{u=this.cameraManager.captureImage()}catch(m){f.log(f.Level.Warn,m==null?void 0:m.message)}if(u)try{this.cameraManager.imageData=(await this.context.sendFrameToProcessor(u)).data}catch(m){}this._lastCaptureRequestAnimationFrame=requestAnimationFrame(t)}}e=r.bind(this),t=n.bind(this),this.settings.isIPhoneProCameraOptimizationEnabled(this.position)&&e(),t()}};var he=class{constructor(){l(this,"_message");l(this,"_code");l(this,"_isValid")}static fromJSON(e){let t=new he;return t._code=e.code,t._message=e.message,t._isValid=e.isValid,t}get message(){return this._message}get code(){return this._code}get isValid(){return this._isValid}},Qt=(r=>(r.None="None",r.X="X",r.Y="Y",r))(Qt||{});var lt=class{constructor(){}setProperty(e,t){this[e]=t}getProperty(e){return this[e]}toJSONObject(){return Object.keys(this).reduce((e,t)=>(e[t]=this.getProperty(t),e),{})}};var Bi,Vi,Ji,Je=class{constructor(e,t){l(this,"framework","web");l(this,"runtimeEnvironment",{deviceOS:(Bi=B.userAgentInfo.getOS().name)!=null?Bi:"",browser:(Vi=B.userAgentInfo.getBrowser().name)!=null?Vi:"",browserVersion:(Ji=B.userAgentInfo.getBrowser().version)!=null?Ji:"",get deviceModelName(){let{model:e,vendor:t}=B.userAgentInfo.getDevice();return[t,e].filter(Boolean).join(" ")}});l(this,"settings",new lt);l(this,"licenseKey");l(this,"deviceName");l(this,"_frameSource",null);l(this,"_view",null);l(this,"modes",[]);l(this,"components",[]);l(this,"listeners",[]);l(this,"cameraPropertiesReportListener",this.reportCameraProperties.bind(this));l(this,"cameraAccessErrorListener",this.onCameraAccessError.bind(this));l(this,"onWorkerMessageListener",this.onWorkerMessage.bind(this));l(this,"dataCaptureInstance");l(this,"delayedRegistration");l(this,"highEndBlurryRecognition");l(this,"_frameHandlers",[]);var r,n,u,m;this.licenseKey=e,this.deviceName=(r=t.deviceName)!=null?r:"",this.dataCaptureInstance=(n=t.dataCaptureInstance)!=null?n:be,this.delayedRegistration=(u=t.delayedRegistration)!=null?u:!1,this.highEndBlurryRecognition=(m=t.highEndBlurryRecognition)!=null?m:!1}get frameSource(){return this._frameSource}static async create(){return Je.createWithOptions({})}static async createWithOptions(e){var r;let t=new Je((r=e.licenseKey)!=null?r:qt,{deviceName:e.deviceName});return e.settings!=null&&await t.applySettings(e.settings),await t.initialize(),t}async setFrameSource(e){let t=e!==this._frameSource;if(this._frameSource!==null&&(this._frameSource.context=null),this._frameSource=e!=null?e:null,e&&(e.context=this,await this.workerCommand("setFrameSource",{mirrorAxis:this.getMirrorAxisForFrameSource(e)})),await this.update([{type:"frameSourceState",newValue:this.frameSource}]),t)for(let r of this.listeners)r.didChangeFrameSource&&r.didChangeFrameSource(this,this._frameSource)}addListener(e){this.listeners.includes(e)||this.listeners.push(e)}removeListener(e){!this.listeners.includes(e)||this.listeners.splice(this.listeners.indexOf(e),1)}async addMode(e){this.modes.includes(e)||(this.modes.push(e),e.attachedToContext(this),await this.update())}async removeMode(e){this.modes.includes(e)&&(this.modes.splice(this.modes.indexOf(e),1),e.detachedFromContext(),await this.update())}async removeAllModes(){for(;this.modes.length>0;)await this.removeMode(this.modes[0])}async dispose(){k.instance().removeListener("cameraProperties",this.cameraPropertiesReportListener),k.instance().removeListener("cameraAccessError",this.cameraAccessErrorListener),await this.workerCommand("dispose",{})}async applySettings(e){this.settings=e,await this.update()}toJSONObject(){var e,t;return ae(Q({licenseKey:this.licenseKey,framework:this.framework,deviceName:this.deviceName},this.runtimeEnvironment),{modes:this.modes.map(r=>r.toJSONObject()),components:this.components.map(r=>r.toJSONObject()),frameSource:this.frameSource?this.frameSource.toJSONObject():null,settings:this.settings.toJSONObject(),view:(t=(e=this._view)==null?void 0:e.toJSONObject())!=null?t:null})}getView(){return this._view}async setView(e){return this._view=e,this.update()}async initialize(e=!0){await this.workerCommand("createContext",{context:this.toJSONObject(),deviceId:Je.deviceID,domain:window.location.hostname,delayedRegistration:this.delayedRegistration,highEndBlurryRecognition:this.highEndBlurryRecognition}),this.subscribeToWorkerMessages(this.onWorkerMessageListener),e&&this.subscribeToCameraManagerEvents()}get workerCommand(){return this.dataCaptureInstance.workerCommand.bind(this.dataCaptureInstance)}async requestFrameData(e){return this.workerCommand("requestFrameData",{frameId:e})}async sendFrameToProcessor(e){if(this._frameHandlers.length===0)return this.sendFrameToSDC(e);let t=[];for(let r of this._frameHandlers)t.push(r(e));return await Promise.all(t),this.sendFrameToSDC(e)}async sendFrameToSDC(e){return this.workerCommand("processFrame",e,[e.data.buffer])}registerFrameHandler(e){this._frameHandlers.includes(e)||this._frameHandlers.push(e)}unregisterFrameHandler(e){this._frameHandlers.includes(e)&&this._frameHandlers.splice(this._frameHandlers.indexOf(e),1)}onWorkerMessage(e){if(e.type==="contextDidChangeStatus"){e.payload.isValid||f.log(f.Level.Error,e.payload);for(let t of this.listeners)t.didChangeStatus&&t.didChangeStatus(this,he.fromJSON(e.payload))}if(e.type==="didStartObservingContext")for(let t of this.listeners)t.didStartObservingContext&&t.didStartObservingContext(this)}subscribeToCameraManagerEvents(){k.instance().addListener("cameraProperties",this.cameraPropertiesReportListener),k.instance().addListener("cameraAccessError",this.cameraAccessErrorListener)}async reportCameraProperties(e){return this.workerCommand("reportCameraProperties",e)}onCameraAccessError(e){for(let t of this.listeners)t.didChangeStatus&&t.didChangeStatus(this,he.fromJSON({code:33794,isValid:!0,message:e.toString()}))}async update(e=[]){var t,r;await this.updateContext();for(let n of e)n.type==="frameSourceState"?await((t=this._view)==null?void 0:t.onFrameSourceChange(this.frameSource)):n.type==="singleImageModeUploaderSettings"&&((r=this._view)==null||r.onSingleImageUploaderSettingsChange(n.newValue))}async updateContext(){await this.workerCommand("updateContext",Q({context:this.toJSONObject()},this.getViewWidthAndHeight())).catch(e=>{f.log(f.Level.Warn,"Error while updating context:",e)})}getViewWidthAndHeight(){return this._view!=null?{view:{width:this._view.width,height:this._view.height}}:{view:null}}getMirrorAxisForFrameSource(e){let t="None";return e.type==="camera"&&e.getMirrorImageEnabled()&&(t="Y"),t}async addComponent(e){if(!this.components.includes(e))return this.components.push(e),e._context=this,this.update()}subscribeToWorkerMessages(e){this.dataCaptureInstance.addWorkerListener(e)}unsubscribeToWorkerMessages(e){this.dataCaptureInstance.removeWorkerListener(e)}hasEnabledMode(){return this.modes.some(e=>e.isEnabled())}},$t=Je;l($t,"deviceID",B.getDeviceId());var ct;(e=>{function s(){let t="6.17.1";if(t==null)throw new G({name:"Invalid library version",message:"Library version is not defined or empty."});return t}e.sdkVersion=s})(ct||(ct={}));var se=[];var Hi=function(){return se.some(function(s){return s.activeTargets.length>0})};var Gi=function(){return se.some(function(s){return s.skippedTargets.length>0})};var Yi="ResizeObserver loop completed with undelivered notifications.",Qi=function(){var s;typeof ErrorEvent=="function"?s=new ErrorEvent("error",{message:Yi}):(s=document.createEvent("Event"),s.initEvent("error",!1,!1),s.message=Yi),window.dispatchEvent(s)};var Me;(function(s){s.BORDER_BOX="border-box",s.CONTENT_BOX="content-box",s.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Me||(Me={}));var le=function(s){return Object.freeze(s)};var Zt=function(){function s(e,t){this.inlineSize=e,this.blockSize=t,le(this)}return s}();var Xt=function(){function s(e,t,r,n){return this.x=e,this.y=t,this.width=r,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,le(this)}return s.prototype.toJSON=function(){var e=this,t=e.x,r=e.y,n=e.top,u=e.right,m=e.bottom,h=e.left,v=e.width,b=e.height;return{x:t,y:r,top:n,right:u,bottom:m,left:h,width:v,height:b}},s.fromRect=function(e){return new s(e.x,e.y,e.width,e.height)},s}();var He=function(s){return s instanceof SVGElement&&"getBBox"in s},ut=function(s){if(He(s)){var e=s.getBBox(),t=e.width,r=e.height;return!t&&!r}var n=s,u=n.offsetWidth,m=n.offsetHeight;return!(u||m||s.getClientRects().length)},Kt=function(s){var e;if(s instanceof Element)return!0;var t=(e=s==null?void 0:s.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(t&&s instanceof t.Element)},$i=function(s){switch(s.tagName){case"INPUT":if(s.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1};var _e=typeof window<"u"?window:{};var dt=new WeakMap,qi=/auto|scroll/,ia=/^tb|vertical/,ra=/msie|trident/i.test(_e.navigator&&_e.navigator.userAgent),pe=function(s){return parseFloat(s||"0")},Te=function(s,e,t){return s===void 0&&(s=0),e===void 0&&(e=0),t===void 0&&(t=!1),new Zt((t?e:s)||0,(t?s:e)||0)},Zi=le({devicePixelContentBoxSize:Te(),borderBoxSize:Te(),contentBoxSize:Te(),contentRect:new Xt(0,0,0,0)}),ei=function(s,e){if(e===void 0&&(e=!1),dt.has(s)&&!e)return dt.get(s);if(ut(s))return dt.set(s,Zi),Zi;var t=getComputedStyle(s),r=He(s)&&s.ownerSVGElement&&s.getBBox(),n=!ra&&t.boxSizing==="border-box",u=ia.test(t.writingMode||""),m=!r&&qi.test(t.overflowY||""),h=!r&&qi.test(t.overflowX||""),v=r?0:pe(t.paddingTop),b=r?0:pe(t.paddingRight),i=r?0:pe(t.paddingBottom),a=r?0:pe(t.paddingLeft),o=r?0:pe(t.borderTopWidth),c=r?0:pe(t.borderRightWidth),d=r?0:pe(t.borderBottomWidth),g=r?0:pe(t.borderLeftWidth),p=a+b,S=v+i,C=g+c,_=o+d,j=h?s.offsetHeight-_-s.clientHeight:0,$=m?s.offsetWidth-C-s.clientWidth:0,Z=n?p+C:0,P=n?S+_:0,I=r?r.width:pe(t.width)-Z-$,X=r?r.height:pe(t.height)-P-j,ee=I+p+$+C,K=X+S+j+_,re=le({devicePixelContentBoxSize:Te(Math.round(I*devicePixelRatio),Math.round(X*devicePixelRatio),u),borderBoxSize:Te(ee,K,u),contentBoxSize:Te(I,X,u),contentRect:new Xt(a,v,I,X)});return dt.set(s,re),re},mt=function(s,e,t){var r=ei(s,t),n=r.borderBoxSize,u=r.contentBoxSize,m=r.devicePixelContentBoxSize;switch(e){case Me.DEVICE_PIXEL_CONTENT_BOX:return m;case Me.BORDER_BOX:return n;default:return u}};var ti=function(){function s(e){var t=ei(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=le([t.borderBoxSize]),this.contentBoxSize=le([t.contentBoxSize]),this.devicePixelContentBoxSize=le([t.devicePixelContentBoxSize])}return s}();var pt=function(s){if(ut(s))return 1/0;for(var e=0,t=s.parentNode;t;)e+=1,t=t.parentNode;return e};var Xi=function(){var s=1/0,e=[];se.forEach(function(m){if(m.activeTargets.length!==0){var h=[];m.activeTargets.forEach(function(b){var i=new ti(b.target),a=pt(b.target);h.push(i),b.lastReportedSize=mt(b.target,b.observedBox),a<s&&(s=a)}),e.push(function(){m.callback.call(m.observer,h,m.observer)}),m.activeTargets.splice(0,m.activeTargets.length)}});for(var t=0,r=e;t<r.length;t++){var n=r[t];n()}return s};var ii=function(s){se.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(n){n.isActive()&&(pt(n.target)>s?t.activeTargets.push(n):t.skippedTargets.push(n))})})};var Ki=function(){var s=0;for(ii(s);Hi();)s=Xi(),ii(s);return Gi()&&Qi(),s>0};var ri,er=[],aa=function(){return er.splice(0).forEach(function(s){return s()})},tr=function(s){if(!ri){var e=0,t=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return aa()}).observe(t,r),ri=function(){t.textContent="".concat(e?e--:e++)}}er.push(s),ri()};var ir=function(s){tr(function(){requestAnimationFrame(s)})};var ht=0,na=function(){return!!ht},oa=250,sa={attributes:!0,characterData:!0,childList:!0,subtree:!0},rr=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],ar=function(s){return s===void 0&&(s=0),Date.now()+s},ai=!1,la=function(){function s(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return s.prototype.run=function(e){var t=this;if(e===void 0&&(e=oa),!ai){ai=!0;var r=ar(e);ir(function(){var n=!1;try{n=Ki()}finally{if(ai=!1,e=r-ar(),!na())return;n?t.run(1e3):e>0?t.run(e):t.start()}})}},s.prototype.schedule=function(){this.stop(),this.run()},s.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,sa)};document.body?t():_e.addEventListener("DOMContentLoaded",t)},s.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),rr.forEach(function(t){return _e.addEventListener(t,e.listener,!0)}))},s.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),rr.forEach(function(t){return _e.removeEventListener(t,e.listener,!0)}),this.stopped=!0)},s}(),gt=new la,ni=function(s){!ht&&s>0&&gt.start(),ht+=s,!ht&&gt.stop()};var ca=function(s){return!He(s)&&!$i(s)&&getComputedStyle(s).display==="inline"},nr=function(){function s(e,t){this.target=e,this.observedBox=t||Me.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return s.prototype.isActive=function(){var e=mt(this.target,this.observedBox,!0);return ca(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},s}();var or=function(){function s(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t}return s}();var ft=new WeakMap,sr=function(s,e){for(var t=0;t<s.length;t+=1)if(s[t].target===e)return t;return-1},Ge=function(){function s(){}return s.connect=function(e,t){var r=new or(e,t);ft.set(e,r)},s.observe=function(e,t,r){var n=ft.get(e),u=n.observationTargets.length===0;sr(n.observationTargets,t)<0&&(u&&se.push(n),n.observationTargets.push(new nr(t,r&&r.box)),ni(1),gt.schedule())},s.unobserve=function(e,t){var r=ft.get(e),n=sr(r.observationTargets,t),u=r.observationTargets.length===1;n>=0&&(u&&se.splice(se.indexOf(r),1),r.observationTargets.splice(n,1),ni(-1))},s.disconnect=function(e){var t=this,r=ft.get(e);r.observationTargets.slice().forEach(function(n){return t.unobserve(e,n.target)}),r.activeTargets.splice(0,r.activeTargets.length)},s}();var oi=function(){function s(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Ge.connect(this,e)}return s.prototype.observe=function(e,t){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Kt(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Ge.observe(this,e,t)},s.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Kt(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Ge.unobserve(this,e)},s.prototype.disconnect=function(){Ge.disconnect(this)},s.toString=function(){return"function ResizeObserver () { [polyfill code] }"},s}();function vt(s){console.warn("Reached unexpected case")}function ls(s){throw new Error("Reached unexpected case")}var si=class{constructor(e){l(this,"_context",null);l(this,"resizeObserver");l(this,"isNextDrawPending",!1);l(this,"latestCommands",[]);l(this,"canvas");this.canvas=e}get context(){if(!this._context){if(this._context=this.canvas.getContext("2d"),!this._context)throw new TypeError("CanvasRenderingContext cannot be retrieved.");this.setCanvasObserver()}return this._context}draw(e){if(this.latestCommands=e,!this.isCanvasReady()){this.postponeDraw();return}this.isNextDrawPending||(this.isNextDrawPending=!0,requestAnimationFrame(()=>{this.context.clearRect(0,0,this.canvas.width,this.canvas.height);for(let t of this.latestCommands)this.drawSingleCommand(t);this.isNextDrawPending=!1}))}postponeDraw(){this.setCanvasObserver()}drawSingleCommand(e){switch(e.command){case"beginPath":this.beginPath();break;case"closePath":this.closePath();break;case"setStrokeColor":this.setStrokeColor(e.args);break;case"setFillColor":this.setFillColor(e.args);break;case"fill":this.fill();break;case"stroke":this.stroke();break;case"addCircle":this.addCircle(e.args);break;case"addLine":this.addLine(e.args);break;case"lineTo":this.lineTo(e.args);break;case"moveTo":this.moveTo(e.args);break;case"addRect":this.addRectangle(e.args);break;case"addRoundedRect":this.addRoundedRectangle(e.args);break;case"setStrokeWidth":this.setStrokeWidth(e.args);break;case"addArc":this.addArc(e.args);break;case"bezierTo":this.bezierTo(e.args);break;case"saveState":this.saveState();break;case"restoreState":this.restoreState();break;case"translate":this.translate(e.args);break;default:vt(e)}}beginPath(){this.context.beginPath()}closePath(){this.context.closePath()}setStrokeColor(e){this.context.strokeStyle=this.colorToRgbaString(e.color)}setFillColor(e){this.context.fillStyle=this.colorToRgbaString(e.color)}fill(){this.context.fill("nonzero")}stroke(){this.context.stroke()}addLine(e){this.context.moveTo(e.start.x,e.start.y),this.context.lineTo(e.end.x,e.end.y)}lineTo(e){this.context.lineTo(e.point.x,e.point.y)}moveTo(e){this.context.moveTo(e.point.x,e.point.y)}addRectangle(e){this.context.rect(e.origin.x,e.origin.y,e.size.width,e.size.height)}addRoundedRectangle(e){let{origin:t,radius:r,size:n}=e;this.context.moveTo(t.x+r,t.y),this.context.lineTo(t.x+n.width-r,t.y),this.context.quadraticCurveTo(t.x+n.width,t.y,t.x+n.width,t.y+r),this.context.lineTo(t.x+n.width,t.y+n.height-r),this.context.quadraticCurveTo(t.x+n.width,t.y+n.height,t.x+n.width-r,t.y+n.height),this.context.lineTo(t.x+r,t.y+n.height),this.context.quadraticCurveTo(t.x,t.y+n.height,t.x,t.y+n.height-r),this.context.lineTo(t.x,t.y+r),this.context.quadraticCurveTo(t.x,t.y,t.x+r,t.y),this.context.closePath()}setStrokeWidth(e){this.context.lineWidth=e.width}addArc(e){this.context.arc(e.center.x,e.center.y,e.radius,e.startAngle,e.endAngle,e.counterclockwise)}addCircle(e){this.context.arc(e.center.x,e.center.y,e.radius,0,Math.PI*2)}bezierTo(e){this.context.bezierCurveTo(e.firstControlPoint.x,e.firstControlPoint.y,e.secondControlPoint.x,e.secondControlPoint.y,e.endPoint.x,e.endPoint.y)}saveState(){this.context.save()}restoreState(){this.context.restore()}translate(e){this.context.translate(e.distance.x,e.distance.y)}colorToRgbaString(e){return`rgba(${e.r},${e.g},${e.b},${e.a})`}isCanvasReady(){return this.canvas.width>0&&this.canvas.height>0}setCanvasObserver(){this.resizeObserver||(this.resizeObserver=new si.ResizeObserver(e=>{if(!this.isCanvasReady())return;let{devicePixelRatio:t=1}=window,{width:r,height:n}=this.canvas.getBoundingClientRect(),u=Math.round(r*t),m=Math.round(n*t);(u!==this.canvas.width||m!==this.canvas.height)&&(this.canvas.width=u,this.canvas.height=m,this.context.scale(t,t)),this.latestCommands.length!==0&&(this.draw(this.latestCommands),this.latestCommands=[])}),this.resizeObserver.observe(this.canvas))}},Ye=si;l(Ye,"ResizeObserver",window.ResizeObserver);var Le=class{constructor(e){l(this,"element");l(this,"resizeObserver");l(this,"mutationObserver");l(this,"onStateChangedListener");l(this,"onDisconnectedListener");l(this,"cachedDOMRect");this.element=e,this.setupListeners(),this.cacheDOMRect()}get width(){return this.cachedDOMRect.width}get height(){return this.cachedDOMRect.height}static areEquivalentJSONStates(e,t){return!e||!t?!1:e.size.isSameAs(t.size)&&e.visible===t.visible}onStateChanged(e){this.onStateChangedListener=e}onDisconnected(e){this.onDisconnectedListener=e}toJSONObject(){return{size:new we(new F(this.width,"pixel"),new F(this.height,"pixel")),visible:this.isVisible()}}isSameAs(e){return Le.areEquivalentJSONStates(this.toJSONObject(),e.toJSONObject())}removeListeners(){this.resizeObserver.disconnect(),this.mutationObserver.disconnect()}isVisible(){return this.width>0&&this.height>0||this.element.getClientRects().length>0}setupListeners(){this.resizeObserver=new ResizeObserver(this.onSizeChange.bind(this)),this.resizeObserver.observe(this.element),this.mutationObserver=new MutationObserver(this.onMutation.bind(this)),this.element.parentElement&&this.mutationObserver.observe(this.element.parentElement,{childList:!0})}onSizeChange(e){var t;this.cacheDOMRect(e),document.contains(this.element)&&((t=this.onStateChangedListener)==null||t.call(this))}onMutation(e){var r;let t=e.find(({type:n})=>n==="childList");if(!!t){for(let n of t.removedNodes)if(n===this.element&&!document.contains(this.element)){(r=this.onDisconnectedListener)==null||r.call(this);return}}}cacheDOMRect(e){let t;Array.isArray(e)&&e.length>0&&(t=e[0].contentRect),t==null&&(t=this.element.getBoundingClientRect()),this.cachedDOMRect=t}};var Qe=class{constructor(e,t){l(this,"domHost");l(this,"state","idle");l(this,"button");l(this,"isHover",!1);l(this,"onTouchStartListener");l(this,"onMouseEnterListener");l(this,"onMouseLeaveListener");l(this,"onClickListener");l(this,"control");this.control=e,this.domHost=t,this.onTouchStartListener=this.onTouchStart.bind(this),this.onMouseEnterListener=this.onMouseEnter.bind(this),this.onMouseLeaveListener=this.onMouseLeave.bind(this),this.onClickListener=this.onClick.bind(this)}get frameSource(){var e,t;return(t=(e=this.control.view)==null?void 0:e.getContext())==null?void 0:t.frameSource}get context(){var e;return(e=this.control.view)==null?void 0:e.getContext()}async install(){!this.button||(await this.canShow()?(this.updateButtonBackground(this.button,this.getImageFromState()),this.show()):this.hide())}remove(e=!1){e&&this.button?(this.button.removeEventListener("mouseenter",this.onMouseEnterListener),this.button.removeEventListener("mouseleave",this.onMouseLeaveListener),this.button.removeEventListener("touchstart",this.onTouchStartListener),this.button.removeEventListener("click",this.onClickListener),this.button.remove(),this.isHover=!1,this.button=void 0):this.hide()}hide(){this.button&&(this.button.style.display="none")}show(){this.button&&(this.button.style.display="block")}setupButton(){let e=document.createElement("button");return e.type="button",e.style.display="none",e.className=`scandit-control-widget scandit-control-widget-${this.control.type}`,this.updateButtonBackground(e,this.getImageFromState()),this.domHost.append(e),e.addEventListener("mouseenter",this.onMouseEnterListener),e.addEventListener("mouseleave",this.onMouseLeaveListener),B.isDesktopDevice()||e.addEventListener("touchstart",this.onTouchStartListener),e.addEventListener("click",this.onClickListener),e.setAttribute("aria-pressed",String(this.state==="pressed")),this.button=e}onTouchStart(){var e,t;(e=this.button)==null||e.removeEventListener("mouseenter",this.onMouseEnterListener),(t=this.button)==null||t.removeEventListener("mouseleave",this.onMouseLeaveListener)}onMouseEnter(){this.isHover=!0,this.updateButtonBackground(this.button,this.getImageFromState())}onMouseLeave(){this.isHover=!1,this.updateButtonBackground(this.button,this.getImageFromState())}onClick(){var e;this.state=this.state==="pressed"?"idle":"pressed",this.buttonClicked(),this.updateButtonBackground(this.button,this.getImageFromState()),(e=this.button)==null||e.setAttribute("aria-pressed",String(this.state==="pressed"))}updateButtonBackground(e,t){t!=null&&(e.style.backgroundImage=`url(${t})`)}},bt=class extends Qe{constructor(e,t){super(e,t),this.setup()}async buttonClicked(){await this.frameSource.setDesiredTorchState(this.retrieveTorchState()==="on"?"off":"on")}async canShow(){return this.isTorchAvailable()}getImageFromState(){return this.retrieveTorchState()==="on"?this.isHover?this.control.torchOnPressedImage:this.control.torchOnImage:this.isHover?this.control.torchOffPressedImage:this.control.torchOffImage}setup(){if(this.control.torchOffImage==null||this.control.torchOnImage==null){f.log(f.Level.Warn,"TorchSwitchControl icon is not set or is empty, the control will not be rendered.");return}this.button=this.setupButton()}async isTorchAvailable(){var t;let e=(t=this.frameSource)==null?void 0:t.toJSONObject();return e&&e.type==="camera"?this.frameSource.isTorchAvailable():!1}retrieveTorchState(){var t;let e=(t=this.frameSource)==null?void 0:t.toJSONObject();return e&&e.type==="camera"?this.frameSource.getDesiredTorchState():"off"}},Se=class extends Qe{constructor(t,r){super(t,r);l(this,"isTransitioning");this.setup()}static get Camera(){return ve}static get CameraAccess(){return V}async canShow(){return(await Se.CameraAccess.getCameras()).length>1}getImageFromState(){return this.isHover?this.control.pressedImage:this.control.idleImage}async buttonClicked(){if(this.isTransitioning)return;let t=await this.getNextDeviceCamera();t&&await this.switchCameras(t)}setup(){if(this.control.idleImage==null){f.log(f.Level.Warn,"CameraSwitchControl idle icon is not set or is empty, the control will not be rendered.");return}this.button=this.setupButton()}async getNextDeviceCamera(){var m,h;let t=await Se.CameraAccess.getCameras(),r=this.frameSource?this.frameSource:null,n=(m=r==null?void 0:r.cameraManager.activeCamera)==null?void 0:m.deviceId,u=t.findIndex(v=>v.deviceId===n);return u>-1?(h=t[u+1])!=null?h:t[0]:t.length>0?t[0]:null}async switchCameras(t){var u;this.isTransitioning=!0;let r=this.frameSource;r!=null&&await r.switchToDesiredState("off");let n=new Se.Camera;n.deviceId=t.deviceId,r!=null&&await n.applySettings(new me(r.settings)),await n.switchToDesiredState("on"),await((u=this.context)==null?void 0:u.setFrameSource(n)),this.isTransitioning=!1}},xe=class extends Qe{constructor(t,r){super(t,r);l(this,"isTransitioning");this.setup()}static get Camera(){return ve}static get CameraAccess(){return V}async canShow(){var r;if(!B.isBrokenIPhoneCameraDevice()||!B.isIOSDeviceWithExtendedCameraAccess())return!1;let t=(r=this.frameSource)==null?void 0:r.toJSONObject();if(t&&t.type==="camera"){let n=this.frameSource;return V.isIOSWideBackCameraLabel(n.label)||V.isIOSUltraWideBackCameraLabel(n.label)}return!1}getImageFromState(){return this.isUltraWideBackCamera()?this.isHover?this.control.cameraFOVUltraWidePressedImage:this.control.cameraFOVUltraWideImage:this.isHover?this.control.cameraFOVWidePressedImage:this.control.cameraFOVWideImage}async buttonClicked(){if(this.isTransitioning)return;let t=await this.getNewDeviceCamera();t&&await this.switchCameras(t)}setup(){if(this.control.cameraFOVUltraWideImage==null||this.control.cameraFOVWideImage==null){f.log(f.Level.Warn,"CameraFOVSwitchControl icon is not set or is empty, the control will not be rendered.");return}this.button=this.setupButton()}isUltraWideBackCamera(){var r;let t=(r=this.frameSource)==null?void 0:r.toJSONObject();if(t&&t.type==="camera"){let n=this.frameSource;return V.isIOSUltraWideBackCameraLabel(n.label)}return!1}async getNewDeviceCamera(){return(await xe.CameraAccess.getCameras()).find(r=>this.isUltraWideBackCamera()?V.isIOSWideBackCameraLabel(r.label):V.isIOSUltraWideBackCameraLabel(r.label))}async switchCameras(t){var u;this.isTransitioning=!0;let r=this.frameSource;r!=null&&await r.switchToDesiredState("off");let n=new xe.Camera;n.deviceId=t.deviceId,r!=null&&await n.applySettings(new me(r.settings)),await n.switchToDesiredState("on"),await((u=this.context)==null?void 0:u.setFrameSource(n)),this.isTransitioning=!1}};function lr(){return`
    .${L.CONTAINER_CLASS_NAME} {
      display: flex;
      /* Without this the flex child overflows its parent on Chrome mobile: */
      flex-direction: column;
      width: 100%;
      height: 100%;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }
    
    .${L.PAINTBOARDS_CONTAINER_CLASS_NAME} {
      position: relative;
      width: 100%;
      height: inherit;
    }

    .${L.PAINTBOARD_CLASS_NAME} {
      position: relative;
      width: 100%;
      height: 100%;
      min-width: 1px;
      min-height: 1px;
      background-color: black;
      aspect-ratio: 16 / 9;
    }

    .${L.PAINTBOARD_CLASS_NAME}.${L.PAINTBOARD_CLASS_NAME_STATE_ON} {
      aspect-ratio: auto
    }

    .${L.PAINTBOARD_CLASS_NAME} video {
      display: block;
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: opacity 300ms;
    }

    .${L.PAINTBOARD_CLASS_NAME} .${L.MIRRORED_CLASS_NAME} {
      transform: scale(-1, 1);
    }

    .${L.PAINTBOARD_CLASS_NAME} .${L.CAMERA_RECOVERY_CLASS_NAME} {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 5;
      cursor: pointer;
      background-color: #000;
      color: #fff;
    }

    .${L.PAINTBOARD_CLASS_NAME} .${L.ERROR_CLASS_NAME} {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      z-index: 6;
      color: white;
      background-color: rgba(0,0,0,0.5);
    }

    .${L.PAINTBOARD_CLASS_NAME} .${L.CAMERA_RECOVERY_CLASS_NAME}[hidden],
    .${L.PAINTBOARD_CLASS_NAME} .${L.ERROR_CLASS_NAME}[hidden] {
      display: none;
    }

    .${L.PAINTBOARD_CLASS_NAME} canvas {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      object-fit: cover;
      transition: opacity 300ms;
      pointer-events: none;
    }

    .${L.PAINTBOARD_CLASS_NAME} .${L.CONTROLS_CLASS_NAME} {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
    }

    .${L.PAINTBOARD_CLASS_NAME} .${L.CONTROL_WIDGET_CLASS_NAME}-${$e.CLASS_NAME} {
      position: absolute;
      top: 24px;
      left: 16px;
    }

    .${L.PAINTBOARD_CLASS_NAME} .${L.CONTROL_WIDGET_CLASS_NAME}-${qe.CLASS_NAME} {
      position: absolute;
      top: 24px;
      right: 16px;
    }

    .${L.PAINTBOARD_CLASS_NAME} .${L.CONTROL_WIDGET_CLASS_NAME}-${Ze.CLASS_NAME} {
      position: absolute;
      bottom: 24px;
      right: 24px;
    }

    .${L.PAINTBOARD_CLASS_NAME} .${L.SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME} {
      -webkit-tap-highlight-color: rgba(255, 255, 255, 0);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      width: 100%;
      height: 100%;
    }

    .${L.PAINTBOARD_CLASS_NAME} .${L.SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME} label {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      cursor: pointer;
    }

    .${L.PAINTBOARD_CLASS_NAME} .${L.SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME} label input[type="file"] {
      position: absolute;
      top: -9999px;
    }

    .${L.PAINTBOARD_CLASS_NAME} .${L.SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME} label button {
      pointer-events: none;
    }

    .${L.CONTROL_WIDGET_CLASS_NAME} {
      width: 32px;
      height: 32px;
      background-color: transparent;
      background-repeat: no-repeat;
      border: none;
      cursor: pointer;
    }

    .${L.CONTROL_WIDGET_CLASS_NAME} + .${L.CONTROL_WIDGET_CLASS_NAME} {
      margin-left: 16px;
    }
  `}var q={PROGRESSBAR_CONTAINER:"scandit-progressbar-container",MESSAGE:"scandit-progressbar-message",HIDE:"scandit-progressbar-hide"},ua=`
    @media (prefers-color-scheme: dark) {
      .${q.PROGRESSBAR_CONTAINER} {
        --foreground-color: white;
        --background-color: black;
      }
    }

    @media (prefers-color-scheme: light) {
      .${q.PROGRESSBAR_CONTAINER} {
        --foreground-color: black;
        --background-color: white;
      }
    }
    
    .${q.PROGRESSBAR_CONTAINER} {
      --accent-color: #62d1da;
      --secondary-color: #dae1e7;
      --100-w: 15rem;
      position: absolute;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 1;
      background-color: var(--background-color);
    }
    
    .${q.PROGRESSBAR_CONTAINER}.${q.HIDE} {
       display: none;
    }
    
    .${q.PROGRESSBAR_CONTAINER} .${q.MESSAGE} {
      text-align: center;
      font-family: "Open Sans", sans-serif;
      margin-bottom: 1rem;
      color: var(--foreground-color);
    }
    
    .${q.PROGRESSBAR_CONTAINER} [role="progressbar"] {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      position: relative;
      overflow: hidden;
      border: none;
      width: var(--100-w);
      height: 0.5rem;
    }
    
    .${q.PROGRESSBAR_CONTAINER} [role="progressbar"]::before,
    .${q.PROGRESSBAR_CONTAINER} [role="progressbar"]::after {
      content: " ";
      position: absolute;
      top: 0;
      left: 0;
      background: var(--accent-color);
      height: 0.5rem;
      border-radius: 0.5rem;
    }
    
    .${q.PROGRESSBAR_CONTAINER} [role="progressbar"]:not([aria-valuenow])::after {
      width: calc(var(--100-w) / 3.5);
      animation: indeterminate-progress-bar 2.5s ease infinite;
      z-index: 1;
    }

    .${q.PROGRESSBAR_CONTAINER} [role="progressbar"][aria-valuenow]::after {
      width: 0;
      animation: none;
    }
    
    .${q.PROGRESSBAR_CONTAINER} [role="progressbar"][aria-valuenow]::before {
      width: calc(var(--aria-valuenow) * 1%);
      background-color: var(--accent-color);
      border-radius: 0.5rem;
      transition: width 0.3s linear;
    }
    
    .${q.PROGRESSBAR_CONTAINER} [role="progressbar"] {
      background-color: var(--secondary-color);
      border-radius: 0.5rem;
    }
    
    @-webkit-keyframes indeterminate-progress-bar {
      0% {
        left: 0%;
      }
      50% {
        left: calc(var(--100-w) - var(--100-w) / 3.5);
      }
    }
    
    @keyframes indeterminate-progress-bar {
      0% {
        left: 0%;
      }
      50% {
        left: calc(var(--100-w) - var(--100-w) / 3.5);
      }
    }
`,cr=ua;var da=`
    <div>
      <div class="${q.MESSAGE}" id="scandit-loadinglabel">Loading the Scandit SDK...</div>
      <div id="scandit-progress" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-labelledby="scandit-loadinglabel" />
    </div>
`,li="aria-valuenow",ma="aria-valuemin",pa="aria-valuemax",Xe=class{constructor(){l(this,"_mounted",!1);l(this,"_htmlRoot",null);l(this,"_progress",null);l(this,"_message",null)}set value(e){var n,u,m,h,v,b;if(!this._mounted)return;if(e==null){(n=this._progress)==null||n.removeAttribute(li),(u=this._progress)==null||u.removeAttribute("style");return}let t=Number((m=this._progress)==null?void 0:m.getAttribute(ma)),r=Number((h=this._progress)==null?void 0:h.getAttribute(pa));if(e>=t&&e<=r){let i=String(e);(v=this._progress)==null||v.setAttribute(li,i),(b=this._progress)==null||b.setAttribute("style",`--aria-valuenow: ${i}`)}}get value(){var r;let e=(r=this._progress)==null?void 0:r.getAttribute(li);if(e===null)return null;let t=Number(e);return Number.isNaN(t)?null:t}set message(e){this._message&&(this._message.textContent=e)}get message(){var e,t;return(t=(e=this._message)==null?void 0:e.textContent)!=null?t:""}mount(e){var r;if(this._mounted)return;if(!document.head.querySelector(`[data-component=${Xe.componentName}]`)){let n=document.createElement("style");n.dataset.component=Xe.componentName,n.append(document.createTextNode(cr)),document.head.append(n)}let t=document.createElement("div");t.classList.add(q.PROGRESSBAR_CONTAINER),t.classList.add(q.HIDE),t.innerHTML=da,(r=e.parentNode)==null||r.replaceChild(t,e),this._htmlRoot=t,this._progress=this._htmlRoot.querySelector("[role=progressbar]"),this._message=this._htmlRoot.querySelector(`.${q.MESSAGE}`),this._mounted=!0}unmount(){var e,t;!this._mounted||((e=this._htmlRoot)==null||e.remove(),(t=document.head.querySelector(`[data-component=${Xe.componentName}]`))==null||t.remove(),this._mounted=!1)}show(){this._mounted&&this._htmlRoot&&this._htmlRoot.classList.remove(q.HIDE)}hide(){this._mounted&&this._htmlRoot&&this._htmlRoot.classList.add(q.HIDE)}},St=Xe;l(St,"componentName","ProgressBarView");var ur=St;typeof window.ResizeObserver!="function"&&(window.ResizeObserver=oi);var ha=(b=>(b.TopLeft="topLeft",b.TopCenter="topCenter",b.TopRight="topRight",b.CenterLeft="centerLeft",b.Center="center",b.CenterRight="centerRight",b.BottomLeft="bottomLeft",b.BottomCenter="bottomCenter",b.BottomRight="bottomRight",b))(ha||{}),te=class{constructor(){l(this,"_onInputFileChange",null);l(this,"_inputCheckFunction",null);l(this,"_scanAreaMargins",D.DataCaptureView.scanAreaMargins);l(this,"_pointOfInterest",D.DataCaptureView.pointOfInterest);l(this,"_logoStyle",D.DataCaptureView.logoStyle);l(this,"_logoAnchor",D.DataCaptureView.logoAnchor);l(this,"_logoOffset",D.DataCaptureView.logoOffset);l(this,"focusGesture",D.DataCaptureView.focusGesture);l(this,"zoomGesture",D.DataCaptureView.zoomGesture);l(this,"_cameraRecoveryText",D.DataCaptureView.cameraRecoveryText);l(this,"_context",null);l(this,"overlays",[]);l(this,"controls",[]);l(this,"controlWidgets",new WeakMap);l(this,"containerElement");l(this,"cameraPaintboardElement");l(this,"singleImageUploaderPaintboardElement");l(this,"videoElement");l(this,"visibilityListener");l(this,"videoPauseListener");l(this,"cameraRecoveryListener");l(this,"controlsElement");l(this,"cameraRecoveryElement");l(this,"errorElement");l(this,"canvasElement");l(this,"_canvasDrawer");l(this,"listeners",[]);l(this,"htmlElement");l(this,"htmlElementState");l(this,"lastHtmlElementState");l(this,"isVideoElementDetached",!1);l(this,"progressBarView");l(this,"lastFrameSourceState");at.add(this),this.visibilityListener=this.checkAndRecoverPlayback.bind(this),this.cameraRecoveryListener=this.cameraRecovery.bind(this)}get scanAreaMargins(){return this._scanAreaMargins}set scanAreaMargins(e){var t;this._scanAreaMargins=e,(t=this.privateContext)==null||t.update()}get pointOfInterest(){return this._pointOfInterest}set pointOfInterest(e){var t;this._pointOfInterest=e,(t=this.privateContext)==null||t.update()}get logoStyle(){return this._logoStyle}set logoStyle(e){var t;this._logoStyle=e,(t=this.privateContext)==null||t.update()}get logoAnchor(){return this._logoAnchor}set logoAnchor(e){var t;this._logoAnchor=e,(t=this.privateContext)==null||t.update()}get logoOffset(){return this._logoOffset}set logoOffset(e){var t;this._logoOffset=e,(t=this.privateContext)==null||t.update()}get cameraRecoveryText(){return this._cameraRecoveryText}set cameraRecoveryText(e){this._cameraRecoveryText=e,this.cameraRecoveryElement.textContent=e}showProgressBar(){this.progressBarView.show()}hideProgressBar(){this.progressBarView.hide()}setProgressBarPercentage(e){this.progressBarView.value=e}setProgressBarMessage(e){this.progressBarView.message=e}get width(){return this.htmlElementState!=null?Math.round(this.htmlElementState.width):0}get height(){return this.htmlElementState!=null?Math.round(this.htmlElementState.height):0}get canvasDrawer(){return this._canvasDrawer||(this._canvasDrawer=new Ye(this.canvasElement)),this._canvasDrawer}get privateContext(){return this._context}static async forContext(e){let t=new te;return await t.setContext(e),t}getContext(){return this._context}async setContext(e){var t,r,n;if(this._context=e,e){if(this.overlays.length>0&&((t=this.privateContext)==null?void 0:t.modes.length)===0)throw new Error(["Cannot assign this view to this context. This view has overlays but the context does not have any mode attached matching these overlays.","Remove the overlays first before attaching the view to the context, or add the corresponding mode to the context before attaching this view."].join(" "));await e.setView(this),(r=this.privateContext)==null||r.subscribeToWorkerMessages(this.onWorkerMessage.bind(this)),(n=this._context)!=null&&n.frameSource&&await this.onFrameSourceChange(this._context.frameSource)}}connectToElement(e){this.setupHtmlElement(e),this.setupHtmlElementVisibility(),this.htmlElementDidChange()}async addOverlay(e){var t;this.overlays.includes(e)||(this.overlays.push(e),await((t=this.privateContext)==null?void 0:t.update([{type:"addOverlay",newValue:e}])))}async removeOverlay(e){var t;!this.overlays.includes(e)||(this.overlays.splice(this.overlays.indexOf(e),1),await((t=this.privateContext)==null?void 0:t.update([{type:"removeOverlay",newValue:e}])))}addListener(e){this.listeners.includes(e)||this.listeners.push(e)}removeListener(e){this.listeners.includes(e)&&this.listeners.splice(this.listeners.indexOf(e),1)}viewPointForFramePoint(e){var i,a,o,c,d,g,p,S;let t={width:(a=(i=this.htmlElementState)==null?void 0:i.width)!=null?a:0,height:(c=(o=this.htmlElementState)==null?void 0:o.height)!=null?c:0},r={width:(g=(d=this.videoElement)==null?void 0:d.videoWidth)!=null?g:0,height:(S=(p=this.videoElement)==null?void 0:p.videoHeight)!=null?S:0},n=t.width/t.height,u=r.width/r.height,m=n>u?t.width/r.width:t.height/r.height,h={x:e.x*m,y:e.y*m},v=(r.width*m-t.width)/2,b=(r.height*m-t.height)/2;return new de(h.x-v,h.y-b)}viewQuadrilateralForFrameQuadrilateral(e){let t=this.viewPointForFramePoint(e.topLeft),r=this.viewPointForFramePoint(e.topRight),n=this.viewPointForFramePoint(e.bottomLeft),u=this.viewPointForFramePoint(e.bottomRight);return new Ee(t,r,u,n)}addControl(e){var t;this.controls.includes(e)||(e.view=this,this.controls.push(e),this.controlsUpdated(),(t=this.privateContext)==null||t.update([{type:"addControl",newValue:e}]))}removeControl(e){var t;if(this.controls.includes(e)){e.view=null;let r=this.controls.splice(this.controls.indexOf(e),1);this.getControlWidget(r[0]).remove(!0),this.controlsUpdated(),(t=this.privateContext)==null||t.update([{type:"removeControl",newValue:e}])}}toJSONObject(){var e;return{scanAreaMargins:this.scanAreaMargins.toJSONObject(),pointOfInterest:this.pointOfInterest.toJSONObject(),logoAnchor:this.logoAnchor,logoOffset:this.logoOffset.toJSONObject(),logoHidden:(e=this.logoHidden)!=null?e:!1,logoStyle:this.logoStyle,overlays:this.overlays.map(t=>t.toJSONObject()),controls:this.controls.map(t=>t.toJSONObject()),focusGesture:this.focusGesture?this.focusGesture.toJSONObject():null,zoomGesture:this.zoomGesture?this.zoomGesture.toJSONObject():null}}isCameraRecoveryVisible(){return!this.cameraRecoveryElement.hidden}setCameraRecoveryVisible(e){this.cameraRecoveryElement.hidden=!e}setupHtmlElement(e){var u,m;this.createStyles(),this.htmlElement=e;let t=`
      <div class="${te.CONTAINER_CLASS_NAME}">
        <div class="${te.PAINTBOARDS_CONTAINER_CLASS_NAME}">
          <div data-js-id="scandit-progress-bar-view"></div>
          <div class="${te.PAINTBOARD_CLASS_NAME}" data-js-id="camera-paintboard">
            <video autoplay="autoplay" playsinline="true" muted="muted" poster="${Wi}"></video>
            <canvas></canvas>
            <div class="${te.CONTROLS_CLASS_NAME}"></div>
            <div class="${te.CAMERA_RECOVERY_CLASS_NAME}" hidden>${this.cameraRecoveryText}</div>
            <div class="${te.ERROR_CLASS_NAME}" hidden></div>
          </div>
          <div class="${te.PAINTBOARD_CLASS_NAME}" data-js-id="singleimage-paintboard"></div>
        </div>
      </div>
    `;this.htmlElement.innerHTML=t,this.progressBarView=new ur,this.progressBarView.mount(this.htmlElement.querySelector('[data-js-id="scandit-progress-bar-view"]')),this.containerElement=this.htmlElement.querySelector(`.${te.CONTAINER_CLASS_NAME}`),this.cameraPaintboardElement=this.containerElement.querySelector('[data-js-id="camera-paintboard"]');let r=this.cameraPaintboardElement.querySelector("canvas");this.canvasElement?r.replaceWith(this.canvasElement):this.canvasElement=r,this.controlsElement=this.cameraPaintboardElement.querySelector(`.${te.CONTROLS_CLASS_NAME}`),this.cameraRecoveryElement=this.cameraPaintboardElement.querySelector(`.${te.CAMERA_RECOVERY_CLASS_NAME}`),this.errorElement=this.cameraPaintboardElement.querySelector(`.${te.ERROR_CLASS_NAME}`),this.singleImageUploaderPaintboardElement=this.containerElement.querySelector('[data-js-id="singleimage-paintboard"]');let n=this.cameraPaintboardElement.querySelector("video");this.videoElement?n.replaceWith(this.videoElement):(this.videoElement=n,this.videoPauseListener=this.handleVideoPause.bind(this),this.videoElement.addEventListener("pause",this.videoPauseListener)),this.lastFrameSourceState!=null&&((m=(u=this._context)==null?void 0:u.frameSource)==null||m.switchToDesiredState(this.lastFrameSourceState)),document.addEventListener("visibilitychange",this.visibilityListener);for(let h of["touchend","mousedown"])this.cameraRecoveryElement.addEventListener(h,this.cameraRecoveryListener);this.htmlElementState&&this.htmlElementState.removeListeners(),this.htmlElementState=new Le(this.htmlElement),this.htmlElementState.onStateChanged(this.htmlElementDidChange.bind(this)),this.htmlElementState.onDisconnected(this.htmlElementDisconnected.bind(this))}setupHtmlElementSingleImageUploaderChildren(e){var o,c,d,g;if(this.singleImageUploaderPaintboardElement==null)return;this.singleImageUploaderPaintboardElement.textContent="",this.singleImageUploaderPaintboardElement.innerHTML="";let t=document.createElement("div");t.className=te.SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME,Object.assign(t.style,D.SingleImageUploader.Settings.containerStyle,e.containerStyle),this.singleImageUploaderPaintboardElement.append(t);let{iconElement:r,iconStyle:n,informationElement:u,informationStyle:m,buttonElement:h,buttonStyle:v}=e;Object.assign(r.style,D.SingleImageUploader.Settings.iconStyle,n),r.style.maxWidth="100px",r.style.maxHeight="100px",t.append(r),Object.assign(u.style,D.SingleImageUploader.Settings.informationStyle,m),t.append(u);let b=document.createElement("label"),i=document.createElement("input");i.type="file",i.accept="image/*",this._onInputFileChange===null&&(this._onInputFileChange=((o=this._context)==null?void 0:o.frameSource).onUploadedFile.bind((c=this._context)==null?void 0:c.frameSource)),this._inputCheckFunction===null&&(this._inputCheckFunction=p=>{var S,C;((C=(S=this._context)==null?void 0:S.frameSource)==null?void 0:C.getCurrentState())!=="starting"&&p.preventDefault()}),i.addEventListener("change",this._onInputFileChange),i.addEventListener("click",this._inputCheckFunction),i.addEventListener("keydown",this._inputCheckFunction),b.append(i),Object.assign(h.style,D.SingleImageUploader.Settings.buttonStyle,v),h.style.opacity=((g=(d=this._context)==null?void 0:d.frameSource)==null?void 0:g.getCurrentState())==="starting"?"1":"0.3",b.append(h),t.append(b);let a=document.createRange().createContextualFragment(atob(ji)).firstElementChild;a.style.position="absolute",a.style.bottom="1em",a.style.right="1em",a.style.width="10em",t.append(a)}setupHtmlElementVisibility(e){this.cameraPaintboardElement!=null&&(this.cameraPaintboardElement.hidden=e!=="camera"),this.singleImageUploaderPaintboardElement!=null&&(this.singleImageUploaderPaintboardElement.hidden=e!=="singleImageUploader")}createStyles(){if(document.querySelector("style[scandit]")===null){let e=document.createElement("style");e.setAttribute("scandit","data-capture-sdk"),e.innerHTML=lr(),document.head.append(e)}}htmlElementDidChange(){var r;let e=this.htmlElementState,t=e.toJSONObject();if(!Le.areEquivalentJSONStates(this.lastHtmlElementState,t)){(r=this.privateContext)==null||r.update([{type:"viewChange",newValue:e.toJSONObject()}]),this.lastHtmlElementState=t,this.updateCanvasSizeAttributes(),this.handleVideoDisplay(t.visible);for(let n of this.listeners)n.didChangeSize&&n.didChangeSize(this,new Oe(t.size.width.value,t.size.height.value),window.innerHeight<window.innerWidth?"landscapeLeft":"portrait")}}async htmlElementDisconnected(){var e,t,r,n,u;this.isVideoElementDetached=!1,(e=this.videoElement)==null||e.remove(),this.lastFrameSourceState=(r=(t=this._context)==null?void 0:t.frameSource)==null?void 0:r.getCurrentState(),await((u=(n=this._context)==null?void 0:n.frameSource)==null?void 0:u.switchToDesiredState("off"))}handleVideoDisplay(e){this.videoElement==null||this.cameraPaintboardElement==null||(!e&&!this.isVideoElementDetached?(this.videoElement.width=0,this.videoElement.height=0,this.videoElement.style.opacity="0",document.body.append(this.videoElement),this.isVideoElementDetached=!0):e&&this.isVideoElementDetached&&(this.cameraPaintboardElement.insertAdjacentElement("afterbegin",this.videoElement),this.isVideoElementDetached=!1,this.videoElement.removeAttribute("width"),this.videoElement.removeAttribute("height"),this.videoElement.style.removeProperty("opacity")))}onWorkerMessage(e){if(e.type==="draw")this.drawEngineCommands(e.payload);else if(e.type==="contextDidChangeStatus"){let t=he.fromJSON(e.payload);t.isValid||(this.progressBarView.hide(),this.displayError(t))}}drawEngineCommands(e){this.canvasDrawer.draw(e)}displayError(e){this.errorElement.textContent=`Error ${e.code}: ${e.message}`,this.errorElement.hidden=!1}clearError(){this.errorElement.textContent="",this.errorElement.hidden=!0}controlsUpdated(){var e;this.redrawControls(),(e=this.privateContext)==null||e.update()}redrawControls(){var e;for(let t of this.controls){let r=this.getControlWidget(t),n=(e=this._context)==null?void 0:e.frameSource;n==null||n.desiredState==="off"||n.desiredState==="stopping"?r.remove():r.install()}}getControlWidget(e){let t=this.controlWidgets.get(e);if(t)return t;let{type:r}=e,n;switch(r){case"torch":{n=new bt(e,this.controlsElement),this.controlWidgets.set(e,n);break}case"camera":{n=new Se(e,this.controlsElement),this.controlWidgets.set(e,n);break}case"camera-fov":{n=new xe(e,this.controlsElement),this.controlWidgets.set(e,n);break}}return n}async onFrameSourceChange(e){var r,n,u,m,h,v,b,i;let t=e==null?void 0:e.type;if(this.setupHtmlElementVisibility(t),t==="camera")switch((r=this.cameraPaintboardElement)==null||r.classList.toggle(te.PAINTBOARD_CLASS_NAME_STATE_ON,(e==null?void 0:e.getCurrentState())==="on"),e==null?void 0:e.getCurrentState()){case"stopping":this.setVideoElementOpacity("0");return;case"starting":if(!this.htmlElement){f.log(f.Level.Error,"cannot set frame source stream before connecting view to an HTML element");return}this.videoElement&&(k.instance().videoElement=this.videoElement,k.instance().gui.isCameraRecoveryVisible=this.isCameraRecoveryVisible.bind(this),k.instance().gui.setCameraRecoveryVisible=this.setCameraRecoveryVisible.bind(this),this.setVideoElementOpacity("0"));return;case"off":(u=(n=this.cameraPaintboardElement)==null?void 0:n.querySelector(`.${te.CANVAS_VIDEO_PREVIEW_CLASS_NAME}`))==null||u.remove(),this.setVideoElementOpacity("0"),this.redrawControls();return;case"on":{if((h=(m=this.cameraPaintboardElement)==null?void 0:m.querySelector(`.${te.CANVAS_VIDEO_PREVIEW_CLASS_NAME}`))==null||h.remove(),((b=k.instance().activeCameraSettings)==null?void 0:b.isIPhoneProCameraOptimizationEnabled((v=k.instance().activeCamera)==null?void 0:v.position))===!0){let{canvas:a}=k.instance();a.classList.add(te.CANVAS_VIDEO_PREVIEW_CLASS_NAME),(i=this.cameraPaintboardElement)==null||i.insertBefore(a,this.canvasElement)}await k.instance().waitForCapabilities(),this.redrawControls(),this.setVideoElementOpacity("1");break}case void 0:break}else t==="singleImageUploader"&&this.setupHtmlElementSingleImageUploaderChildren(e.settings)}setVideoElementOpacity(e){this.videoElement&&(this.videoElement.style.opacity=e,this.canvasElement.style.opacity=e)}onSingleImageUploaderSettingsChange(e){this.setupHtmlElementSingleImageUploaderChildren(e)}handleVideoPause(){k.instance().playVideo()}async checkAndRecoverPlayback(){var t,r;let e=(t=this.videoElement)==null?void 0:t.srcObject;if(document.visibilityState==="visible"&&k.instance().activeCamera!=null&&e!=null)if(!e.active||((r=e.getVideoTracks()[0])==null?void 0:r.muted))try{f.log(f.Level.Debug,'Detected visibility change ("visible") event with inactive video source, try to reinitialize camera'),await k.instance().reinitializeCamera()}catch(n){}else f.log(f.Level.Debug,'Detected visibility change ("visible") event with active video source, replay video'),k.instance().playVideo()}async cameraRecovery(e){e.preventDefault(),k.instance().activeCamera=k.instance().selectedCamera,await k.instance().reinitializeCamera()}updateCanvasSizeAttributes(){this.canvasElement.width=this.width,this.canvasElement.height=this.height}},L=te;l(L,"CONTAINER_CLASS_NAME",ne.CONTAINER_CLASS_NAME),l(L,"PAINTBOARD_CLASS_NAME",ne.PAINTBOARD_CLASS_NAME),l(L,"PAINTBOARD_CLASS_NAME_STATE_ON",ne.PAINTBOARD_CLASS_NAME_STATE_ON),l(L,"CONTROLS_CLASS_NAME",ne.CONTROLS_CLASS_NAME),l(L,"CONTROL_WIDGET_CLASS_NAME",ne.CONTROL_WIDGET_CLASS_NAME),l(L,"MIRRORED_CLASS_NAME",ne.MIRRORED_CLASS_NAME),l(L,"CAMERA_RECOVERY_CLASS_NAME",ne.CAMERA_RECOVERY_CLASS_NAME),l(L,"ERROR_CLASS_NAME",ne.ERROR_CLASS_NAME),l(L,"PAINTBOARDS_CONTAINER_CLASS_NAME",ne.PAINTBOARDS_CONTAINER_CLASS_NAME),l(L,"SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME",ne.SINGLE_IMAGE_UPLOADER_CONTAINER_CLASS_NAME),l(L,"CANVAS_VIDEO_PREVIEW_CLASS_NAME",ne.CANVAS_VIDEO_PREVIEW_CLASS_NAME);var mr=Wt(dr(),1);var Ke=class{constructor(e){l(this,"type");l(this,"_vibrate");this.type=e;for(let t of["vibrate","webkitVibrate","msVibrate","mozVibrate"])if(typeof navigator[t]=="function"){this._vibrate=navigator[t].bind(navigator);break}}static get defaultVibration(){return new Ke("default")}toJSONObject(){return{type:this.type}}vibrate(){var e;return(e=this._vibrate)==null?void 0:e.call(this,[300])}},Ie=class{constructor(e){l(this,"audio");l(this,"resource",null);this.resource=e,this.resource!=null&&(this.audio=new mr.Howl({src:this.resource,html5:!0}))}static get defaultSound(){return Ie._defaultSound instanceof Ie||(Ie._defaultSound=new Ie(zi)),Ie._defaultSound}toJSONObject(){return this.resource!==null?{resource:this.resource}:{}}play(){this.audio!=null&&this.audio.play()}},At=Ie;l(At,"_defaultSound",null);var wt=class{constructor(e,t){l(this,"_vibration",null);l(this,"_sound",null);this._vibration=e,this._sound=t}static get defaultFeedback(){return new wt(Ke.defaultVibration,At.defaultSound)}get vibration(){return this._vibration}get sound(){return this._sound}emit(){this.sound&&this.sound.play(),this.vibration&&this.vibration.vibrate()}toJSONObject(){let e={};return this.sound!==null&&(e.sound=this.sound.toJSONObject()),this.vibration!==null&&(e.vibration=this.vibration.toJSONObject()),e}};async function ga(s,e){let t=document.createElement("canvas");t.width=this.width,t.height=this.height;let r=t.getContext("2d");if(!r)throw new Error("Could not get 2d context from an HTMLCanvasElement");let n=await this.getData();return n==null?null:(r.putImageData(new ImageData(n,this.width,this.height),0,0),new Promise((u,m)=>{t.toBlob(h=>{if(h===null){m(new Error("Could not create Blob object from canvas"));return}u(h)},s,e)}))}function $s(s,e){let t={width:s.width,height:s.height,isFrameSourceMirrored:s.isFrameSourceMirrored,getData:async()=>(await e.requestFrameData(s.frameId)).data};return t.toBlob=ga.bind(t),t}var Xs={type:"none"},pr=class{constructor(e){l(this,"type","radius");l(this,"_radius");this._radius=e}get radius(){return this._radius}toJSONObject(){return{type:this.type,radius:this.radius.toJSONObject()}}},Re=class{constructor(){l(this,"type","rectangular");l(this,"_sizeWithUnitAndAspect")}get sizeWithUnitAndAspect(){return this._sizeWithUnitAndAspect}static withSize(e){let t=new Re;return t._sizeWithUnitAndAspect=ie.sizeWithWidthAndHeight(e),t}static withWidthAndAspectRatio(e,t){let r=new Re;return r._sizeWithUnitAndAspect=ie.sizeWithWidthAndAspectRatio(e,t),r}static withHeightAndAspectRatio(e,t){let r=new Re;return r._sizeWithUnitAndAspect=ie.sizeWithHeightAndAspectRatio(e,t),r}toJSONObject(){return{type:this.type,size:this.sizeWithUnitAndAspect.toJSONObject()}}};var ke=class{constructor(e){l(this,"iconElement",D.SingleImageUploader.Settings.iconElement);l(this,"informationElement",D.SingleImageUploader.Settings.informationElement);l(this,"buttonElement",D.SingleImageUploader.Settings.buttonElement);l(this,"containerStyle",D.SingleImageUploader.Settings.containerStyle);l(this,"iconStyle",D.SingleImageUploader.Settings.iconStyle);l(this,"informationStyle",D.SingleImageUploader.Settings.informationStyle);l(this,"buttonStyle",D.SingleImageUploader.Settings.buttonStyle);if(e!=null)for(let t of Object.getOwnPropertyNames(e))this[t]=e[t]}static fromJSON(e){let t=new ke;return t.iconElement=document.createRange().createContextualFragment(e.iconElement).firstElementChild,t.informationElement=document.createRange().createContextualFragment(e.informationElement).firstElementChild,t.buttonElement=document.createRange().createContextualFragment(e.buttonElement).firstElementChild,t.containerStyle=e.containerStyle,t.iconStyle=e.iconStyle,t.informationStyle=e.informationStyle,t.buttonStyle=e.buttonStyle,t}toJSONObject(){return{iconElement:this.iconElement.outerHTML,informationElement:this.informationElement.outerHTML,buttonElement:this.buttonElement.outerHTML,containerStyle:Q({},this.containerStyle),iconStyle:Q({},this.iconStyle),informationStyle:Q({},this.informationStyle),buttonStyle:Q({},this.buttonStyle)}}};var yt=class{constructor(){l(this,"type","singleImageUploader");l(this,"_currentState");l(this,"_settings",new ke);l(this,"_desiredState","off");l(this,"listeners",[]);l(this,"_context",null);l(this,"_canvas");l(this,"_canvasContext")}get context(){return this._context}set context(e){this._context=e}static get default(){return new yt}get desiredState(){return this._desiredState}async switchToDesiredState(e){if(e==="on"){if(this.currentState==="on"||this.currentState==="starting")return}else if(this.currentState==="off"||this.currentState==="stopping")return;this._desiredState=e,this.currentState=e==="on"?"starting":"off"}addListener(e){e!=null&&(this.listeners.includes(e)||this.listeners.push(e))}removeListener(e){e!=null&&(!this.listeners.includes(e)||this.listeners.splice(this.listeners.indexOf(e),1))}get settings(){return this._settings}async applySettings(e){return this._settings=e,this.notifyContext({type:"singleImageModeUploaderSettings",newValue:this._settings})}getLastUploadedImage(){return this._canvasContext?this.canvasContext.getImageData(0,0,this.canvasContext.canvas.width,this.canvasContext.canvas.height):null}toJSONObject(){return{type:this.type,settings:this.settings.toJSONObject(),desiredState:this.desiredState}}set currentState(e){e!==this._currentState&&(this._currentState=e,this.notifyListeners(),this.notifyContext({type:"frameSourceState",newValue:e}))}get currentState(){return this._currentState}getCurrentState(){return this._currentState}async notifyContext(e){if(this._context)return this._context.update([e])}notifyListeners(){for(let e of this.listeners)e.didChangeState&&e.didChangeState(this,this.currentState)}get canvas(){return this._canvas||(this._canvas=document.createElement("canvas")),this._canvas}get canvasContext(){return this._canvasContext||(this._canvasContext=this.canvas.getContext("2d",{willReadFrequently:!0})),this._canvasContext}async loadUploadedFile(e){let t,r;e.naturalWidth<=1440&&e.naturalHeight<=1440?(t=e.naturalWidth,r=e.naturalHeight):e.naturalWidth>e.naturalHeight?(t=1440,r=Math.round(e.naturalHeight/e.naturalWidth*1440)):(t=Math.round(e.naturalWidth/e.naturalHeight*1440),r=1440),await this.processUploadedFile(e,t,r)}async processUploadedFile(e,t,r){var u;this.canvasContext.canvas.width=t,this.canvasContext.canvas.height=r,this.canvasContext.drawImage(e,0,0,t,r);let n={data:this.canvasContext.getImageData(0,0,t,r).data,width:t,height:r};(u=this._context)==null||u.sendFrameToProcessor(n).then(()=>{this.currentState="starting"})}onUploadedFile(e){var n;let t=e.currentTarget,{files:r}=t;if(r!=null&&r.length>0){if(((n=this._context)==null?void 0:n.hasEnabledMode())!==!0){t.value="";return}this.currentState="on";let u=new Image,m=new FileReader;m.onload=()=>{t.value="",m.result!=null&&(u.onload=this.loadUploadedFile.bind(this,u),u.onerror=()=>{this.currentState="starting",f.log(f.Level.Error,"Could not load image from selected file")},u.src=m.result)},m.onerror=()=>{var h;this.currentState="starting",f.log(f.Level.Error,`Error while reading the file: ${(h=m.error)==null?void 0:h.toString()}`)},m.readAsDataURL(r[0])}}};var hr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxyZWN0IG9wYWNpdHk9IjAuMzUiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgcng9IjE2IiBmaWxsPSIjREFFMUU3IiAvPgogICAgPHBhdGgKICAgICAgICBkPSJNNy45ODgyOCAyMS4wODJDOC41OTY2OCAyMS4wODIgOS4wODg4NyAyMC41ODk4IDkuMDg4ODcgMTkuOTgxNEM5LjA4ODg3IDE5LjM2NjIgOC41OTY2OCAxOC44ODA5IDcuOTg4MjggMTguODgwOUM3LjM3MzA1IDE4Ljg4MDkgNi44ODc3IDE5LjM2NjIgNi44ODc3IDE5Ljk4MTRDNi44ODc3IDIwLjU4OTggNy4zNzMwNSAyMS4wODIgNy45ODgyOCAyMS4wODJaIgogICAgICAgIGZpbGw9IiNGMUY1RjgiIC8+CiAgICA8cGF0aAogICAgICAgIGQ9Ik0xNC4zNjYyIDIxLjIxODhDMTYuNjE1MiAyMS4yMTg4IDE4LjE4MDcgMTkuNzk2OSAxOC4xODA3IDE3LjY5MTRDMTguMTgwNyAxNS44MTE1IDE2Ljg0MDggMTQuNDg1NCAxNC45NTQxIDE0LjQ4NTRDMTMuOTQ5MiAxNC40ODU0IDEzLjE0MjYgMTQuODgxOCAxMi43MzkzIDE1LjUxNzZIMTIuNjk4MkwxMi45MzA3IDEyLjc3NjRIMTYuODI3MUMxNy4zNDY3IDEyLjc3NjQgMTcuNjc0OCAxMi40NTUxIDE3LjY3NDggMTEuOTU2MUMxNy42NzQ4IDExLjQ1NyAxNy4zMzk4IDExLjEzNTcgMTYuODI3MSAxMS4xMzU3SDEyLjVDMTEuNzAwMiAxMS4xMzU3IDExLjI2OTUgMTEuNDcwNyAxMS4yMDEyIDEyLjMwNDdMMTAuOTE0MSAxNS45MjA5QzEwLjkwNzIgMTUuOTU1MSAxMC45MDcyIDE1Ljk3NTYgMTAuOTA3MiAxNi4wMDI5QzEwLjg3OTkgMTYuNTU2NiAxMS4yMDEyIDE3LjAyODMgMTEuODc3OSAxNy4wMjgzQzEyLjMzNTkgMTcuMDI4MyAxMi41NDEgMTYuOTI1OCAxMi45NDQzIDE2LjU0OThDMTMuMjkzIDE2LjIxNDggMTMuNzg1MiAxNS45NjE5IDE0LjM3MyAxNS45NjE5QzE1LjQ0NjMgMTUuOTYxOSAxNi4yMTE5IDE2LjcwMDIgMTYuMjExOSAxNy43MzkzQzE2LjIxMTkgMTguODA1NyAxNS40Mzk1IDE5LjU3ODEgMTQuMzY2MiAxOS41NzgxQzEzLjQ3NzUgMTkuNTc4MSAxMi44OTY1IDE5LjE0NzUgMTIuNTQxIDE4LjQzNjVDMTIuMzA4NiAxOC4wNjc0IDEyLjA0ODggMTcuOTIzOCAxMS42Mzg3IDE3LjkyMzhDMTEuMTA1NSAxNy45MjM4IDEwLjc3NzMgMTguMjM4MyAxMC43NzczIDE4Ljc2NDZDMTAuNzc3MyAxOS4wMTA3IDEwLjgzODkgMTkuMjIyNyAxMC45NDE0IDE5LjQ0MTRDMTEuNDMzNiAyMC40ODczIDEyLjgwMDggMjEuMjE4OCAxNC4zNjYyIDIxLjIxODhaIgogICAgICAgIGZpbGw9IiNGMUY1RjgiIC8+CiAgICA8cGF0aAogICAgICAgIGQ9Ik0xOS45MzA3IDIxLjE0MzZDMjAuMjg2MSAyMS4xNDM2IDIwLjQ4NDQgMjEuMDI3MyAyMC43NTc4IDIwLjYwMzVMMjIuMTg2NSAxOC40NTdIMjIuMjI3NUwyMy42ODM2IDIwLjYzNzdDMjMuOTA5MiAyMC45Nzk1IDI0LjEwMDYgMjEuMTQzNiAyNC40OTAyIDIxLjE0MzZDMjUuMDMwMyAyMS4xNDM2IDI1LjQ0MDQgMjAuODAxOCAyNS40NDA0IDIwLjI2MTdDMjUuNDQwNCAyMC4wNDMgMjUuMzcyMSAxOS44NTE2IDI1LjIyMTcgMTkuNjQ2NUwyMy41MTk1IDE3LjI5NDlMMjUuMTk0MyAxNS4wNTk2QzI1LjM4NTcgMTQuODEzNSAyNS40NjA5IDE0LjYxNTIgMjUuNDYwOSAxNC4zNjkxQzI1LjQ2MDkgMTMuODYzMyAyNS4wODUgMTMuNTIxNSAyNC41MjQ0IDEzLjUyMTVDMjQuMTU1MyAxMy41MjE1IDIzLjk0MzQgMTMuNjg1NSAyMy42NzY4IDE0LjEwMjVMMjIuMzM2OSAxNi4xNDY1SDIyLjI5NTlMMjAuOTI4NyAxNC4wODg5QzIwLjY2MjEgMTMuNjY1IDIwLjQ1MDIgMTMuNTIxNSAyMC4wNDY5IDEzLjUyMTVDMTkuNSAxMy41MjE1IDE5LjA4OTggMTMuODk3NSAxOS4wODk4IDE0LjM5NjVDMTkuMDg5OCAxNC42Mjg5IDE5LjE1ODIgMTQuODI3MSAxOS4zMDE4IDE1LjAxODZMMjEuMDEwNyAxNy4zNDk2TDE5LjI5NDkgMTkuNjQ2NUMxOS4xMDM1IDE5Ljg5OTQgMTkuMDI4MyAyMC4wOTA4IDE5LjAyODMgMjAuMzMwMUMxOS4wMjgzIDIwLjgwODYgMTkuNDA0MyAyMS4xNDM2IDE5LjkzMDcgMjEuMTQzNloiCiAgICAgICAgZmlsbD0iI0YxRjVGOCIgLz4KPC9zdmc+Cg==";var gr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxyZWN0IG9wYWNpdHk9IjAuNSIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iMTYiIGZpbGw9IndoaXRlIiAvPgogICAgPHBhdGgKICAgICAgICBkPSJNNy45ODgyOCAyMS4wODJDOC41OTY2OCAyMS4wODIgOS4wODg4NyAyMC41ODk4IDkuMDg4ODcgMTkuOTgxNEM5LjA4ODg3IDE5LjM2NjIgOC41OTY2OCAxOC44ODA5IDcuOTg4MjggMTguODgwOUM3LjM3MzA1IDE4Ljg4MDkgNi44ODc3IDE5LjM2NjIgNi44ODc3IDE5Ljk4MTRDNi44ODc3IDIwLjU4OTggNy4zNzMwNSAyMS4wODIgNy45ODgyOCAyMS4wODJaIgogICAgICAgIGZpbGw9IndoaXRlIiAvPgogICAgPHBhdGgKICAgICAgICBkPSJNMTQuMzY2MiAyMS4yMTg4QzE2LjYxNTIgMjEuMjE4OCAxOC4xODA3IDE5Ljc5NjkgMTguMTgwNyAxNy42OTE0QzE4LjE4MDcgMTUuODExNSAxNi44NDA4IDE0LjQ4NTQgMTQuOTU0MSAxNC40ODU0QzEzLjk0OTIgMTQuNDg1NCAxMy4xNDI2IDE0Ljg4MTggMTIuNzM5MyAxNS41MTc2SDEyLjY5ODJMMTIuOTMwNyAxMi43NzY0SDE2LjgyNzFDMTcuMzQ2NyAxMi43NzY0IDE3LjY3NDggMTIuNDU1MSAxNy42NzQ4IDExLjk1NjFDMTcuNjc0OCAxMS40NTcgMTcuMzM5OCAxMS4xMzU3IDE2LjgyNzEgMTEuMTM1N0gxMi41QzExLjcwMDIgMTEuMTM1NyAxMS4yNjk1IDExLjQ3MDcgMTEuMjAxMiAxMi4zMDQ3TDEwLjkxNDEgMTUuOTIwOUMxMC45MDcyIDE1Ljk1NTEgMTAuOTA3MiAxNS45NzU2IDEwLjkwNzIgMTYuMDAyOUMxMC44Nzk5IDE2LjU1NjYgMTEuMjAxMiAxNy4wMjgzIDExLjg3NzkgMTcuMDI4M0MxMi4zMzU5IDE3LjAyODMgMTIuNTQxIDE2LjkyNTggMTIuOTQ0MyAxNi41NDk4QzEzLjI5MyAxNi4yMTQ4IDEzLjc4NTIgMTUuOTYxOSAxNC4zNzMgMTUuOTYxOUMxNS40NDYzIDE1Ljk2MTkgMTYuMjExOSAxNi43MDAyIDE2LjIxMTkgMTcuNzM5M0MxNi4yMTE5IDE4LjgwNTcgMTUuNDM5NSAxOS41NzgxIDE0LjM2NjIgMTkuNTc4MUMxMy40Nzc1IDE5LjU3ODEgMTIuODk2NSAxOS4xNDc1IDEyLjU0MSAxOC40MzY1QzEyLjMwODYgMTguMDY3NCAxMi4wNDg4IDE3LjkyMzggMTEuNjM4NyAxNy45MjM4QzExLjEwNTUgMTcuOTIzOCAxMC43NzczIDE4LjIzODMgMTAuNzc3MyAxOC43NjQ2QzEwLjc3NzMgMTkuMDEwNyAxMC44Mzg5IDE5LjIyMjcgMTAuOTQxNCAxOS40NDE0QzExLjQzMzYgMjAuNDg3MyAxMi44MDA4IDIxLjIxODggMTQuMzY2MiAyMS4yMTg4WiIKICAgICAgICBmaWxsPSJ3aGl0ZSIgLz4KICAgIDxwYXRoCiAgICAgICAgZD0iTTE5LjkzMDcgMjEuMTQzNkMyMC4yODYxIDIxLjE0MzYgMjAuNDg0NCAyMS4wMjczIDIwLjc1NzggMjAuNjAzNUwyMi4xODY1IDE4LjQ1N0gyMi4yMjc1TDIzLjY4MzYgMjAuNjM3N0MyMy45MDkyIDIwLjk3OTUgMjQuMTAwNiAyMS4xNDM2IDI0LjQ5MDIgMjEuMTQzNkMyNS4wMzAzIDIxLjE0MzYgMjUuNDQwNCAyMC44MDE4IDI1LjQ0MDQgMjAuMjYxN0MyNS40NDA0IDIwLjA0MyAyNS4zNzIxIDE5Ljg1MTYgMjUuMjIxNyAxOS42NDY1TDIzLjUxOTUgMTcuMjk0OUwyNS4xOTQzIDE1LjA1OTZDMjUuMzg1NyAxNC44MTM1IDI1LjQ2MDkgMTQuNjE1MiAyNS40NjA5IDE0LjM2OTFDMjUuNDYwOSAxMy44NjMzIDI1LjA4NSAxMy41MjE1IDI0LjUyNDQgMTMuNTIxNUMyNC4xNTUzIDEzLjUyMTUgMjMuOTQzNCAxMy42ODU1IDIzLjY3NjggMTQuMTAyNUwyMi4zMzY5IDE2LjE0NjVIMjIuMjk1OUwyMC45Mjg3IDE0LjA4ODlDMjAuNjYyMSAxMy42NjUgMjAuNDUwMiAxMy41MjE1IDIwLjA0NjkgMTMuNTIxNUMxOS41IDEzLjUyMTUgMTkuMDg5OCAxMy44OTc1IDE5LjA4OTggMTQuMzk2NUMxOS4wODk4IDE0LjYyODkgMTkuMTU4MiAxNC44MjcxIDE5LjMwMTggMTUuMDE4NkwyMS4wMTA3IDE3LjM0OTZMMTkuMjk0OSAxOS42NDY1QzE5LjEwMzUgMTkuODk5NCAxOS4wMjgzIDIwLjA5MDggMTkuMDI4MyAyMC4zMzAxQzE5LjAyODMgMjAuODA4NiAxOS40MDQzIDIxLjE0MzYgMTkuOTMwNyAyMS4xNDM2WiIKICAgICAgICBmaWxsPSJ3aGl0ZSIgLz4KPC9zdmc+Cg==";var fr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxyZWN0IG9wYWNpdHk9IjAuMzUiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgcng9IjE2IiBmaWxsPSIjREFFMUU3IiAvPgogICAgPHBhdGgKICAgICAgICBkPSJNMTIuMjg4MSAyMS4xNDM2QzEyLjg5NjUgMjEuMTQzNiAxMy4zMDY2IDIwLjczMzQgMTMuMzA2NiAyMC4xMTEzVjEyLjE0MDZDMTMuMzA2NiAxMS40Mjk3IDEyLjg2OTEgMTAuOTg1NCAxMi4xMzc3IDEwLjk4NTRDMTEuNzEzOSAxMC45ODU0IDExLjM4NTcgMTEuMDQ2OSAxMC45MDcyIDExLjM3NUw4Ljk1MjE1IDEyLjcyODVDOC42MzA4NiAxMi45NTQxIDguNTA3ODEgMTMuMTg2NSA4LjUwNzgxIDEzLjUwMUM4LjUwNzgxIDEzLjkzODUgOC44MTU0MyAxNC4yMzkzIDkuMjMyNDIgMTQuMjM5M0M5LjQ0NDM0IDE0LjIzOTMgOS41ODc4OSAxNC4xOTE0IDkuNzc5MyAxNC4wNTQ3TDExLjIyMTcgMTMuMDQ5OEgxMS4yNjI3VjIwLjExMTNDMTEuMjYyNyAyMC43MzM0IDExLjY3OTcgMjEuMTQzNiAxMi4yODgxIDIxLjE0MzZaTTE2LjkwMjMgMjAuMzE2NEMxNy4yNDQxIDIwLjMxNjQgMTcuNDAxNCAyMC4xODY1IDE3LjY4MTYgMTkuOTEzMUwxOS4zNjMzIDE4LjI0NTFMMjEuMDM4MSAxOS45MDYyQzIxLjMxODQgMjAuMTg2NSAyMS40ODI0IDIwLjMxNjQgMjEuODE3NCAyMC4zMTY0QzIyLjI2MTcgMjAuMzE2NCAyMi42Mzc3IDE5Ljk3NDYgMjIuNjM3NyAxOS41MjM0QzIyLjYzNzcgMTkuMjE1OCAyMi40ODczIDE5LjAxNzYgMjIuMjU0OSAxOC43ODUyTDIwLjUyNTQgMTcuMDQ4OEwyMi4yNTQ5IDE1LjMwNTdDMjIuNDg3MyAxNS4wNzMyIDIyLjYzNzcgMTQuODc1IDIyLjYzNzcgMTQuNTY3NEMyMi42Mzc3IDE0LjExNjIgMjIuMjYxNyAxMy43NzQ0IDIxLjgxNzQgMTMuNzc0NEMyMS40ODI0IDEzLjc3NDQgMjEuMzE4NCAxMy45MDQzIDIxLjAzODEgMTQuMTg0NkwxOS4zNjMzIDE1Ljg0NTdMMTcuNjg4NSAxNC4xODQ2QzE3LjQwODIgMTMuOTA0MyAxNy4yNTEgMTMuNzc0NCAxNi45MDkyIDEzLjc3NDRDMTYuNDY0OCAxMy43NzQ0IDE2LjA4ODkgMTQuMTE2MiAxNi4wODg5IDE0LjU2NzRDMTYuMDg4OSAxNC44ODE4IDE2LjIzOTMgMTUuMDczMiAxNi40NzE3IDE1LjMwNTdMMTguMTk0MyAxNy4wNDg4TDE2LjQ3MTcgMTguNzg1MkMxNi4yMzI0IDE5LjAyNDQgMTYuMDg4OSAxOS4yMTU4IDE2LjA4ODkgMTkuNTIzNEMxNi4wODg5IDE5Ljk4MTQgMTYuNDU4IDIwLjMxNjQgMTYuOTAyMyAyMC4zMTY0WiIKICAgICAgICBmaWxsPSIjRjFGNUY4IiAvPgo8L3N2Zz4K";var vr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxyZWN0IG9wYWNpdHk9IjAuNSIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iMTYiIGZpbGw9IndoaXRlIiAvPgogICAgPHBhdGgKICAgICAgICBkPSJNMTIuMjg4MSAyMS4xNDM2QzEyLjg5NjUgMjEuMTQzNiAxMy4zMDY2IDIwLjczMzQgMTMuMzA2NiAyMC4xMTEzVjEyLjE0MDZDMTMuMzA2NiAxMS40Mjk3IDEyLjg2OTEgMTAuOTg1NCAxMi4xMzc3IDEwLjk4NTRDMTEuNzEzOSAxMC45ODU0IDExLjM4NTcgMTEuMDQ2OSAxMC45MDcyIDExLjM3NUw4Ljk1MjE1IDEyLjcyODVDOC42MzA4NiAxMi45NTQxIDguNTA3ODEgMTMuMTg2NSA4LjUwNzgxIDEzLjUwMUM4LjUwNzgxIDEzLjkzODUgOC44MTU0MyAxNC4yMzkzIDkuMjMyNDIgMTQuMjM5M0M5LjQ0NDM0IDE0LjIzOTMgOS41ODc4OSAxNC4xOTE0IDkuNzc5MyAxNC4wNTQ3TDExLjIyMTcgMTMuMDQ5OEgxMS4yNjI3VjIwLjExMTNDMTEuMjYyNyAyMC43MzM0IDExLjY3OTcgMjEuMTQzNiAxMi4yODgxIDIxLjE0MzZaTTE2LjkwMjMgMjAuMzE2NEMxNy4yNDQxIDIwLjMxNjQgMTcuNDAxNCAyMC4xODY1IDE3LjY4MTYgMTkuOTEzMUwxOS4zNjMzIDE4LjI0NTFMMjEuMDM4MSAxOS45MDYyQzIxLjMxODQgMjAuMTg2NSAyMS40ODI0IDIwLjMxNjQgMjEuODE3NCAyMC4zMTY0QzIyLjI2MTcgMjAuMzE2NCAyMi42Mzc3IDE5Ljk3NDYgMjIuNjM3NyAxOS41MjM0QzIyLjYzNzcgMTkuMjE1OCAyMi40ODczIDE5LjAxNzYgMjIuMjU0OSAxOC43ODUyTDIwLjUyNTQgMTcuMDQ4OEwyMi4yNTQ5IDE1LjMwNTdDMjIuNDg3MyAxNS4wNzMyIDIyLjYzNzcgMTQuODc1IDIyLjYzNzcgMTQuNTY3NEMyMi42Mzc3IDE0LjExNjIgMjIuMjYxNyAxMy43NzQ0IDIxLjgxNzQgMTMuNzc0NEMyMS40ODI0IDEzLjc3NDQgMjEuMzE4NCAxMy45MDQzIDIxLjAzODEgMTQuMTg0NkwxOS4zNjMzIDE1Ljg0NTdMMTcuNjg4NSAxNC4xODQ2QzE3LjQwODIgMTMuOTA0MyAxNy4yNTEgMTMuNzc0NCAxNi45MDkyIDEzLjc3NDRDMTYuNDY0OCAxMy43NzQ0IDE2LjA4ODkgMTQuMTE2MiAxNi4wODg5IDE0LjU2NzRDMTYuMDg4OSAxNC44ODE4IDE2LjIzOTMgMTUuMDczMiAxNi40NzE3IDE1LjMwNTdMMTguMTk0MyAxNy4wNDg4TDE2LjQ3MTcgMTguNzg1MkMxNi4yMzI0IDE5LjAyNDQgMTYuMDg4OSAxOS4yMTU4IDE2LjA4ODkgMTkuNTIzNEMxNi4wODg5IDE5Ljk4MTQgMTYuNDU4IDIwLjMxNjQgMTYuOTAyMyAyMC4zMTY0WiIKICAgICAgICBmaWxsPSJ3aGl0ZSIgLz4KPC9zdmc+Cg==";var br="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+SWNvbnMgLyBXaXRoIFNoYWRvdyAvIENsaWNrZWQgLyBDYW1lcmEgUm90YXRlIEJhY2s8L3RpdGxlPgogICAgPGRlZnM+CiAgICAgICAgPGZpbHRlciB4PSItMTA2LjMlIiB5PSItMTA2LjIlIiB3aWR0aD0iMzEyLjUlIiBoZWlnaHQ9IjMxMi41JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTEiPgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIwIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSI0IiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjEwNTg4MjM1MyAgIDAgMCAwIDAgMC4xMjU0OTAxOTYgICAwIDAgMCAwIDAuMTQ5MDE5NjA4ICAwIDAgMCAwLjMyIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0JsdXJPdXRlcjEiIHJlc3VsdD0ic2hhZG93TWF0cml4T3V0ZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgICAgIDxmZU1lcmdlPgogICAgICAgICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPSJzaGFkb3dNYXRyaXhPdXRlcjEiPjwvZmVNZXJnZU5vZGU+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49IlNvdXJjZUdyYXBoaWMiPjwvZmVNZXJnZU5vZGU+CiAgICAgICAgICAgIDwvZmVNZXJnZT4KICAgICAgICA8L2ZpbHRlcj4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSJJY29ucy0vLVdpdGgtU2hhZG93LS8tQ2xpY2tlZC0vLUNhbWVyYS1Sb3RhdGUtQmFjayIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHJlY3QgaWQ9IkJnIiBmaWxsPSIjRkZGRkZGIiBvcGFjaXR5PSIwIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjwvcmVjdD4KICAgICAgICA8ZyBpZD0iY2FtZXJhLXJvdGF0ZSIgZmlsdGVyPSJ1cmwoI2ZpbHRlci0xKSIgb3BhY2l0eT0iMC42Mzk5OTk5ODYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjAwMDAwMCwgMTIuMDAwMDAwKSBzY2FsZSgtMSwgMSkgdHJhbnNsYXRlKC0xMi4wMDAwMDAsIC0xMi4wMDAwMDApIHRyYW5zbGF0ZSg0LjAwMDAwMCwgNC4wMDAwMDApIiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiI+CiAgICAgICAgICAgIDxwb2x5bGluZSBpZD0iUGF0aCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0LjAwMDAwMCwgMTQuMDAwMDAwKSBzY2FsZSgxLCAtMSkgcm90YXRlKC0zNjAuMDAwMDAwKSB0cmFuc2xhdGUoLTQuMDAwMDAwLCAtMTQuMDAwMDAwKSAiIHBvaW50cz0iMyAxMiA1IDE0IDMgMTYiPjwvcG9seWxpbmU+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGN4PSI4IiBjeT0iOCIgcj0iMiI+PC9jaXJjbGU+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik04LDMgTDE0LDMgQzE1LjEwNDU2OTUsMyAxNiwzLjg5NTQzMDUgMTYsNSBMMTYsMTIgQzE2LDEzLjEwNDU2OTUgMTUuMTA0NTY5NSwxNCAxNCwxNCBMMTIsMTQgTDEyLDE0IiBpZD0iUGF0aC0yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjAwMDAwMCwgOC41MDAwMDApIHNjYWxlKDEsIC0xKSB0cmFuc2xhdGUoLTEyLjAwMDAwMCwgLTguNTAwMDAwKSAiPjwvcGF0aD4KICAgICAgICAgICAgPHBvbHlsaW5lIGlkPSJQYXRoIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjAwMDAwMCwgMy4wMDAwMDApIHJvdGF0ZSgtMTgwLjAwMDAwMCkgdHJhbnNsYXRlKC0xMi4wMDAwMDAsIC0zLjAwMDAwMCkgIiBwb2ludHM9IjExIDEgMTMgMyAxMSA1Ij48L3BvbHlsaW5lPgogICAgICAgICAgICA8cGF0aCBkPSJNNCwxNCBMMiwxNCBDMC44OTU0MzA1LDE0IDEuMzUyNzA3NWUtMTYsMTMuMTA0NTY5NSAwLDEyIEwwLDUgQy0xLjM1MjcwNzVlLTE2LDMuODk1NDMwNSAwLjg5NTQzMDUsMyAyLDMgTDIuNSwzIEMzLjMyODQyNzEyLDMgNCwyLjMyODQyNzEyIDQsMS41IEM0LDAuNjcxNTcyODc1IDQuNjcxNTcyODgsMS41MjE3OTU5NGUtMTYgNS41LDAgTDEwLDAgTDEwLDAiIGlkPSJQYXRoLTIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+";var Sr="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+SWNvbnMgLyBXaXRoIFNoYWRvdyAvIE5vcm1hbCAvIENhbWVyYSBSb3RhdGUgQmFjazwvdGl0bGU+CiAgICA8ZGVmcz4KICAgICAgICA8ZmlsdGVyIHg9Ii0xMDYuMyUiIHk9Ii0xMDYuMiUiIHdpZHRoPSIzMTIuNSUiIGhlaWdodD0iMzEyLjUlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItMSI+CiAgICAgICAgICAgIDxmZU9mZnNldCBkeD0iMCIgZHk9IjAiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVPZmZzZXQ+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjQiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuMTA1ODgyMzUzICAgMCAwIDAgMCAwLjEyNTQ5MDE5NiAgIDAgMCAwIDAgMC4xNDkwMTk2MDggIDAgMCAwIDAuMzIgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSIgcmVzdWx0PSJzaGFkb3dNYXRyaXhPdXRlcjEiPjwvZmVDb2xvck1hdHJpeD4KICAgICAgICAgICAgPGZlTWVyZ2U+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49InNoYWRvd01hdHJpeE91dGVyMSI+PC9mZU1lcmdlTm9kZT4KICAgICAgICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyI+PC9mZU1lcmdlTm9kZT4KICAgICAgICAgICAgPC9mZU1lcmdlPgogICAgICAgIDwvZmlsdGVyPgogICAgPC9kZWZzPgogICAgPGcgaWQ9Ikljb25zLS8tV2l0aC1TaGFkb3ctLy1Ob3JtYWwtLy1DYW1lcmEtUm90YXRlLUJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxyZWN0IGlkPSJCZyIgZmlsbD0iI0ZGRkZGRiIgb3BhY2l0eT0iMCIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48L3JlY3Q+CiAgICAgICAgPGcgaWQ9ImNhbWVyYS1yb3RhdGUiIGZpbHRlcj0idXJsKCNmaWx0ZXItMSkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjAwMDAwMCwgMTIuMDAwMDAwKSBzY2FsZSgtMSwgMSkgdHJhbnNsYXRlKC0xMi4wMDAwMDAsIC0xMi4wMDAwMDApIHRyYW5zbGF0ZSg0LjAwMDAwMCwgNC4wMDAwMDApIiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiI+CiAgICAgICAgICAgIDxwb2x5bGluZSBpZD0iUGF0aCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0LjAwMDAwMCwgMTQuMDAwMDAwKSBzY2FsZSgxLCAtMSkgcm90YXRlKC0zNjAuMDAwMDAwKSB0cmFuc2xhdGUoLTQuMDAwMDAwLCAtMTQuMDAwMDAwKSAiIHBvaW50cz0iMyAxMiA1IDE0IDMgMTYiPjwvcG9seWxpbmU+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGN4PSI4IiBjeT0iOCIgcj0iMiI+PC9jaXJjbGU+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik04LDMgTDE0LDMgQzE1LjEwNDU2OTUsMyAxNiwzLjg5NTQzMDUgMTYsNSBMMTYsMTIgQzE2LDEzLjEwNDU2OTUgMTUuMTA0NTY5NSwxNCAxNCwxNCBMMTIsMTQgTDEyLDE0IiBpZD0iUGF0aC0yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjAwMDAwMCwgOC41MDAwMDApIHNjYWxlKDEsIC0xKSB0cmFuc2xhdGUoLTEyLjAwMDAwMCwgLTguNTAwMDAwKSAiPjwvcGF0aD4KICAgICAgICAgICAgPHBvbHlsaW5lIGlkPSJQYXRoIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjAwMDAwMCwgMy4wMDAwMDApIHJvdGF0ZSgtMTgwLjAwMDAwMCkgdHJhbnNsYXRlKC0xMi4wMDAwMDAsIC0zLjAwMDAwMCkgIiBwb2ludHM9IjExIDEgMTMgMyAxMSA1Ij48L3BvbHlsaW5lPgogICAgICAgICAgICA8cGF0aCBkPSJNNCwxNCBMMiwxNCBDMC44OTU0MzA1LDE0IDEuMzUyNzA3NWUtMTYsMTMuMTA0NTY5NSAwLDEyIEwwLDUgQy0xLjM1MjcwNzVlLTE2LDMuODk1NDMwNSAwLjg5NTQzMDUsMyAyLDMgTDIuNSwzIEMzLjMyODQyNzEyLDMgNCwyLjMyODQyNzEyIDQsMS41IEM0LDAuNjcxNTcyODc1IDQuNjcxNTcyODgsMS41MjE3OTU5NGUtMTYgNS41LDAgTDEwLDAgTDEwLDAiIGlkPSJQYXRoLTIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+";var Cr="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiCiAgICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPGRlZnM+CiAgICAgICAgPGZpbHRlciB4PSItMTIxLjUlIiB5PSItODguOSUiIHdpZHRoPSIzNDMlIiBoZWlnaHQ9IjI3Ny44JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0icHJlZml4X19hIj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiLz4KICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iNCIgaW49InNoYWRvd09mZnNldE91dGVyMSIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIi8+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjEwNTg4MjM1MyAwIDAgMCAwIDAuMTI1NDkwMTk2IDAgMCAwIDAgMC4xNDkwMTk2MDggMCAwIDAgMC4zMiAwIiBpbj0ic2hhZG93Qmx1ck91dGVyMSIgcmVzdWx0PSJzaGFkb3dNYXRyaXhPdXRlcjEiLz4KICAgICAgICAgICAgPGZlTWVyZ2U+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49InNoYWRvd01hdHJpeE91dGVyMSIvPgogICAgICAgICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPSJTb3VyY2VHcmFwaGljIi8+CiAgICAgICAgICAgIDwvZmVNZXJnZT4KICAgICAgICA8L2ZpbHRlcj4KICAgIDwvZGVmcz4KICAgIDxnIGZpbHRlcj0idXJsKCNwcmVmaXhfX2EpIiBvcGFjaXR5PSIuNjQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMuNzQyIDMpIiBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgIDxwYXRoIGQ9Ik00LjIyMyAxNy45NDZhLjc1Ljc1IDAgMDEtLjQ1Ni0uODNMNS4xMDUgOS43NWgtMy42YS43NS43NSAwIDAxLS43MjctLjk0NmwxLjE4My00LjMzNUwuMjIgMi43MjhhLjc1Ljc1IDAgMTExLjA2LTEuMDYybDExLjY2OCAxMS42NjhhLjc1Ljc1IDAgMDEtMS4wNiAxLjA2TDkuMTQgMTEuNjQ2bC00LjAxMyA2LjAyYS43NS43NSAwIDAxLS45MDQuMjh6TTEwLjgzOCA5LjFMMi44NzIgMS4xMzVsLjE1OS0uNThBLjc1Ljc1IDAgMDEzLjc1NSAwaDUuMjVhLjc1Ljc1IDAgMDEuNzIyLjk1OUw4LjQ5OSA1LjI1aDMuNTA1YS43NS43NSAwIDAxLjYyNiAxLjE2N2wtMS43OSAyLjY4NGgtLjAwMnoiLz4KICAgIDwvZz4KPC9zdmc+";var Ar="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiCiAgICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPGRlZnM+CiAgICAgICAgPGZpbHRlciB4PSItMTE0LjMlIiB5PSItODguOSUiIHdpZHRoPSIzMjguNiUiIGhlaWdodD0iMjc3LjglIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJwcmVmaXhfX2EiPgogICAgICAgICAgICA8ZmVPZmZzZXQgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSIvPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSI0IiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiLz4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuMTA1ODgyMzUzIDAgMCAwIDAgMC4xMjU0OTAxOTYgMCAwIDAgMCAwLjE0OTAxOTYwOCAwIDAgMCAwLjMyIDAiIGluPSJzaGFkb3dCbHVyT3V0ZXIxIiByZXN1bHQ9InNoYWRvd01hdHJpeE91dGVyMSIvPgogICAgICAgICAgICA8ZmVNZXJnZT4KICAgICAgICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj0ic2hhZG93TWF0cml4T3V0ZXIxIi8+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49IlNvdXJjZUdyYXBoaWMiLz4KICAgICAgICAgICAgPC9mZU1lcmdlPgogICAgICAgIDwvZmlsdGVyPgogICAgPC9kZWZzPgogICAgPGcgZmlsdGVyPSJ1cmwoI3ByZWZpeF9fYSkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMgMykiIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZD0iTTQuOTY2IDE3Ljk0NmEuNzUuNzUgMCAwMS0uNDU3LS44M0w1Ljg0OCA5Ljc1aC0zLjZhLjc1Ljc1IDAgMDEtLjcyNy0uOTQ2bDEuMTgyLTQuMzM1LTEuNzQtMS43NGEuNzUuNzUgMCAxMTEuMDYtMS4wNjJMMTMuNjkgMTMuMzM0YS43NS43NSAwIDAxLTEuMDYxIDEuMDZsLTIuNzQ4LTIuNzQ4LTQuMDEyIDYuMDJhLjc1Ljc1IDAgMDEtLjkwNC4yOHpNMTEuNTggOS4xTDMuNjE0IDEuMTM1bC4xNi0uNThBLjc1Ljc1IDAgMDE0LjQ5NiAwaDUuMjVhLjc1Ljc1IDAgMDEuNzIyLjk1OUw5LjI0MiA1LjI1aDMuNTA0YS43NS43NSAwIDAxLjYyNyAxLjE2N2wtMS43OSAyLjY4NGgtLjAwMnoiLz4KICAgIDwvZz4KPC9zdmc+";var wr="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiCiAgICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPGRlZnM+CiAgICAgICAgPGZpbHRlciB4PSItMTMzLjMlIiB5PSItODguOSUiIHdpZHRoPSIzNjYuNiUiIGhlaWdodD0iMjc3LjglIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJwcmVmaXhfX2EiPgogICAgICAgICAgICA8ZmVPZmZzZXQgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSIvPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSI0IiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiLz4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuMTA1ODgyMzUzIDAgMCAwIDAgMC4xMjU0OTAxOTYgMCAwIDAgMCAwLjE0OTAxOTYwOCAwIDAgMCAwLjMyIDAiIGluPSJzaGFkb3dCbHVyT3V0ZXIxIiByZXN1bHQ9InNoYWRvd01hdHJpeE91dGVyMSIvPgogICAgICAgICAgICA8ZmVNZXJnZT4KICAgICAgICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj0ic2hhZG93TWF0cml4T3V0ZXIxIi8+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49IlNvdXJjZUdyYXBoaWMiLz4KICAgICAgICAgICAgPC9mZU1lcmdlPgogICAgICAgIDwvZmlsdGVyPgogICAgPC9kZWZzPgogICAgPGcgZmlsdGVyPSJ1cmwoI3ByZWZpeF9fYSkiIG9wYWNpdHk9Ii42NCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNC41IDMpIiBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgIDxwYXRoIGQ9Ik0xMS4yNSA1LjI1SDcuNzQ1TDguOTcyLjk1NkEuNzUuNzUgMCAwMDguMjUgMEgzYS43NS43NSAwIDAwLS43MjQuNTUzbC0yLjI1IDguMjVhLjc1Ljc1IDAgMDAuNzI0Ljk0N2gzLjZsLTEuMzM4IDcuMzY2YS43NS43NSAwIDAwMS4zNjMuNTVsNy41LTExLjI1YS43NS43NSAwIDAwLS42MjUtMS4xNjZ6Ii8+CiAgICA8L2c+Cjwvc3ZnPg==";var yr="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiCiAgICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPGRlZnM+CiAgICAgICAgPGZpbHRlciB4PSItMTMzLjMlIiB5PSItODguOSUiIHdpZHRoPSIzNjYuNiUiIGhlaWdodD0iMjc3LjglIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJwcmVmaXhfX2EiPgogICAgICAgICAgICA8ZmVPZmZzZXQgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSIvPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSI0IiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiLz4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuMTA1ODgyMzUzIDAgMCAwIDAgMC4xMjU0OTAxOTYgMCAwIDAgMCAwLjE0OTAxOTYwOCAwIDAgMCAwLjMyIDAiIGluPSJzaGFkb3dCbHVyT3V0ZXIxIiByZXN1bHQ9InNoYWRvd01hdHJpeE91dGVyMSIvPgogICAgICAgICAgICA8ZmVNZXJnZT4KICAgICAgICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj0ic2hhZG93TWF0cml4T3V0ZXIxIi8+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49IlNvdXJjZUdyYXBoaWMiLz4KICAgICAgICAgICAgPC9mZU1lcmdlPgogICAgICAgIDwvZmlsdGVyPgogICAgPC9kZWZzPgogICAgPGcgZmlsdGVyPSJ1cmwoI3ByZWZpeF9fYSkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuNSAzKSIgZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICA8cGF0aCBkPSJNMTEuMjUgNS4yNUg3Ljc0NUw4Ljk3Mi45NTZBLjc1Ljc1IDAgMDA4LjI1IDBIM2EuNzUuNzUgMCAwMC0uNzI0LjU1M2wtMi4yNSA4LjI1YS43NS43NSAwIDAwLjcyNC45NDdoMy42bC0xLjMzOCA3LjM2NmEuNzUuNzUgMCAwMDEuMzYzLjU1bDcuNS0xMS4yNWEuNzUuNzUgMCAwMC0uNjI1LTEuMTY2eiIvPgogICAgPC9nPgo8L3N2Zz4=";var $e=class{constructor(){l(this,"type","torch");l(this,"view",null);l(this,"icon",{on:{idle:yr,pressed:wr},off:{idle:Ar,pressed:Cr}})}get torchOffImage(){return this.icon.off.idle}set torchOffImage(e){var t;this.icon.off.idle=e,(t=this.view)==null||t.controlsUpdated()}get torchOffPressedImage(){return this.icon.off.pressed}set torchOffPressedImage(e){var t;this.icon.off.pressed=e,(t=this.view)==null||t.controlsUpdated()}get torchOnImage(){return this.icon.on.idle}set torchOnImage(e){var t;this.icon.on.idle=e,(t=this.view)==null||t.controlsUpdated()}get torchOnPressedImage(){return this.icon.on.pressed}set torchOnPressedImage(e){var t;this.icon.on.pressed=e,(t=this.view)==null||t.controlsUpdated()}toJSONObject(){return{type:this.type}}};l($e,"CLASS_NAME","torch");var qe=class{constructor(){l(this,"type","camera");l(this,"view",null);l(this,"icon",{idle:Sr,pressed:br})}get idleImage(){return this.icon.idle}set idleImage(e){var t;this.icon.idle=e,(t=this.view)==null||t.controlsUpdated()}get pressedImage(){return this.icon.pressed}set pressedImage(e){var t;this.icon.pressed=e,(t=this.view)==null||t.controlsUpdated()}toJSONObject(){return{type:this.type}}};l(qe,"CLASS_NAME","camera");var Ze=class{constructor(){l(this,"type","camera-fov");l(this,"view",null);l(this,"icon",{wide:{idle:vr,pressed:fr},ultraWide:{idle:gr,pressed:hr}})}get cameraFOVUltraWideImage(){return this.icon.ultraWide.idle}set cameraFOVUltraWideImage(e){var t;this.icon.ultraWide.idle=e,(t=this.view)==null||t.controlsUpdated()}get cameraFOVUltraWidePressedImage(){return this.icon.ultraWide.pressed}set cameraFOVUltraWidePressedImage(e){var t;this.icon.ultraWide.pressed=e,(t=this.view)==null||t.controlsUpdated()}get cameraFOVWideImage(){return this.icon.wide.idle}set cameraFOVWideImage(e){var t;this.icon.wide.idle=e,(t=this.view)==null||t.controlsUpdated()}get cameraFOVWidePressedImage(){return this.icon.wide.pressed}set cameraFOVWidePressedImage(e){var t;this.icon.wide.pressed=e,(t=this.view)==null||t.controlsUpdated()}toJSONObject(){return{type:this.type}}};l(Ze,"CLASS_NAME","camera-fov");var Mt=class{constructor(e=D.Brush.fillColor,t=D.Brush.strokeColor,r=D.Brush.strokeWidth){l(this,"fill");l(this,"stroke");this.fill={color:e},this.stroke={color:t,width:r}}static get transparent(){let e=Y.fromRGBA(255,255,255,0);return new Mt(e,e,0)}get fillColor(){return this.fill.color}get strokeColor(){return this.stroke.color}get strokeWidth(){return this.stroke.width}toJSONObject(){return{fill:{color:this.fillColor.toJSON()},stroke:{width:this.strokeWidth,color:this.strokeColor.toJSON()}}}},Tl={type:"none"},Mr=class{constructor(e){l(this,"type","laserline");l(this,"_style");l(this,"width");l(this,"enabledColor");l(this,"disabledColor");let t=e!=null?e:D.LaserlineViewfinder.defaultStyle;this._style=D.LaserlineViewfinder.styles[t].style,this.width=D.LaserlineViewfinder.styles[t].width,this.enabledColor=D.LaserlineViewfinder.styles[t].enabledColor,this.disabledColor=D.LaserlineViewfinder.styles[t].disabledColor}get style(){return this._style}toJSONObject(){return{type:this.type,style:this.style,width:this.width.toJSONObject(),disabledColor:this.disabledColor.toJSON(),enabledColor:this.enabledColor.toJSON()}}},_r=class{constructor(e,t){l(this,"type","rectangular");l(this,"_style");l(this,"_lineStyle");l(this,"_dimming");l(this,"_animation");l(this,"_sizeWithUnitAndAspect");l(this,"color");let r=e!=null?e:D.RectangularViewfinder.defaultStyle;this._style=D.RectangularViewfinder.styles[r].style,this._lineStyle=D.RectangularViewfinder.styles[r].lineStyle,this._dimming=D.RectangularViewfinder.styles[r].dimming,this._animation=D.RectangularViewfinder.styles[r].animation,this.color=D.RectangularViewfinder.styles[r].color,this._sizeWithUnitAndAspect=D.RectangularViewfinder.styles[r].size,t!==void 0&&(this._lineStyle=t)}get sizeWithUnitAndAspect(){return this._sizeWithUnitAndAspect}get style(){return this._style}get lineStyle(){return this._lineStyle}get dimming(){return this._dimming}set dimming(e){this._dimming=e}get animation(){return this._animation}set animation(e){this._animation=e}setSize(e){this._sizeWithUnitAndAspect=ie.sizeWithWidthAndHeight(e)}setWidthAndAspectRatio(e,t){this._sizeWithUnitAndAspect=ie.sizeWithWidthAndAspectRatio(e,t)}setHeightAndAspectRatio(e,t){this._sizeWithUnitAndAspect=ie.sizeWithHeightAndAspectRatio(e,t)}setShorterDimensionAndAspectRatio(e,t){this._sizeWithUnitAndAspect=ie.sizeWithShorterDimensionAndAspectRatio(new F(e,"fraction"),t)}toJSONObject(){return{type:this.type,color:this.color.toJSON(),style:this.style,lineStyle:this.lineStyle,dimming:this.dimming,animation:this.animation?this.animation.toJSONObject():null,size:this.sizeWithUnitAndAspect.toJSONObject()}}},Lr=class{constructor(){l(this,"type","aimer");l(this,"frameColor",D.AimerViewfinder.frameColor);l(this,"dotColor",D.AimerViewfinder.dotColor)}toJSONObject(){return{type:this.type,frameColor:this.frameColor.toJSON(),dotColor:this.dotColor.toJSON()}}};var xr={"scandit-datacapture-sdk-barcode-simd":{bytes:5646813},"scandit-datacapture-sdk-barcode":{bytes:5470762},"scandit-datacapture-sdk-id":{bytes:6531597},"scandit-datacapture-sdk-id-simd":{bytes:6704790}};var ci=(n=>(n.BARCODE="scandit-datacapture-sdk-barcode",n.ID="scandit-datacapture-sdk-id",n.BARCODE_SIMD="scandit-datacapture-sdk-barcode-simd",n.ID_SIMD="scandit-datacapture-sdk-id-simd",n))(ci||{}),Pe=xr;function xa(s){return[...new Uint8Array(s)].map(e=>{let t=e.toString(16);return t.length===1?`0${t}`:t}).join("")}async function di(s,e,t){if(typeof crypto.subtle.digest!="function")return f.log(f.Level.Warn,`Insecure context (see https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts): The hash of the Scandit Data Capture library WASM file found at ${t} could not be verified`),"NOT_VERIFIABLE";try{let r=s instanceof Promise?await s:s,n=await crypto.subtle.digest("SHA-256",r),u=xa(n);return e==null?(f.log(f.Level.Warn,"The library hash is not defined or empty, cannot correctly verify integrity."),"NOT_VERIFIABLE"):u===e?(f.log(f.Level.Debug,"Data Capture library WASM integrity has been verified correctly."),"VALID"):(f.log(f.Level.Warn,`The Scandit Data Capture library WASM file found at ${t} seems invalid: expected file hash doesn't match (received: ${u}, expected: ${e}). Please ensure the correct Scandit Data Capture file (with correct version) is retrieved.`),"INVALID")}catch(r){return"NOT_VERIFIABLE"}}var ui=new Map([["br",4.4],["gzip",2.9],["none",1]]);function Ia(s){var r;let e="content-encoding";if(s==null||s.get(e)==null)return ui.get("none");let t=new Set(((r=s.get(e))!=null?r:"").split(",").map(n=>n.trim()));for(let[n,u]of ui)if(t.has(n))return u;return ui.get("none")}function Da(s){var r,n;if(s==null)return 0;let e=(r=Ia(s))!=null?r:1,t=Number.parseInt((n=s.get("content-length"))!=null?n:"0",10);return Number.isNaN(t)?0:Math.floor(t*e*100)/100}function Ea(s){let{pathname:e}=new URL(s);return e.endsWith(`${"scandit-datacapture-sdk-id"}.wasm`)?Pe["scandit-datacapture-sdk-id"].bytes:e.endsWith(`${"scandit-datacapture-sdk-barcode"}.wasm`)?Pe["scandit-datacapture-sdk-barcode"].bytes:e.endsWith(`${"scandit-datacapture-sdk-barcode-simd"}.wasm`)?Pe["scandit-datacapture-sdk-barcode-simd"].bytes:e.endsWith(`${"scandit-datacapture-sdk-id-simd"}.wasm`)?Pe["scandit-datacapture-sdk-id-simd"].bytes:0}var Oa=(s,e)=>{let t=Da(e);return t===0?Ea(s):t};function Na(s,e,{onProgress:t,onError:r,onComplete:n}){let{body:u,status:m,statusText:h,headers:v}=e.clone();if(!u)return e;let b=Oa(s,v),i=0,a=0,o=u.getReader(),c=new ReadableStream({async start(d){async function g(){try{let{done:p,value:S}=await o.read();if(p){d.close(),t==null||t({percentage:100,loadedBytes:i,privateUri:s}),n==null||n({percentage:100,loadedBytes:i,privateUri:s});return}i+=S.length,b>0&&S.length>0&&a<100?(a=Number((i/b*100).toFixed(2)),t==null||t({percentage:a,loadedBytes:i,privateUri:s})):b===0&&S.length>0&&(t==null||t({percentage:null,loadedBytes:i,privateUri:s})),d.enqueue(S),await g()}catch(p){throw r==null||r({error:p}),p}}return g()}});return new Response(c,{headers:new Headers(v),status:m,statusText:h})}async function mi({wasmURI:s,awaitFullResponse:e,onProgress:t}){let r=await fetch(s);if(!r.ok)throw new Error(`HTTP status code is not ok: ${r.status}, ${r.statusText}`);return new Promise((n,u)=>{let m=Na(s,r,{onProgress:t,onError:({error:h})=>{u(h)},onComplete:()=>{e&&n(m)}});e||n(m)})}function Ir(s,e,t,r,n){async function u(h){try{let b=await(h!=null?h:await mi({wasmURI:e,awaitFullResponse:!0,onProgress:n})).arrayBuffer();di(b,t,e);let i=await self.WebAssembly.instantiate(b,s);r(i.instance,i.module)}catch(v){f.log(f.Level.Error,v),f.log(f.Level.Error,`Couldn't instantiate Scandit SDK DataCapture library at ${e}, did you configure the path for it correctly?`)}}async function m(){let h;try{h=await mi({wasmURI:e,awaitFullResponse:!1,onProgress:n}),di(h.clone().arrayBuffer(),t,e);let v=await self.WebAssembly.instantiateStreaming(h,s);r(v.instance,v.module);return}catch(v){f.log(f.Level.Warn,v),f.log(f.Level.Warn,"WebAssembly streaming compile failed. Falling back to ArrayBuffer instantiation (this will make things slower)"),u((h==null?void 0:h.bodyUsed)===!0?void 0:h)}}typeof self.WebAssembly.instantiateStreaming=="function"?m():u()}async function pi(s,e,t,r){return new Promise((n,u)=>{s().then(n).catch(m=>{let h=e*2;if(h>t){u(m);return}r(m),self.setTimeout(()=>{pi(s,h,t,r).then(n).catch(u)},e)})})}var _t=class{constructor(){l(this,"promise");l(this,"resolve");l(this,"reject");this.promise=new Promise((e,t)=>{this.reject=t,this.resolve=e})}};async function Dr(s){let e,{preloading:t,writableDataPathPreload:r,writableDataPath:n}=s,u=Promise.resolve(),m=!1,h=!1;async function v(){let a="FILE_DATA",o,c,d,g,p;function S(){clearTimeout(p),d.result.close(),g.result.close(),o(0)}function C(){try{let _=[],j=d.result.transaction(a,"readonly");j.addEventListener("error",S),j.addEventListener("abort",S);let $=j.objectStore(a).openCursor();$.onsuccess=()=>{let Z=$.result;if(Z==null)try{let P=0,I=g.result.transaction(a,"readwrite"),X=I.objectStore(a);I.addEventListener("error",S),I.addEventListener("abort",S),I.oncomplete=()=>{clearTimeout(p),d.result.close(),g.result.close(),o(P)};for(let ee of _){let K=X.count(ee.primaryKey);K.onsuccess=()=>{K.result===0&&(++P,X.add(ee.value,ee.primaryKey))},clearTimeout(p),p=self.setTimeout(()=>{f.log(f.Level.Warn,"IndexedDB database is blocked! Resetting Scandit Data Capture library..."),c(new G({name:"BlockedIndexedDB",message:"IndexedDB database is blocked"}))},500)}}catch(P){S.call({error:P})}else _.push({value:Z.value,primaryKey:Z.primaryKey.toString().replace(`${r}/`,`${n}/`)}),Z.continue()},$.onerror=S}catch(_){S.call({error:_})}}return new Promise((_,j)=>{o=_,c=j,d=indexedDB.open(r),d.onupgradeneeded=()=>{try{d.result.createObjectStore(a)}catch($){}},d.onsuccess=()=>{if(!Array.from(d.result.objectStoreNames).includes(a)){_(0);return}g=indexedDB.open(n),g.onupgradeneeded=()=>{try{g.result.createObjectStore(a)}catch($){}},g.onsuccess=()=>{C()},g.onblocked=g.onerror=S},d.onblocked=d.onerror=S})}async function b(a,o){if(e!=null)return m=!0,new Promise((c,d)=>{(!t&&a?v():Promise.resolve(0)).then(g=>{if(!t&&a&&!o&&g===0){m=!1,c();return}e(a,p=>{if(m=!1,p!=null){d(p);return}c()})}).catch(d)})}async function i(a,o=!1,c=!1){return(!h||c)&&(m?(h=!0,u=u.then(async()=>(h=!1,b(a,o)))):u=b(a,o)),u}e=FS.syncfs,FS.syncfs=(a,o)=>{let c=o;o=d=>{c(d)},i(a).then(o).catch(o)};try{FS.mkdir(n)}catch(a){if(a.code!=="EEXIST")throw e=void 0,a}return FS.mount(IDBFS,{},n),i(!0,!0)}var Lt=class{constructor(e,t){l(this,"lastUsedModuleMirrorAxis");l(this,"context");l(this,"MAX_NUMBER_OF_IMAGES_IN_FRAME_DATA_POOL",10);l(this,"libraryLoadingPromise");l(this,"writableDataPath");l(this,"resourcePath");l(this,"_isDrawLoopRunning",!1);l(this,"redrawInterval",1e3/30);l(this,"redrawRequests",[]);l(this,"loopTimeoutId");l(this,"contextDeserializer");l(this,"imageFrameSource");l(this,"view");l(this,"lastFrameCounter",-1);l(this,"frameDataPool",new Map);l(this,"moduleHandler");l(this,"workerFunctions");this.moduleHandler=e,this.workerFunctions=t,this._loadProgressCallback=this._loadProgressCallback.bind(this)}_loadProgressCallback(e){this.workerFunctions.postMessage({type:"loadLibraryProgress",payload:e})}get Module(){return this.moduleHandler.get()}loadLibrary(e){return this.libraryLoadingPromise!=null?this.libraryLoadingPromise:(this.libraryLoadingPromise=this.setup(e.libraryLocation,e.locationPath,e.preloadEngine,e.writableDataPathOverride),this.libraryLoadingPromise)}createContext(e){let t=this.getModeDeserializers();this.contextDeserializer=new this.Module.DataCaptureContextDeserializer(this.writableDataPath,e.deviceId,e.context.deviceModelName,e.domain,t,e.delayedRegistration,e.highEndBlurryRecognition,this.resourcePath);let r=this.contextDeserializer.contextFromJson(JSON.stringify(e.context)),n=r.getView();this.context=r.getContext();let u=this.Module.DataCaptureContextListener.extend("DataCaptureContextListener",{didChangeStatus:(h,v)=>{this.contextDidChangeStatus(JSON.parse(v.toJson()))},didStartObservingContext:()=>{this.didStartObservingContext()}}),m=new u;this.context.addListener(m),m.delete(),this.setView(n)}getModeDeserializers(){return new this.Module.VectorDataCaptureModeDeserializer}setFrameSource(e){var t;this.lastUsedModuleMirrorAxis=this.mapMirrorAxisOnModule(e),(t=this.imageFrameSource)==null||t.delete(),this.imageFrameSource=new this.Module.ImageBufferFrameSource(this.lastUsedModuleMirrorAxis),this.context.setFrameSource(this.imageFrameSource)}processFrame(e){var n;if(this.context==null)return{payload:e,transferables:[e.data.buffer]};let t=e.data,r=this.Module.allocateUint8Array(t.byteLength);return this.Module.HEAPU8.set(t,r),(n=this.imageFrameSource)==null||n.outputFrame(r,e.width,e.height,this.Module.ImageBufferFormat.Rgba8888),{payload:e,transferables:[e.data.buffer]}}updateContext(e){if(this.context!=null&&this.contextDeserializer!=null){let t=this.contextDeserializer.updateContextFromJson(this.context,this.view,JSON.stringify(e.context));this.context=t.getContext();let r=t.getView();r!=null&&e.view!=null&&r.setViewSize(e.view.width,e.view.height),this.setView(r),f.log(f.Level.Debug,"context updated",e)}}reportCameraProperties(e){this.context.setCameraProperties(e.deviceId,e.isFrontFacing,e.hasAutofocus)}dispose(){this.context.dispose()}extractCentaurusLicense(e){return{payload:{centaurus:{licenseKey:this.Module.LicenseUtils.getBlinkIdLicenseKey(e)}}}}convertToLoadableFrameData(e){let t=this.getNextFrameId();this.frameDataPool.set(t,new Uint8ClampedArray(e.getFrameData()));let r=this.lastUsedModuleMirrorAxis!=null?this.lastUsedModuleMirrorAxis!==this.Module.Axis.None:!1;return{frameId:t,width:e.getWidth(),height:e.getHeight(),isFrameSourceMirrored:r}}requestFrameData(e){let t=this.frameDataPool.get(e);return t==null?{payload:{data:null}}:{payload:{data:t},transferables:[t.buffer]}}deleteFrameData(e){this.frameDataPool.delete(e)}getNextFrameId(){return this.lastFrameCounter++,this.lastFrameCounter>=this.MAX_NUMBER_OF_IMAGES_IN_FRAME_DATA_POOL&&(this.lastFrameCounter=0),this.lastFrameCounter}setView(e){this.view=e,this.setViewRefreshHandler(e),e==null&&(this.isDrawLoopRunning=!1,this.sendViewRefreshCommands([]))}contextDidChangeStatus(e){var t,r;if(e.code===260){let n;if((t=location.href)!=null&&t.startsWith("blob:null/"))n="localhost";else{let u=((r=location.pathname)==null?void 0:r.length)>1&&!location.pathname.startsWith("/");n=new URL(u?location.pathname:location.origin).hostname}n.startsWith("[")&&n.endsWith("]")&&(n=n.slice(1,-1)),e.message=e.message.replace("domain name",`domain name (${n})`)}this.workerFunctions.postMessage({type:"contextDidChangeStatus",payload:e})}didStartObservingContext(){this.workerFunctions.postMessage({type:"didStartObservingContext"})}setViewRefreshHandler(e){if(e==null||e.isViewRefreshHandlerSet)return;let t=this.Module.NeedsRedrawDelegate.extend("NeedsRedrawDelegate",{setNeedsRedrawIn:this.scheduleRedraw.bind(this,e)}),r=new t;e.setNeedsRedrawDelegate(r),e.isViewRefreshHandlerSet=!0}scheduleRedraw(e,t){this.addRedrawRequest(t),this.isDrawLoopRunning||this.startDrawLoop(e)}get isDrawLoopRunning(){return this._isDrawLoopRunning}set isDrawLoopRunning(e){this._isDrawLoopRunning=e,!e&&typeof this.loopTimeoutId=="number"&&(clearTimeout(this.loopTimeoutId),this.loopTimeoutId=void 0)}addRedrawRequest(e){this.redrawRequests.push(Math.round(performance.now())+e),this.redrawRequests.sort((t,r)=>t-r)}startDrawLoop(e){this.isDrawLoopRunning=!0;let t=u=>this.redrawRequests.length>0&&this.redrawRequests[0]<=u,r=u=>{for(;this.redrawRequests.length>0&&this.redrawRequests[0]<=u;)this.redrawRequests.shift()},n=()=>{this.loopTimeoutId=setTimeout(()=>{if(!this.isDrawLoopRunning)return;let u=performance.now();t(u)&&(r(u),e.draw(),this.sendViewRefreshCommands(JSON.parse(e.getDrawCommands()))),n()},this.redrawInterval)};n()}sendViewRefreshCommands(e){this.workerFunctions.postMessage({type:"draw",payload:e})}getWasmDynamicLibraries(e){return this.getWasmSideModuleFileName()==null?[]:[`${e.replace(/\/[^/]*$/,"/")}${this.getWasmSideModuleFileName()}`]}getWasmCoreExpectedHash(e){return e?globalThis.SDC_WASM_CORE_SIMD_HASH:""}getWasmCoreFileName(e){return e?globalThis.SDC_WASM_CORE_SIMD_FILE_NAME:""}getWasmSideModuleFileName(){return""}async setup(e,t,r,n){var Z;function u(){let P=this.moduleHandler.get(),I=P.DataDecoding.extend("DataDecoding",{decode(X,ee){try{let K=JSON.parse(ee),re=[];for(let z of K){let A=new TextDecoder(z.ianaName,{fatal:!0});re.push(A.decode(X.slice(z.startIndex,z.endIndex)))}return re.join("")}catch(K){return""}}});P.setDataDecoding(new I)}let m=!1,h=!1,v="/scandit_sync_folder_preload",b="/scandit_sync_folder",i="resources";r?this.writableDataPath=v:n!=null?(f.log(f.Level.Debug,`IndexedDB database name override in use to recover from blocked standard database: ${n}`),this.writableDataPath=n):this.writableDataPath=b,this.resourcePath=`${e}${i}/`,self.path=t;let{resolve:a,reject:o,promise:c}=new _t,d=()=>{h&&m&&(u.apply(this),this.moduleHandler.get().callMain(),a())},g=ct.sdkVersion();if(g==="")throw new G({name:"Invalid library version",message:"Library version is not defined or empty, cannot generate proper path to library files."});let p=Ni(),S=Oi(g,e,this.getWasmCoreFileName(p)),{jsURI:C}=S,{wasmURI:_}=S;this.moduleHandler.set({canvas:(Z=this.workerFunctions.getOffscreenCanvas())!=null?Z:{getContext:()=>null},instantiateWasm:(P,I)=>(Ir(P,_,this.getWasmCoreExpectedHash(p),I,this._loadProgressCallback),{}),dynamicLibraries:this.getWasmDynamicLibraries(_),locateFile:P=>e+P,noInitialRun:!0,preRun:[async()=>{try{await Dr({writableDataPathPreload:v,writableDataPath:this.writableDataPath,preloading:r})}catch(P){if(P.name==="BlockedIndexedDB"){o(P.toString());return}f.log(f.Level.Debug,"No IndexedDB support, some data will not be persisted:",P)}h=!0,d()}],onRuntimeInitialized:()=>{m=!0,d()}});async function j(P){var X;async function I(){return importScripts(P)}try{await pi(I,250,4e3,K=>{f.log(f.Level.Warn,K),f.log(f.Level.Warn,`Couldn't retrieve Scandit Data Capture library at ${P}, retrying...`)});let ee=(X=self.SDC_WASM_JS_VERSION)!=null?X:"undefined";return ee!==g&&f.log(f.Level.Warn,`The Scandit Data Capture library JS file found at ${P} seems invalid: expected version doesn't match (received: ${ee}, expected: ${g}). Please ensure the correct Scandit Data Capture file (with correct version) is retrieved.`),!0}catch(ee){return f.log(f.Level.Error,ee),!1}}return await j(C)||o(`Couldn't retrieve Scandit Data Capture library at ${C}, did you configure the path for it correctly?`),c}mapMirrorAxisOnModule(e){switch(e){case"None":return this.Module.Axis.None;case"X":return this.Module.Axis.X;case"Y":return this.Module.Axis.Y;default:return this.Module.Axis.None}}};function xt(s){return typeof s=="object"&&s!=null}function Er(s){if(typeof s=="string")return s;if(xt(s)){if(typeof s.message=="string")return s.message}else if(typeof(s==null?void 0:s.toString)=="function")return s.toString();return"unknow error"}function ec(s){let e=new Set,t;return{when(r,n){return e.add([r,n]),this},otherwise(r){return t=r,this},run(){for(let[r,n]of e)if(r(s))return n(s);if(typeof t!="function")throw new Error("Math case miss default handler or is not a function");return t(s)}}}var ka="js/worker.js",Or=ka,It=class{constructor(e,t){l(this,"dataCaptureInstance");l(this,"workerSelf");this.workerSelf=e,this.dataCaptureInstance=new Lt(t,{postMessage:this.postMessage.bind(this),getOffscreenCanvas:this.getOffscreenCanvas.bind(this)}),this.listenToMessages()}listenToMessages(){this.workerSelf.onmessage=this.onMessage.bind(this)}postMessage(e,t){this.workerSelf.postMessage(e,t!=null?t:[])}getOffscreenCanvas(){if(typeof this.workerSelf.OffscreenCanvas=="function")return new this.workerSelf.OffscreenCanvas(32,32)}hasPayload(e){return xt(e)&&"payload"in e}hasTransferables(e){return xt(e)&&Array.isArray(e.transferables)}async respondWith(e,t,r){let n=null,u;try{u=r(),u instanceof Promise&&(u=await u)}catch(h){u=void 0,n=Er(h)}let m={type:"workerTaskId",command:e,id:t,payload:this.hasPayload(u)?u.payload:void 0};n!=null&&(m.error=n),this.postMessage(m,this.hasTransferables(u)?u.transferables:[])}onMessage(e){switch(e.data.command){case"loadLibrary":{let{data:t}=e;this.respondWith(t.command,t.id,()=>this.dataCaptureInstance.loadLibrary({libraryLocation:t.libraryLocation,locationPath:t.locationPath,preloadEngine:t.preloadEngine,writableDataPathOverride:t.writableDataPathOverride}))}break;case"createContext":{let{data:t}=e;this.respondWith(t.command,t.id,()=>this.dataCaptureInstance.createContext({context:t.context,deviceId:t.deviceId,domain:t.domain,delayedRegistration:t.delayedRegistration,highEndBlurryRecognition:t.highEndBlurryRecognition}))}break;case"setFrameSource":{let{data:t}=e;this.respondWith(t.command,t.id,()=>this.dataCaptureInstance.setFrameSource(t.mirrorAxis))}break;case"processFrame":{let{data:t}=e;this.respondWith(t.command,t.id,()=>this.dataCaptureInstance.processFrame({data:t.data,width:t.width,height:t.height}))}break;case"requestFrameData":{let{data:t}=e;this.respondWith(t.command,t.id,()=>this.dataCaptureInstance.requestFrameData(t.frameId))}break;case"deleteFrameData":{let{data:t}=e;this.respondWith(t.command,t.id,()=>{this.dataCaptureInstance.deleteFrameData(t.frameId)})}break;case"updateContext":{let{data:t}=e;this.respondWith(t.command,t.id,()=>this.dataCaptureInstance.updateContext(t))}break;case"dispose":this.respondWith(e.data.command,e.data.id,()=>this.dataCaptureInstance.dispose());break;case"reportCameraProperties":{let{data:t}=e;this.respondWith(t.command,t.id,()=>this.dataCaptureInstance.reportCameraProperties(t))}break;case"setLogLevel":{let{data:t}=e;this.respondWith(t.command,t.id,()=>{f.setLevel(t.level)})}break;case"extractCentaurusLicense":{let{data:t}=e;this.respondWith(t.command,t.id,()=>this.dataCaptureInstance.extractCentaurusLicense(t.licenseKey))}break;default:return vt(e.data),!1}return!0}},oc=new It(self,{get:()=>self.Module,set:s=>{self.Module=s}});var Nr=class{constructor(e,t,r){l(this,"_dataCaptureWorker");l(this,"libraryLocation");l(this,"isPreloadEngine");l(this,"workerCommandId",1);l(this,"workerTasks",new Map);l(this,"workerListeners",[]);l(this,"workerMessageListener");this.libraryLocation=e,this.isPreloadEngine=t,this.workerMessageListener=this.onWorkerMessage.bind(this),this.dataCaptureWorker.addEventListener("message",this.workerMessageListener),typeof r=="function"&&this.addWorkerListener(n=>{n.type==="loadLibraryProgress"&&r(n.payload)})}static async create(e){var r,n;let t=new this(e.libraryLocation,(r=e.preloadEngine)!=null?r:!1,e.loadProgressNotifier);return await t.workerCommand("setLogLevel",{level:(n=e.logLevel)!=null?n:f.Level.Debug}),await t.load(),t}async load(){var e;try{await this.workerCommand("loadLibrary",{libraryLocation:this.libraryLocation,locationPath:window.location.pathname,preloadEngine:this.isPreloadEngine,writableDataPathOverride:(e=localStorage.getItem("scanditWritableDataPathOverride"))!=null?e:void 0})}catch(t){if(t!=null&&typeof t=="object"&&typeof t.error=="string"&&t.error.includes("BlockedIndexedDB"))return await this.terminateDataCaptureWorker(!1),this.dataCaptureWorker.addEventListener("message",this.workerMessageListener),localStorage.setItem("scanditWritableDataPathOverride",`/scandit_sync_folder_${[...crypto.getRandomValues(new Uint32Array(2))].map(r=>r.toString(32)).join("")}`),this.load();throw t}}async workerCommand(e,t,r){return new Promise((n,u)=>{let m=this.workerCommandId++;this.workerTasks.set(m,{resolve:n,reject:u,command:e});let h=ae(Q({},t),{command:e,id:m});this.dataCaptureWorker.postMessage(h,r)})}get dataCaptureWorker(){var e;return(e=this._dataCaptureWorker)!=null||(this._dataCaptureWorker=new Worker(Or)),this._dataCaptureWorker}async terminateDataCaptureWorker(e=!0){var t,r;e&&await this.workerCommand("dispose",{}),(t=this._dataCaptureWorker)==null||t.removeEventListener("message",this.workerMessageListener),(r=this._dataCaptureWorker)==null||r.terminate(),this._dataCaptureWorker=void 0}addWorkerListener(e){this.workerListeners.push(e)}removeWorkerListener(e){!this.workerListeners.includes(e)||this.workerListeners.splice(this.workerListeners.indexOf(e),1)}onWorkerMessage(e){let t=e.data;if(t.type==="workerTaskId"&&typeof t.id=="number"){let{id:r}=t,n=this.workerTasks.get(r);t.error!=null?n==null||n.reject(t):n==null||n.resolve(t.payload),this.workerTasks.delete(r)}else for(let r of this.workerListeners)r(t)}};var Et="unconfigured",Dt,qt,be,et=Ti;async function Pa(){Et="unconfigured",be!=null&&be.terminateDataCaptureWorker&&await be.terminateDataCaptureWorker(!0)}function hi({percentage:s}){for(let e of at.values())e.setProgressBarPercentage(s)}async function Cc(s){var r,n;if(Et!=="unconfigured"&&Dt!=null)return Dt;let e=ae(Q({},s),{libraryLocation:Ei((r=s.libraryLocation)!=null?r:"/"),logLevel:(n=s.logLevel)!=null?n:f.Level.Debug,loadProgressNotifier:et.notify.bind(et)});qt=e.licenseKey,f.setLevel(e.logLevel);async function t(){if(Et="started",et.subscribe(hi),e.licenseKey==null||e.licenseKey.trim().length<64)throw new G({name:"NoLicenseKeyError",message:"No license key provided"});let u=B.checkBrowserCompatibility();if(!u.fullSupport&&!u.scannerSupport)throw new Ae(u);if(e.moduleLoaders.length!==1)throw new G({name:"InvalidModuleLoader",message:`Exactly one module loader must be passed to configure(). ${e.moduleLoaders.length} received.`});let[m]=e.moduleLoaders;be=await m.load(e).catch(h=>{throw h}),Et="done",et.unsubscribe(hi)}return Dt=t().catch(u=>{throw Pa(),et.unsubscribe(hi),u}),Dt}function Ac(s){be=s}export{Lr as AimerViewfinder,ha as Anchor,B as BrowserHelper,Mt as Brush,ve as Camera,st as CameraAccess,Ze as CameraFOVSwitchControl,Yt as CameraPosition,me as CameraSettings,qe as CameraSwitchControl,Y as Color,he as ContextStatus,$t as DataCaptureContext,lt as DataCaptureContextSettings,G as DataCaptureError,Nr as DataCaptureLoader,ct as DataCaptureVersion,L as DataCaptureView,$r as Direction,Ut as Feature,wt as Feedback,ta as FocusGestureStrategy,Ve as FrameSourceState,Mr as LaserlineViewfinder,Kr as LaserlineViewfinderStyle,f as Logger,qr as LogoStyle,ye as MarginsWithUnit,Vt as MeasureUnit,Tl as NoViewfinder,F as NumberWithUnit,Pi as Orientation,de as Point,fe as PointWithUnit,Qt as PrivateMirrorAxis,Xs as PrivateNoneLocationSelection,Ee as Quadrilateral,pr as RadiusLocationSelection,Ri as Rect,ki as RectWithUnit,Re as RectangularLocationSelection,_r as RectangularViewfinder,Ne as RectangularViewfinderAnimation,Xr as RectangularViewfinderLineStyle,Zr as RectangularViewfinderStyle,yt as SingleImageUploader,ke as SingleImageUploaderSettings,Oe as Size,Be as SizeWithAspect,we as SizeWithUnit,ie as SizeWithUnitAndAspect,Qr as SizingMode,At as Sound,ot as SwipeToZoom,nt as TapToFocus,Gt as TorchState,$e as TorchSwitchControl,Ke as Vibration,Ui as VideoResolution,ci as WasmModuleNames,Pe as WasmModulesSizes,It as WorkerMain,vt as assertUnreachable,ls as assertUnreachableThrowException,Cc as configure,Et as configurePhase,Dt as configurePromise,$s as convertToPublicFrameData,xt as isObject,et as loadingStatus,be as mainDataCaptureLoader,ec as match,Pa as resetConfigure,Ac as setMainDataCaptureLoader,Er as unknownErrorToString,qt as userLicenseKey};
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
//# sourceMappingURL=index.js.map
